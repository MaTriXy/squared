!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).squared={})}(this,function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e){this.wrapped=e}function r(e){var n,r;function i(n,r){try{var o=e[n](r),u=o.value,l=u instanceof t;Promise.resolve(l?u.wrapped:u).then(function(e){l?i("next",e):a(o.done?"return":"normal",e)},function(e){i("throw",e)})}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(a,o){var u={key:e,arg:t,resolve:a,reject:o,next:null};r?r=r.next=u:(n=r=u,i(e,t))})},"function"!=typeof e.return&&(this.return=void 0)}function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};function a(e,n){return o(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t}(e,n)||u()}function o(e){if(Array.isArray(e))return e}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function h(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return e.sort(function(e,t){for(var i=0;i<r.length;i++){var a=s(e,t,r[i],!0);if(a&&a[0]!==a[1])return 1===n?a[0]>a[1]?1:-1:a[0]<a[1]?1:-1}return 0})}function s(e,n,t,r){for(var i=t.split("."),a=e,o=n,u=Array.isArray(c=i),l=0,c=u?c:c[Symbol.iterator]();;){var h;if(u){if(l>=c.length)break;h=c[l++]}else{if((l=c.next()).done)break;h=l.value}if(void 0===a[h]||void 0===o[h])return(void 0!==a[h]||void 0!==o[h])&&(void 0!==a[h]?[1,0]:[0,1]);a=a[h],o=o[h]}if(r){var s=parseInt(a),f=parseInt(o);if(!isNaN(s)&&!isNaN(f))return[s,f];if(!isNaN(s))return[1,0];if(!isNaN(f))return[0,1]}return[a,o]}var f={CSS_URL:/url\("?#?(.*?)"?\)/,URI:/^[A-Za-z]+:\/\//,UNIT:/^(?:\s*(-?[\d.]+)(px|em|ch|pc|pt|vw|vh|vmin|vmax|mm|cm|in))+$/};function d(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?e.charAt(0)[n?"toUpperCase":"toLowerCase"]()+e.substring(1)[n?"toLowerCase":"toString"]():""}function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",t=(e=e.replace(RegExp("^".concat(n,"+")),"")).match(RegExp("(".concat(n,"[a-z])"),"g"));return t&&t.forEach(function(n){return e=e.replace(n,n[1].toUpperCase())}),e}function v(e){return e&&parseInt(e)||0}function p(e,n,t){if(e){if(E(e))return"".concat(Math.round(e),"px");if((e=e.trim()).endsWith("px")||e.endsWith("%")||"auto"===e)return e;var r=e.match(f.UNIT);if(r){var i=parseFloat(r[1]);switch(r[2]){case"em":case"ch":i*=t||16;break;case"pc":i*=12;case"pt":i*=4/3;break;case"vw":i*=window.innerWidth/100;break;case"vh":i*=window.innerHeight/100;break;case"vmin":i*=Math.min(window.innerWidth,window.innerHeight)/100;break;case"vmax":i*=Math.max(window.innerWidth,window.innerHeight)/100;break;case"mm":i/=10;case"cm":i/=2.54;case"in":i*=n||96}return"".concat(i,"px")}}return"0px"}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<1?"".concat(0===n?Math.round(100*e):parseFloat((100*e).toFixed(n)),"%"):"100%"}function m(e){return"".concat(isNaN(e=parseFloat(e))?0:Math.round(e),"px")}function F(e){return isNaN(e=parseFloat(e))?"0%":e<1?x(e):"".concat(Math.round(e),"%")}function y(e,n){return(e&n)===n}function E(e){return"number"==typeof e||/^-?\d+(\.\d+)?$/.test(e.trim())}function A(e){return"string"==typeof e&&""!==e}function b(e){return Array.isArray(e)&&e.length>0}function C(e){return/^\d+(\.\d+)?%$/.test(e)}function D(e,t,r){var i,a=!1;if(e&&"object"===n(e)){i=e;var o=t.split("."),u=0;do{i=i[o[u]]}while(null!=i&&++u<o.length&&"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i);a=null!=i&&u===o.length}switch(r){case"object":return a?i:null;case"number":return a&&!isNaN(parseInt(i))?parseInt(i):0;case"boolean":return a&&!0===i;default:return a?""+i:""}}function B(e){if(!f.URI.test(e)){var n=location.pathname.split("/");if(n.pop(),"/"===e.charAt(0))e=location.origin+e;else if(e.startsWith("../")){var t,r=[],i=0;e.split("/").forEach(function(e){".."===e?i++:r.push(e)}),(t=n=n.slice(0,Math.max(n.length-i,0))).push.apply(t,r),e=location.origin+n.join("/")}else e="".concat(location.origin+n.join("/"),"/").concat(e)}return e}function S(e,n){return e?e.replace(RegExp("^".concat(n,"+"),"g"),""):""}function k(e,n){return e?e.replace(RegExp("".concat(n,"+$"),"g"),""):""}function w(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t").repeat(e)}function I(e){return e.length?Math.min.apply(null,e):Number.MAX_VALUE}function M(e){return e.length?Math.max.apply(null,e):-1*Number.MAX_VALUE}function N(e){return null!=e&&""!==(""+e).trim()}function R(e,n){return e===n||Math.floor(e)===Math.floor(n)||Math.ceil(e)===Math.ceil(n)||Math.ceil(e)===Math.floor(n)||Math.floor(e)===Math.ceil(n)}function L(e,n){for(var t=[],r=[],i=0;i<e.length;i++){var a=e[i];n(a,i)?t.push(a):r.push(a)}return[t,r]}var O=Object.freeze({REGEX_PATTERN:f,formatString:function(e){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++)e=e.replace("{".concat(n,"}"),n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return e},capitalize:d,convertUnderscore:function(e){var n=(e=e.charAt(0).toLowerCase()+e.substring(1)).match(/([a-z][A-Z])/g);return n&&n.forEach(function(n){return e=e.replace(n,"".concat(n[0],"_").concat(n[1].toLowerCase()))}),e},convertCamelCase:g,convertWord:function(e){return e?e.replace(/[^\w]/g,"_").trim():""},convertInt:v,convertFloat:function(e){return e&&parseFloat(e)||0},convertPX:p,convertPercent:x,convertAlpha:function e(n){for(var t="";n>=l.length;){var r=Math.floor(n/l.length);r>1&&r<=l.length?(t+=l.charAt(r-1),n-=r*l.length):r>l.length&&(t+=e(r*l.length),n-=r*l.length);var i=n%l.length;t+=l.charAt(i),n-=i+l.length}return t=l.charAt(n)+t},convertRoman:function(e){for(var n=(""+e).split(""),t="",r=3;r--;)t=(c[parseInt(n.pop()||"")+10*r]||"")+t;return"M".repeat(parseInt(n.join("")))+t},convertEnum:function(e,n,t){for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i];if(e===n[a])return t[a]}return""},formatPX:m,formatPercent:F,hasBit:y,isNumber:E,isString:A,isArray:b,isUnit:function(e){return f.UNIT.test(e)},isPercent:C,includes:function(e,n){return!!e&&e.split(arguments.length>2&&void 0!==arguments[2]?arguments[2]:",").map(function(e){return e.trim()}).includes(n)},optional:D,optionalAsObject:function(e,n){return D(e,n,"object")},optionalAsString:function(e,n){return D(e,n,"string")},optionalAsNumber:function(e,n){return D(e,n,"number")},optionalAsBoolean:function(e,n){return D(e,n,"boolean")},resolvePath:B,trimNull:function(e){return e?e.trim():""},trimString:function(e,n){return e?S(k(e,n),n):""},trimStart:S,trimEnd:k,repeat:w,indexOf:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<t.length;i++){var a=e.indexOf(t[i]);if(-1!==a)return a}return-1},lastIndexOf:function(e){return e.substring(e.lastIndexOf(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/")+1)},minArray:I,maxArray:M,hasSameValue:function(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];for(var a=0;a<r.length;a++){var o=s(e,n,r[a],!1);if(!o||o[0]!==o[1])return!1}return!0},searchObject:function(e,t){var r=[];if("object"===n(t))for(var i in t){var a=t[i];N(e[a])&&r.push([a,e[a]])}else{var o=function(e){return e===t};for(var u in/^\*.+\*$/.test(t)?o=function(e){return-1!==e.indexOf(t.replace(/\*/g,""))}:/^\*/.test(t)?o=function(e){return e.endsWith(t.replace(/\*/,""))}:/\*$/.test(t)&&(o=function(e){return e.startsWith(t.replace(/\*/,""))}),e)o(u)&&r.push([u,e[u]])}return r},hasValue:N,withinRange:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n>=e-t&&n<=e+t},withinFraction:R,assignWhenNull:function(e,n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])},defaultWhenNull:function(e){for(var t=e,r=0;r<(arguments.length<=1?0:arguments.length-1)-1;r++){var i=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];if(r===(arguments.length<=1?0:arguments.length-1)-2)N(t[i])||(t[i]=r+1+1<1||arguments.length<=r+1+1?void 0:arguments[r+1+1]);else{if(!A(i))break;if("object"===n(t[i]))t=t[i];else{if(void 0!==t[i])break;t[i]={},t=t[i]}}}},partition:L,spliceArray:function(e,n){for(var t=0;t<e.length;t++)if(e[t]===n)return e.splice(t,1),!0;return!1},flatArray:function(e){for(var n=e;n.some(function(e){return Array.isArray(e)});)n=[].concat.apply([],n.filter(function(e){return e}));return n},flatMap:function(e,n){return e.map(function(e,t){return n(e,t)}).filter(function(e){return N(e)})},sortAsc:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return h.apply(void 0,[e,1].concat(t))},sortDesc:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return h.apply(void 0,[e,2].concat(t))}}),T=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._children=[],Array.isArray(n)&&this.retain(n)}var n,t,r;return n=e,(t=[{key:Symbol.iterator,value:function(){var e=this._children,n=0;return{next:function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0,value:void 0}}}}},{key:"item",value:function(e,n){return void 0===e||void 0===n?void 0===e?this._children[this._children.length-1]:this._children[e]:e>=0&&e<this._children.length?(this._children[e]=n,n):void 0}},{key:"append",value:function(e){return this._children.push(e),this}},{key:"remove",value:function(e){for(var n=0;n<this._children.length;n++)if(e===this._children[n])return this._children.splice(n,1);return[]}},{key:"contains",value:function(e){return this._children.includes(e)}},{key:"retain",value:function(e){return this._children=e,this}},{key:"duplicate",value:function(){return this._children.slice()}},{key:"clear",value:function(){return this._children.length=0,this}},{key:"each",value:function(e){return this._children.forEach(e),this}},{key:"find",value:function(e,n){return this._children.find("string"==typeof e?function(t){return t[e]===n}:e)}},{key:"filter",value:function(e){return this._children.filter(e)}},{key:"map",value:function(e){return this._children.map(e)}},{key:"flatMap",value:function(e){return this._children.map(e).filter(function(e){return e})}},{key:"partition",value:function(e){return L(this._children,e)}},{key:"sort",value:function(e){return this._children.sort(e),this}},{key:"every",value:function(e){return this.length>0&&this._children.every(e)}},{key:"some",value:function(e){return this._children.some(e)}},{key:"children",get:function(){return this._children}},{key:"length",get:function(){return this._children.length}}])&&i(n.prototype,t),r&&i(n,r),e}(),G={Pink:{hex:"#FFC0CB"},LightPink:{hex:"#FFB6C1"},HotPink:{hex:"#FF69B4"},DeepPink:{hex:"#FF1493"},PaleVioletRed:{hex:"#DB7093"},MediumVioletRed:{hex:"#C71585"},LightSalmon:{hex:"#FFA07A"},Salmon:{hex:"#FA8072"},DarkSalmon:{hex:"#E9967A"},LightCoral:{hex:"#F08080"},IndianRed:{hex:"#CD5C5C"},Crimson:{hex:"#DC143C"},Firebrick:{hex:"#B22222"},DarkRed:{hex:"#8B0000"},Red:{hex:"#FF0000"},OrangeRed:{hex:"#FF4500"},Tomato:{hex:"#FF6347"},Coral:{hex:"#FF7F50"},Orange:{hex:"#FFA500"},DarkOrange:{hex:"#FF8C00"},Yellow:{hex:"#FFFF00"},LightYellow:{hex:"#FFFFE0"},LemonChiffon:{hex:"#FFFACD"},LightGoldenrodYellow:{hex:"#FAFAD2"},PapayaWhip:{hex:"#FFEFD5"},Moccasin:{hex:"#FFE4B5"},PeachPuff:{hex:"#FFDAB9"},PaleGoldenrod:{hex:"#EEE8AA"},Khaki:{hex:"#F0E68C"},DarkKhaki:{hex:"#BDB76B"},Gold:{hex:"#FFD700"},Cornsilk:{hex:"#FFF8DC"},BlanchedAlmond:{hex:"#FFEBCD"},Bisque:{hex:"#FFE4C4"},NavajoWhite:{hex:"#FFDEAD"},Wheat:{hex:"#F5DEB3"},Burlywood:{hex:"#DEB887"},Tan:{hex:"#D2B48C"},RosyBrown:{hex:"#BC8F8F"},SandyBrown:{hex:"#F4A460"},Goldenrod:{hex:"#DAA520"},DarkGoldenrod:{hex:"#B8860B"},Peru:{hex:"#CD853F"},Chocolate:{hex:"#D2691E"},SaddleBrown:{hex:"#8B4513"},Sienna:{hex:"#A0522D"},Brown:{hex:"#A52A2A"},Maroon:{hex:"#800000"},DarkOliveGreen:{hex:"#556B2F"},Olive:{hex:"#808000"},OliveDrab:{hex:"#6B8E23"},YellowGreen:{hex:"#9ACD32"},LimeGreen:{hex:"#32CD32"},Lime:{hex:"#00FF00"},LawnGreen:{hex:"#7CFC00"},Chartreuse:{hex:"#7FFF00"},GreenYellow:{hex:"#ADFF2F"},SpringGreen:{hex:"#00FF7F"},MediumSpringGreen:{hex:"#00FA9A"},LightGreen:{hex:"#90EE90"},PaleGreen:{hex:"#98FB98"},DarkSeaGreen:{hex:"#8FBC8F"},MediumAquamarine:{hex:"#66CDAA"},MediumSeaGreen:{hex:"#3CB371"},SeaGreen:{hex:"#2E8B57"},ForestGreen:{hex:"#228B22"},Green:{hex:"#008000"},DarkGreen:{hex:"#006400"},Aqua:{hex:"#00FFFF"},Cyan:{hex:"#00FFFF"},LightCyan:{hex:"#E0FFFF"},PaleTurquoise:{hex:"#AFEEEE"},Aquamarine:{hex:"#7FFFD4"},Turquoise:{hex:"#40E0D0"},DarkTurquoise:{hex:"#00CED1"},MediumTurquoise:{hex:"#48D1CC"},LightSeaGreen:{hex:"#20B2AA"},CadetBlue:{hex:"#5F9EA0"},DarkCyan:{hex:"#008B8B"},Teal:{hex:"#008080"},LightSteelBlue:{hex:"#B0C4DE"},PowderBlue:{hex:"#B0E0E6"},LightBlue:{hex:"#ADD8E6"},SkyBlue:{hex:"#87CEEB"},LightSkyBlue:{hex:"#87CEFA"},DeepSkyBlue:{hex:"#00BFFF"},DodgerBlue:{hex:"#1E90FF"},Cornflower:{hex:"#6495ED"},SteelBlue:{hex:"#4682B4"},RoyalBlue:{hex:"#4169E1"},Blue:{hex:"#0000FF"},MediumBlue:{hex:"#0000CD"},DarkBlue:{hex:"#00008B"},Navy:{hex:"#000080"},MidnightBlue:{hex:"#191970"},Lavender:{hex:"#E6E6FA"},Thistle:{hex:"#D8BFD8"},Plum:{hex:"#DDA0DD"},Violet:{hex:"#EE82EE"},Orchid:{hex:"#DA70D6"},Fuchsia:{hex:"#FF00FF"},Magenta:{hex:"#FF00FF"},MediumOrchid:{hex:"#BA55D3"},MediumPurple:{hex:"#9370DB"},BlueViolet:{hex:"#8A2BE2"},DarkViolet:{hex:"#9400D3"},DarkOrchid:{hex:"#9932CC"},DarkMagenta:{hex:"#8B008B"},Purple:{hex:"#800080"},RebeccaPurple:{hex:"#663399"},Indigo:{hex:"#4B0082"},DarkSlateBlue:{hex:"#483D8B"},SlateBlue:{hex:"#6A5ACD"},MediumSlateBlue:{hex:"#7B68EE"},White:{hex:"#FFFFFF"},Snow:{hex:"#FFFAFA"},Honeydew:{hex:"#F0FFF0"},MintCream:{hex:"#F5FFFA"},Azure:{hex:"#F0FFFF"},AliceBlue:{hex:"#F0F8FF"},GhostWhite:{hex:"#F8F8FF"},WhiteSmoke:{hex:"#F5F5F5"},Seashell:{hex:"#FFF5EE"},Beige:{hex:"#F5F5DC"},OldLace:{hex:"#FDF5E6"},FloralWhite:{hex:"#FFFAF0"},Ivory:{hex:"#FFFFF0"},AntiqueWhite:{hex:"#FAEBD7"},Linen:{hex:"#FAF0E6"},LavenderBlush:{hex:"#FFF0F5"},MistyRose:{hex:"#FFE4E1"},Gainsboro:{hex:"#DCDCDC"},LightGray:{hex:"#D3D3D3"},Silver:{hex:"#C0C0C0"},DarkGray:{hex:"#A9A9A9"},Gray:{hex:"#808080"},DimGray:{hex:"#696969"},LightSlateGray:{hex:"#778899"},SlateGray:{hex:"#708090"},DarkSlateGray:{hex:"#2F4F4F"},LightGrey:{hex:"#D3D3D3"},DarkGrey:{hex:"#A9A9A9"},Grey:{hex:"#808080"},DimGrey:{hex:"#696969"},LightSlateGrey:{hex:"#778899"},SlateGrey:{hex:"#708090"},DarkSlateGrey:{hex:"#2F4F4F"},Black:{hex:"#000000"}},P=[];for(var U in G){var z=G[U];z.name=U;var X=Y(z.hex);X&&(z.rgba=X,z.hsl=j(z.rgba),P.push(z))}function j(e){var n=e.r,t=void 0===n?0:n,r=e.g,i=void 0===r?0:r,a=e.b,o=void 0===a?0:a,u=Math.min(t/=255,i/=255,o/=255),l=Math.max(t,i,o),c=(l+u)/2,h=c,s=c;if(l===u)c=0,h=0;else{var f=l-u;switch(h=s>.5?f/(2-l-u):f/(l+u),l){case t:c=(i-o)/f+(i<o?6:0);break;case i:c=(o-t)/f+2;break;case o:c=(t-i)/f+4}c/=6}return{h:360*c,s:100*h,l:100*s}}function W(e,n){if(e.hsl&&n.hsl){var t=[e.hsl.h,n.hsl.h],r=t[0],i=t[1];if(r===i){var a=[e.hsl.s,n.hsl.s];if((r=a[0])===(i=a[1])){var o=[e.hsl.l,n.hsl.l];r=o[0],i=o[1]}}return r>=i?1:-1}return 0}function H(e){return"rgb".concat(e.a<255?"a":"","(").concat(e.r,", ").concat(e.g,", ").concat(e.b).concat(e.a<255?", ".concat((e.a/255).toFixed(2)):"",")")}function V(e){return parseFloat(e)<1?_("255",parseFloat(e)):"FF"}function q(e){for(var n in G)if(n.toLowerCase()===e.trim().toLowerCase())return G[n];return null}function _(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="0123456789ABCDEF",r=parseInt(e)*n;return isNaN(r)?"00":t.charAt(((r=Math.max(0,Math.min(r,255)))-r%16)/16)+t.charAt(r%16)}function Y(e){if(e=e.replace(/#/g,"").trim(),/[A-Za-z\d]{3,}/.test(e)){var n=255;switch(e.length){case 4:n=parseInt(e.charAt(3).repeat(2),16);case 3:e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2);break;case 5:e+=e.charAt(4);break;default:e.length>=8&&(n=parseInt(e.substring(6,8),16)),e=e.substring(0,6)}if(6===e.length)return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16),a:n}}return null}function $(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";if(e&&"initial"!==e&&"transparent"!==e){if(""===n.trim()&&(n="1"),"#"===e.charAt(0)){var t=Y(e);t&&(e=H(t))}else if(!e.startsWith("rgb")){var r=q(e);r&&r.rgba&&(r.rgba.a=parseFloat(V(n)),e=H(r.rgba))}var i=e.match(/rgba?\((\d+), (\d+), (\d+),?\s*([\d.]+)?\)/);if(i&&i.length>=4&&(void 0===i[4]||parseFloat(i[4])>0)){void 0===i[4]&&(i[4]=parseFloat(n).toFixed(2));var a=_(i[1])+_(i[2])+_(i[3]),o=V(i[4]),u="#".concat(a+o),l=parseFloat(i[4]);return{valueRGB:"#".concat(a),valueRGBA:u,valueARGB:"#".concat(o+a),alpha:l,rgba:Y(u),opaque:l<1,visible:l>0}}}return null}P.sort(W);var K=Object.freeze({getColorByName:q,getColorByShade:function(e){var n=P.slice(),t=n.findIndex(function(n){return n.hex===e});if(-1!==t)return n[t];var r=Y(e);if(r){var i=j(r);if(i)return n.push({name:"",hsl:i,rgba:{r:-1,g:-1,b:-1,a:1},hex:""}),n.sort(W),t=n.findIndex(function(e){return""===e.name}),n[Math.min(t+1,n.length-1)]}return null},convertHex:_,convertRGBA:Y,parseRGBA:$,reduceRGBA:function(e,n){var t=Y(e);if(t){var r=n<0?0:255;return t.r=Math.round((r-t.r)*(n=Math.abs(n)))+t.r,t.g=Math.round((r-t.g)*n)+t.g,t.b=Math.round((r-t.b)*n)+t.b,$(H(t))}return null}});function Z(){return{top:0,left:0,right:0,bottom:0}}function Q(){return Object.assign({width:0,height:0},{top:0,left:0,right:0,bottom:0})}function J(e,n,t,r){return arguments.length>4&&void 0!==arguments[4]&&arguments[4]?C(e)?v(e)/100:parseFloat(p(e,t,r))/n:C(e)?Math.round(n*(v(e)/100)):parseInt(p(e,t,r))}function ee(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ne(e){if(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=ue(e,"style");if(n)return n;var t=le(e);if(t){if(t.style)return t.style;if(t.plainText)return t.unsafe("styleMap")}}if("#"!==e.nodeName.charAt(0)){var r=getComputedStyle(e);return oe(e,"style",r),r}}return{display:"none"}}function te(e,n){if(e){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];if("#"!==e.nodeName.charAt(0)&&r.includes(ne(e)[n]))return!0;if(e.parentElement)return r.includes(ne(e.parentElement)[n])}return!1}function re(e){if(e&&"#text"===e.nodeName&&e.textContent){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(var n=e.textContent,t=!1,r=0;r<n.length;r++)switch(n.charCodeAt(r)){case 9:case 10:case 13:case 32:continue;default:t=!0}return t&&""!==n}return""!==e.textContent.trim()}return!1}function ie(e){return e instanceof HTMLElement||e instanceof SVGSVGElement}function ae(e){var n=e.getBoundingClientRect();return 0!==n.width&&0!==n.height&&!(n.left<0&&n.top<0&&Math.abs(n.left)>=n.width&&Math.abs(n.top)>=n.height)}function oe(e,n,t){e["__".concat(n)]=t}function ue(e,n){return e["__".concat(n)]||void 0}function le(e){return A(e.className)&&e.className.startsWith("squared")?void 0:ue(e,"node")}var ce=Object.freeze({ELEMENT_BLOCK:["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","CANVAS","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","LI","MAIN","NAV","OL","OUTPUT","P","PRE","SECTION","TFOOT","TH","THEAD","TR","UL","VIDEO"],ELEMENT_INLINE:["A","ABBR","ACRONYM","B","BDO","BIG","BR","BUTTON","CITE","CODE","DFN","EM","I","IFRAME","IMG","INPUT","KBD","LABEL","MAP","OBJECT","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TT","U","VAR","PLAINTEXT"],isUserAgent:function(e){if("string"==typeof e){var n=e.toUpperCase();e=0,-1!==n.indexOf("CHROME")&&(e|=2),-1!==n.indexOf("SAFARI")&&(e|=4),-1!==n.indexOf("FIREFOX")&&(e|=16),-1!==n.indexOf("EDGE")&&(e|=8)}return y(e,-1!==navigator.userAgent.indexOf("Edge")?8:-1!==navigator.userAgent.indexOf("Firefox")?16:-1===navigator.userAgent.indexOf("Chrome")&&-1!==navigator.userAgent.indexOf("Safari")?4:2)},getDataSet:function(e,n){var t={};if(ie(e)||e instanceof SVGElement)for(var r in n=g(n,"\\."),e.dataset)r.length>n.length&&r.startsWith(n)&&(t[d(r.substring(n.length),!1)]=e.dataset[r]);return t},newBoxRect:Z,newRectDimensions:Q,newBoxModel:function(){return{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}},createElement:function(e){var n=document.createElement(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"div":"span"),t=n.style;return t.position="static",t.margin="0px",t.padding="0px",t.border="none",t.cssFloat="none",t.clear="none",t.display="none",n.className="__css.placeholder",e instanceof HTMLElement&&e.appendChild(n),n},removeElementsByClassName:function(e){Array.from(document.getElementsByClassName(e)).forEach(function(e){return e.parentElement&&e.parentElement.removeChild(e)})},convertClientUnit:J,getRangeClientRect:function(e){var n=document.createRange();n.selectNodeContents(e);var t=Array.from(n.getClientRects()).filter(function(e){return!(0===Math.round(e.width)&&R(e.left,e.right))}),r=Q(),i=0;if(t.length){r=ee(t[0]);for(var a=new Set([r.top]),o=new Set([r.bottom]),u=1;u<t.length;u++){var l=t[u];a.add(l.top),o.add(l.bottom),r.width+=l.width,r.right=Math.max(l.right,r.right),r.height=Math.max(l.height,r.height)}a.size>1&&o.size>1&&(r.top=I(Array.from(a)),r.bottom=M(Array.from(o)),t[t.length-1].top>=t[0].bottom&&e.textContent&&(""!==e.textContent.trim()||/^\s*\n/.test(e.textContent))&&(i=t.length-1))}return Object.assign(r,{multiLine:i})},assignBounds:ee,getStyle:ne,cssResolveUrl:function(e){var n=e.match(f.CSS_URL);return n?B(n[1]):""},cssInherit:function(e,n,t,r){var i="";if(e)for(var a=e.parentElement;a&&(void 0===r||!r.includes(a.tagName))&&(("inherit"===(i=ne(a)[n])||t&&t.some(function(e){return-1!==i.indexOf(e)}))&&(i=""),a!==document.body&&!i);)a=a.parentElement;return i||""},cssParent:te,cssFromParent:function(e,n){if(ie(e)&&e.parentElement){var t=le(e),r=ne(e);if(t&&r)return r[n]===ne(e.parentElement)[n]&&!t.cssInitial(n)}return!1},cssAttribute:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.attributes.getNamedItem(n)||(!t&&e.parentElement instanceof SVGGElement?e.parentElement.attributes.getNamedItem(n):"");if(r)return r.value.trim();var i=le(e),a="";return i&&(a=i.cssInitial(n)),a||t&&ne(e)[g(n)]||""},getBackgroundPosition:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o={top:0,left:0,right:0,bottom:0,horizontal:"left",vertical:"top",originalX:"",originalY:""},u="center"===e?["center","center"]:e.split(" ");return 4===u.length?u.forEach(function(e,u){switch(u){case 0:o.horizontal=e;break;case 2:o.vertical=e;break;case 1:case 3:var l=J(e,1===u?n.width:n.height,t,r,a);1===u?i?"right"===o.horizontal?(o.originalX=C(e)?F(100-parseInt(e)):m(n.width-parseInt(p(e,t,r))),o.right=l,o.left=a?1-l:n.width-l):(o.left=l,o.originalX=e):"center"!==o.horizontal&&(o[o.horizontal]=l):i?"bottom"===o.vertical?(o.originalY=C(e)?F(100-parseInt(e)):m(n.height-parseInt(p(e,t,r))),o.bottom=l,o.top=a?1-l:n.height-l):(o.top=l,o.originalY=e):"center"!==o.vertical&&(o[o.vertical]=l)}}):2===u.length&&u.forEach(function(e,u){var l=0===u?n.width:n.height,c=0===u?"left":"top",h=0===u?"originalX":"originalY",s=J(e,l,t,r,a);if(C(e))o[c]=s,o[h]=e;else if(/^[a-z]+$/.test(e)){if(o[0===u?"horizontal":"vertical"]=e,i)switch(e){case"left":case"top":o[h]="0%";break;case"right":case"bottom":o[c]=a?1:l,o[h]="100%";break;case"center":o[c]=a?.5:Math.round(l/2),o[h]="50%"}}else o[c]=s,o[h]=e}),o},getFirstChildElement:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof HTMLElement)for(var t=0;t<e.childNodes.length;t++){var r=le(e.childNodes[t]);if(r&&(!r.excluded||n&&r.lineBreak))return r.element}return null},getLastChildElement:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof HTMLElement)for(var t=e.childNodes.length-1;t>=0;t--){var r=le(e.childNodes[t]);if(r&&r.naturalElement&&(!r.excluded||n&&r.lineBreak))return r.element}return null},hasFreeFormText:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function t(e){return e.some(function(e){if("#text"===e.nodeName){if(re(e,n)||te(e,"whiteSpace","pre","pre-wrap")&&e.textContent&&""!==e.textContent)return!0}else if(e instanceof HTMLElement&&ae(e)&&e.childNodes.length&&t(Array.from(e.childNodes)))return!0;return!1})}return t("#text"===e.nodeName?[e]:Array.from(e.childNodes))},isPlainText:re,hasLineBreak:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var t=e.textContent||"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(t=t.trim()),e instanceof HTMLElement&&e.children.length&&Array.from(e.children).some(function(e){return"BR"===e.tagName}))return!0;if(!n&&/\n/.test(t)){var r=le(e),i=r?r.css("whiteSpace"):ne(e).whiteSpace||"";return["pre","pre-wrap"].includes(i)||"#text"===e.nodeName&&te(e,"whiteSpace","pre","pre-wrap")}}return!1},isLineBreak:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=le(e);return!!t&&("BR"===t.tagName||n&&t.excluded&&t.blockStatic)},getElementsBetween:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||e.parentElement===n.parentElement){var i=n.parentElement;if(i){var a=Array.from(i.childNodes),o=e?a.findIndex(function(n){return n===e}):0,u=a.findIndex(function(e){return e===n});if(-1!==o&&-1!==u&&o!==u){var l=a.slice(Math.min(o,u)+1,Math.max(o,u));return l=l.filter(t?function(e){return"#comment"!==e.nodeName}:function(e){return"#"!==e.nodeName.charAt(0)||re(e)}),r&&(l=l.filter(function(e){return le(e)})),l}}}return[]},getPreviousElementSibling:function(e){if(e)for(e=e.previousSibling;e;){var n=le(e);if(n&&(!n.excluded||n.lineBreak))return n.element;e=e.previousSibling}return null},getNextElementSibling:function(e){if(e)for(e=e.nextSibling;e;){var n=le(e);if(n&&(!n.excluded||n.lineBreak))return n.element;e=e.nextSibling}return null},hasComputedStyle:ie,withinViewportOrigin:ae,setElementCache:oe,getElementCache:ue,deleteElementCache:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<t.length;i++)delete e["__".concat(t[i])]},getElementAsNode:le});function he(e){return"{".concat((arguments.length>1&&void 0!==arguments[1]?arguments[1]:":")+""+e,"}")}var se=Object.freeze({formatPlaceholder:he,replacePlaceholder:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="number"==typeof n?he(n):n;return e.replace(i,(r?i:"")+t+(r?"":i))},replaceIndent:function(e,n,t){if(n>=0){var r=-1;return e.split("\n").map(function(e){var i=t.exec(e);return i?(-1===r&&(r=i[2].length),i[1]+w(n+(i[2].length-r))+i[3]):e}).join("\n")}return e},replaceTab:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return n>0&&(e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e.split("\n").map(function(e){var t=e.match(/^(\t+)(.*)$/);return t?" ".repeat(n*t[1].length)+t[2]:e}).join("\n"):e.replace(/\t/g," ".repeat(n))),e},replaceEntity:function(e){return e.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n))}).replace(/\u00A0/g,"&#160;").replace(/\u2002/g,"&#8194;").replace(/\u2003/g,"&#8195;").replace(/\u2009/g,"&#8201;").replace(/\u200C/g,"&#8204;").replace(/\u200D/g,"&#8205;").replace(/\u200E/g,"&#8206;").replace(/\u200F/g,"&#8207;")},replaceCharacter:function(e){return e.replace(/&nbsp;/g,"&#160;").replace(/&(?!#?[A-Za-z0-9]{2,};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},parseTemplate:function(e){for(var n,t={__root:e},r=!1,i=e.length,a="";;){if(r){var o=r[0].replace(RegExp("^".concat(r[1],"\\n")),"").replace(RegExp("".concat(r[1],"$")),"");for(var u in t)t[u]=t[u].replace(RegExp(r[0],"g"),"{%".concat(r[2],"}"));t[r[2]]=o,i-=r[0].length,a=r[2]}if(null===r||0===i){if(!a)break;if(!(e=t[a]))break;i=e.length,a="",r=null}if(r||(n=/(!(\w+))\n[\w\W]*\n*\1/g),!n)break;r=n.exec(e)}return t},createTemplate:function e(n,t,r){var i=void 0===r?n.__root.trim():n[r];for(var a in t){var o="";if(b(t[a])){for(var u=0;u<t[a].length;u++)o+=e(n,t[a][u],""+a);o=k(o,"\\n")}else o=t[a];var l="";A(o)&&(l=b(t[a])?"%":"[&~]",i=i.replace(RegExp("{".concat(l+a,"}"),"g"),o)),(!1===o||Array.isArray(o)&&0===o.length||l&&"%"!==l)&&(i=i.replace(RegExp("{%".concat(a,"}\\n*"),"g"),"")),""===l&&RegExp("{&".concat(a,"}")).test(i)&&(i="")}return void 0===r&&(i=i.replace(/\n{%\w+}\n/g,"\n")),i.replace(/\s+([\w:]+="[^"]*)?{~\w+}"?/g,"")},getTemplateSection:function(e){for(var n=e,t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(var o=0;o<r.length;o++){var u=a(r[o].split("-"),2),l=u[0],c=u[1],h=void 0===c?"0":c;if(!n[l]||!n[l][parseInt(h)])return{};n=n[l][parseInt(h)]}return n}});e.settings={},e.system={};var fe,de,ge=new Set,ve=new Map;function pe(e){if(fe){if(e instanceof squared.base.Extension)return fe.extensionManager.include(e);if("string"==typeof e){e=e.trim();var n=fe.builtInExtensions[e]||me(e);if(n)return fe.extensionManager.include(n)}}return!1}function xe(t,r){if("object"===n(r)){if(t instanceof squared.base.Extension)return Object.assign(t.options,r),!0;if("string"==typeof t&&fe){t=t.trim();var i=fe.extensionManager.retrieve(t)||Array.from(ge).find(function(e){return e.name===t});if(i)return Object.assign(i.options,r),!0;if(ve.set(t,r),e.settings.handleExtensionsAsync)return!0}}return!1}function me(e){return fe&&fe.extensionManager.retrieve(e)}function Fe(){fe&&fe.reset()}var ye={base:{Container:T},color:K,dom:ce,util:O,xml:se};e.setFramework=function(n){if(de!==n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?n.cached():n.create();if(e.settings=t.userSettings,(fe=t.application).userSettings=t.userSettings,Array.isArray(e.settings.builtInExtensions)){for(var r=new Set,i=Array.isArray(o=e.settings.builtInExtensions),a=0,o=i?o:o[Symbol.iterator]();;){var u;if(i){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u;if(l=l.trim(),fe.builtInExtensions[l])r.add(fe.builtInExtensions[l]);else for(var c in fe.builtInExtensions)c.startsWith("".concat(l,"."))&&r.add(fe.builtInExtensions[c])}r.forEach(function(e){return fe.extensionManager.include(e)})}de=n,e.system=n.system}Fe()},e.parseDocument=function n(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];if(fe&&!fe.closed){var o;if(e.settings.handleExtensionsAsync){ge.forEach(function(e){return fe.extensionManager.include(e)});var u=ve.entries(),l=Array.isArray(u),c=0;for(u=l?u:u[Symbol.iterator]();;){var h;if(l){if(c>=u.length)break;h=u[c++]}else{if((c=u.next()).done)break;h=c.value}var s=a(h,2);xe(s[0],s[1])}ge.clear(),ve.clear()}return(o=fe).parseDocument.apply(o,r)}return{then:function(e){fe?fe.closed&&confirm("ERROR: Document is closed. Reset and rerun?")&&(fe.reset(),n.call.apply(n,[null].concat(r)).then(e)):alert("ERROR: Framework not installed.")}}},e.include=pe,e.includeAsync=function(n){return!!pe(n)||!!(n instanceof squared.base.Extension&&(ge.add(n),e.settings.handleExtensionsAsync))},e.exclude=function(e){if(fe){if(e instanceof squared.base.Extension)return ge.has(e)?(ge.delete(e),fe.extensionManager.exclude(e),!0):fe.extensionManager.exclude(e);if("string"==typeof e){e=e.trim();var n=fe.extensionManager.retrieve(e);if(n)return fe.extensionManager.exclude(n)}}return!1},e.configure=xe,e.apply=function(e,t){return e instanceof squared.base.Extension?pe(e):"string"==typeof e&&(e=e.trim(),"object"===n(t)?xe(e,t):me(e))},e.retrieve=me,e.ready=function(){return fe&&!fe.initialized&&!fe.closed},e.close=function(){fe&&!fe.initialized&&fe.size&&fe.finalize()},e.reset=Fe,e.saveAllToDisk=function(){fe&&!fe.initialized&&fe.size&&(fe.closed||fe.finalize(),fe.saveAllToDisk())},e.toString=function(){return fe?""+fe:""},e.lib=ye,Object.defineProperty(e,"__esModule",{value:!0})});
