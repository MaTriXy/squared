var android=function(){"use strict";var t;!function(t){t[t.NONE=0]="NONE",t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(t||(t={}));var n=Object.freeze({get CONTAINER_NODE(){return t}});const e={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},a={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},o={PLAINTEXT:t.TEXT,HR:t.LINE,SVG:t.SVG,IMG:t.IMAGE,SELECT:t.SELECT,RANGE:t.RANGE,TEXT:t.EDIT,PASSWORD:t.EDIT,NUMBER:t.EDIT,EMAIL:t.EDIT,SEARCH:t.EDIT,URL:t.EDIT,CHECKBOX:t.CHECKBOX,RADIO:t.RADIO,BUTTON:t.BUTTON,SUBMIT:t.BUTTON,RESET:t.BUTTON,TEXTAREA:t.EDIT},s={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},i={HORIZONTAL:"horizontal",VERTICAL:"vertical"},r={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},c={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},l=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var h=Object.freeze({EXT_ANDROID:e,CONTAINER_ANDROID:a,ELEMENT_ANDROID:o,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:s,AXIS_ANDROID:i,LAYOUT_ANDROID:r,XMLNS_ANDROID:c,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:l});function d(t,n,e,a=0){return(!e||e>=a)&&(t.attr=n),!0}const f={28:{android:{},app:{},customizations:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},customizations:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},customizations:{}},25:{android:{fontWeight:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},customizations:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},customizations:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},customizations:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>d(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>d(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},customizations:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},customizations:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,n,e)=>(e.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},customizations:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},customizations:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},customizations:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,n)=>n<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},customizations:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>d(t,"layout_alignRight"),layout_alignParentEnd:t=>d(t,"layout_alignParentRight"),layout_alignParentStart:t=>d(t,"layout_alignParentLeft"),layout_alignStart:t=>d(t,"layout_alignLeft"),layout_marginEnd:t=>d(t,"layout_marginRight"),layout_marginStart:t=>d(t,"layout_marginLeft"),layout_toEndOf:t=>d(t,"layout_toRightOf"),layout_toStartOf:t=>d(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>d(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>d(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>d(t,"paddingRight"),paddingStart:t=>d(t,"paddingLeft"),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},customizations:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},customizations:{}},14:{android:{},app:{},customizations:{}},0:{android:{},app:{},customizations:{Button:{android:{textAllCaps:"false"}}}}},u={android:{amPmBackgroundColor:(t,n)=>d(t,"headerBackground",n,23),amPmTextColor:(t,n)=>d(t,"headerTextColor",n,23),animationResolution:(t,n)=>n<16,canRequestEnhancedWebAccessibility:(t,n)=>n<26,dayOfWeekBackground:(t,n)=>n<23,dayOfWeekTextAppearance:(t,n)=>n<23,directionDescriptions:(t,n)=>n<23,headerAmPmTextAppearance:(t,n)=>d(t,"headerTextColor",n,23),headerDayOfMonthTextAppearance:(t,n)=>d(t,"headerTextColor",n,23),headerMonthTextAppearance:(t,n)=>d(t,"headerTextColor",n,23),headerTimeTextAppearance:(t,n)=>d(t,"headerTextColor",n,23),headerYearTextAppearance:(t,n)=>d(t,"headerTextColor",n,23),showOnLockScreen:(t,n)=>d(t,"showForAllUsers",n,23),targetDescriptions:(t,n)=>n<23,yearListItemTextAppearance:(t,n)=>d(t,"yearListTextColor",n,23),yearListSelectorColor:(t,n)=>n<23}},p={builtInExtensions:["android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","squared.external","squared.substitute","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30};var g='<?xml version="1.0" encoding="utf-8"?>\n{:0}',E=squared.lib.color,w=squared.lib.dom,_=squared.lib.util,S=squared.lib.xml;function C(t){return _.isPercent(t)?parseInt(t)/100:.5}class I extends squared.base.Resource{static createBackgroundGradient(t,n,e){const a=[],o=t.svgElement||n.some(t=>t.colorStop.filter(t=>parseInt(t.offset)>0).length>0);for(const s of n){const n={type:s.type,startColor:o?"":I.addColor(s.colorStop[0].color),centerColor:!o&&s.colorStop.length>2?I.addColor(s.colorStop[1].color):"",endColor:o?"":I.addColor(s.colorStop[s.colorStop.length-1].color),colorStop:[]};switch(s.type){case"radial":if(t.svgElement){if(e&&squared.svg.SvgBuild){const t=s,a=[];let o,i,r,c;switch(e.element.tagName){case"path":if(squared.svg.SvgBuild.toPathCommandList(e.d).forEach(t=>a.push(...t.points)),!a.length)break;case"polygon":e.element instanceof SVGPolygonElement&&a.push(...squared.svg.SvgBuild.toPointList(e.element.points)),o=_.minArray(a.map(t=>t.x)),i=_.minArray(a.map(t=>t.y)),r=_.maxArray(a.map(t=>t.x))-o,c=_.maxArray(a.map(t=>t.y))-i;break;case"rect":{const t=e.element;o=t.x.baseVal.value,i=t.y.baseVal.value,r=t.width.baseVal.value,c=t.height.baseVal.value;break}case"circle":{const t=e.element;o=t.cx.baseVal.value-t.r.baseVal.value,i=t.cy.baseVal.value-t.r.baseVal.value,c=r=2*t.r.baseVal.value;break}case"ellipse":{const t=e.element;o=t.cx.baseVal.value-t.rx.baseVal.value,i=t.cy.baseVal.value-t.ry.baseVal.value,r=2*t.rx.baseVal.value,c=2*t.ry.baseVal.value;break}}if(void 0!==o&&void 0!==i&&void 0!==r&&void 0!==c){const e=C(t.cxAsString),a=C(t.cyAsString);n.centerX=""+(o+r*e),n.centerY=""+(i+c*a),n.gradientRadius=""+(r+c)/2*(_.isPercent(t.rAsString)?parseInt(t.rAsString)/100:1)}}}else{const e=s;let a;e.shapePosition&&e.shapePosition.length>1&&(a=w.getBackgroundPosition(e.shapePosition[1],t.bounds,t.dpi,t.fontSize,!0,!o)),o?(n.gradientRadius=""+t.bounds.width,a&&(n.centerX=""+a.left,n.centerY=""+a.top)):(n.gradientRadius=_.formatPX(t.bounds.width),a&&(n.centerX=_.convertPercent(a.left),n.centerY=_.convertPercent(a.top)))}break;case"linear":if(t.svgElement){const t=s;n.startX=""+t.x1,n.startY=""+t.y1,n.endX=""+t.x2,n.endY=""+t.y2}else{const e=s;if(void 0!==e.angle)if(o){const a=Math.round(t.bounds.width/2),o=Math.round(t.bounds.height/2),s=squared.svg.lib.util;s&&(n.startX=""+Math.round(s.getRadiusX(e.angle+180,a)+a),n.startY=""+Math.round(s.getRadiusY(e.angle+180,o)+o),n.endX=""+Math.round(s.getRadiusX(e.angle,a)+a),n.endY=""+Math.round(s.getRadiusY(e.angle,o)+o))}else n.angle=""+45*Math.floor(e.angle/45)}}if(o)for(let e=0;e<s.colorStop.length;e++){const a=s.colorStop[e],o=`@color/${I.addColor(a.color)}`;let i=parseInt(a.offset);0===e?t.svgElement||0===i||n.colorStop.push({color:o,offset:"0",opacity:a.opacity}):0===i&&(i=e<s.colorStop.length-1?Math.round((parseInt(s.colorStop[e-1].offset)+parseInt(s.colorStop[e+1].offset))/2):100),n.colorStop.push({color:o,offset:(i/100).toFixed(2),opacity:a.opacity})}a.push(n)}return a}static formatOptions(t,n=!1){for(const e in t)if(t.hasOwnProperty(e)){const a=t[e];if("object"==typeof a)for(const t in a)if(a.hasOwnProperty(t)){let e=""+a[t];switch(t){case"text":if(!e.startsWith("@string/")&&""!==(e=this.addString(e,"",n))){a[t]=`@string/${e}`;continue}break;case"src":case"srcCompat":if(_.REGEX_PATTERN.URI.test(e)&&""!==(e=this.addImage({mdpi:e}))){a[t]=`@drawable/${e}`;continue}}const o=E.parseRGBA(e);if(o){const n=this.addColor(o);""!==n&&(a[t]=`@color/${n}`)}}}return t}static getOptionArray(t){const n=[];let e=[],a=-1;for(;++a<t.children.length;){const o=t.children[a].text.trim();if(""!==o)if(e&&0===n.length&&_.isNumber(o))e.push(o);else{if(e&&e.length){a=-1,e=null;continue}""!==o&&n.push(S.replaceEntity(o))}}return[n.length?n:null,e&&e.length?e:null]}static addString(t,n="",e=!1){if(""!==t){""===n&&(n=t.trim());const a=_.isNumber(t);if(!a||e){for(const[n,e]of I.STORED.strings.entries())if(e===t)return n;n=n.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),a||/^\d/.test(n)||l.includes(n)?n=`__${n}`:""===n&&(n=`__symbol${Math.ceil(1e5*Math.random())}`),I.STORED.strings.has(n)&&(n=I.generateId("string",n,1)),I.STORED.strings.set(n,t)}return n}return""}static addImageSrcSet(t,n=""){const e={},a=t.srcset.trim();if(""!==a){const n=t.src.substring(0,t.src.lastIndexOf("/")+1);a.split(",").forEach(t=>{const a=/^(.*?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(a){_.hasValue(a[2])||(a[2]="1x");const t=n+_.lastIndexOf(a[1]);switch(a[2]){case"0.75x":e.ldpi=t;break;case"1x":e.mdpi=t;break;case"1.5x":e.hdpi=t;break;case"2x":e.xhdpi=t;break;case"3x":e.xxhdpi=t;break;case"4x":e.xxxhdpi=t}}})}return void 0===e.mdpi&&(e.mdpi=t.src),this.addImage(e,n)}static addImage(t,n=""){let e="";if(t&&t.mdpi){e=_.lastIndexOf(t.mdpi);const a=_.lastIndexOf(e,".").toLowerCase();switch(e=e.replace(/.\w+$/,"").replace(/-/g,"_"),a){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":e=I.insertStoredAsset("images",n+e,t);break;default:e=""}}return e}static addImageUrl(t,n=""){const e=w.cssResolveUrl(t);return""!==e?this.addImage({mdpi:e},n):""}static addColor(t){if("string"==typeof t&&(t=E.parseRGBA(t)),t&&"#00000000"!==t.valueRGBA){const n=function(t){return t?t.opaque?t.valueARGB:t.valueRGB:""}(t);let e=I.STORED.colors.get(n)||"";if(""===e){const a=E.getColorByShade(t.valueRGB);a&&(a.name=_.convertUnderscore(a.name),e=t.opaque||a.hex!==t.valueRGB?I.generateId("color",a.name,1):a.name,I.STORED.colors.set(n,e))}return e}return""}addStyleTheme(t,n,a){if(a.items&&_.isArray(n.items)){const t=I.formatOptions(a.items,this.application.extensionManager.optionValueAsBoolean(e.RESOURCE_STRINGS,"numberResourceValue"));for(const e in t)n.items.push({name:e,value:t[e]})}const o=S.createTemplate(S.parseTemplate(t),n);this.fileHandler&&this.fileHandler.addAsset(a.output.path,a.output.file,o)}get userSettings(){return this.application.userSettings}}const T=squared.lib.util,x=squared.lib.xml;function A(t){return t?t.replace(/@\+?id\//,""):""}function R(t={}){return Object.assign({android:{},app:{}},t&&"object"==typeof t?t:{})}function L(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function y(t,n=160,e=!1){if(t){let a=parseFloat(t);if(!isNaN(a))return(t=(a/=n/160)>=1||0===a?""+Math.floor(a):a.toFixed(2))+(e?"sp":"dp")}return"0dp"}function M(t,n=160,e="dp",a=!1){return"dp"===e||a?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,(t,...e)=>e[0]+(e[1]||"")+y(e[2],n,a)+e[3]):t}function N(t,n=4,e=!1){return x.replaceTab(t,n,e)}function X(t,n,e=4){return 0===t?0:0===n?1:parseFloat(Math.max(t/(t+n),0).toFixed(e))}function B(t,n=!0,e=26){return t=t?t.trim():"",n&&e>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function q(...t){return T.flatMap(t,t=>c[t]?`xmlns:${t}="${c[t]}"`:"").join(" ")}var O=Object.freeze({stripId:A,createAttribute:R,validateString:L,convertUnit:y,replaceUnit:M,replaceTab:N,calculateBias:X,replaceRTL:B,getAppTheme:function(t){for(const n of t){const t=/<style\s+name="([\w$]+)"\s+parent="Theme\.[\w$.]+"/.exec(n.content);if(t)return t[1]}return""},getXmlNs:q}),z=squared.base.NodeList,G=squared.base.Resource,H=squared.base.lib.enumeration,F=squared.lib.dom,U=squared.lib.util;function m(t,n){const e=n-(t.hasHeight?t.height:t.bounds.height);e>0&&(t.modifyBox(2,Math.floor(e/2)-(t.inlineVertical?U.convertInt(t.verticalAlign):0)),t.modifyBox(8,Math.ceil(e/2)))}var W=n=>(class e extends n{constructor(t=0,n,e){super(t,n),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=new Set(["android","app"]),this._controlName="",this._fontSize=0,this._boxAdjustment=F.newBoxModel(),this._boxReset=F.newBoxModel(),this._containerType=0,this._localSettings={targetAPI:28,resolutionDPI:160,supportRTL:!1},this.__android={},this.__app={},e&&e(this)}static documentBody(){if(void 0===e._documentBody){const t=new e(0,document.body);t.hide(),t.setBounds(),e._documentBody=t}return e._documentBody}static getCustomizationValue(t,n,e,a){for(const o of[f[t],f[0]]){const t=U.optionalAsString(o,`customizations.${n}.${e}.${a}`);if(U.isString(t))return t}return""}static getControlName(n){return a[t[n]]}attr(t,n,e="",a=!0){const o={};return this.supported(t,n,o)?(Object.keys(o).length&&(U.isString(o.obj)&&(t=o.obj),U.isString(o.attr)&&(n=o.attr),U.isString(o.value)&&(e=o.value),"boolean"==typeof o.overwrite&&(a=o.overwrite)),super.attr(t,n,e,a)):""}android(t,n="",e=!0){return this.attr("android",t,n,e),this.__android[t]||""}app(t,n="",e=!0){return this.attr("app",t,n,e),this.__app[t]||""}apply(t){if("object"==typeof t){const n=Object.assign({},t);super.apply(n);for(const t in n)this.formatted(`${t}="${n[t]}"`)}}formatted(t,n=!0){const e=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);e&&this.attr(e[1]||"_",e[2],e[3],n)}anchor(t,n="",e){const a=this.renderParent;if(a)if(a.layoutConstraint){if(void 0===n||void 0===this.constraint.current[t]||e){n&&void 0===e&&(e="parent"===n);const a=r.constraint[t];if(a){if(this.app(this.localizeString(a),n,e),"parent"===n)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:n,horizontal:-1!==U.indexOf(t.toLowerCase(),"left","right")},!0}}}else if(a.layoutRelative){return n&&void 0===e&&(e="true"===n),this.android(this.localizeString(r["true"===n?"relativeParent":"relative"][t]),n,e),!0}return!1}anchorParent(t,n=!1,e=!1){const a=this.renderParent;if(a){const o=t===i.HORIZONTAL;if(a.layoutConstraint){if(n||!this.constraint[t])return this.anchor(o?"left":"top","parent"),this.anchor(o?"right":"bottom","parent"),this.constraint[t]=!0,e&&this.app(`layout_constraint${U.capitalize(t)}_bias`,this[`${t}Bias`]),!0}else if(a.layoutRelative)return this.anchor(o?"left":"top","true"),this.anchor(o?"right":"bottom","true"),!0}return!1}anchorDelete(...t){const n=this.renderParent;if(n)if(n.layoutConstraint)this.delete("app",...t.map(t=>this.localizeString(r.constraint[t])));else if(n.layoutRelative)for(const n of t)this.alignSibling(n)?this.delete("android",r.relative[n],this.localizeString(r.relative[n])):r.relativeParent[n]&&this.delete("android",this.localizeString(r.relativeParent[n]))}anchorClear(){const t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete(...Object.keys(r.constraint)):t.layoutRelative&&(this.anchorDelete(...Object.keys(r.relativeParent)),this.anchorDelete(...Object.keys(r.relative))))}alignParent(t){const n=this.renderParent;if(n)if(n.layoutConstraint){const n=r.constraint[t];if(n)return"parent"===this.app(this.localizeString(n))||"parent"===this.app(n)}else if(n.layoutRelative){const n=r.relativeParent[t];if(n)return"true"===this.android(this.localizeString(n))||"true"===this.android(n)}return!1}alignSibling(t){const n=this.renderParent;if(n){if(n.layoutConstraint){const e=r.constraint[t],a=this.app(this.localizeString(e))||this.app(e);return""!==a&&"parent"!==a&&a!==n.documentId}if(n.layoutRelative){const n=r.relative[t];return""!==(this.android(this.localizeString(n))||this.android(n))}}return!1}horizontalBias(){const t=this.documentParent;if(t!==this){return X(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy)}return.5}verticalBias(){const t=this.documentParent;if(t!==this){return X(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy)}return.5}supported(t,n,e={}){if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){const a=u[t];if(a&&"function"==typeof a[n]){const t=a[n](e,this.localSettings.targetAPI,this);if(!t||Object.keys(e).length)return t}for(let a=this.localSettings.targetAPI;a<=28;a++){const o=f[a];if(o&&o[t]&&void 0!==o[t][n]){const a=o[t][n];if("boolean"==typeof a)return a;if("function"==typeof a)return a(e,this.localSettings.targetAPI,this)}}}return!0}combine(...t){const n=[];for(const e of this._namespaces.values()){const a=this[`__${e}`];if(0===t.length||t.includes(e))for(const t in a)n.push("_"!==e?`${e}:${t}="${a[t]}"`:`${t}="${a[t]}"`)}return n.sort((t,n)=>t.startsWith("android:id=")?-1:n.startsWith("android:id=")?1:t>n?1:-1)}localizeString(t){return this.hasBit("excludeProcedure",H.NODE_PROCEDURE.LOCALIZATION)?t:B(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,n=!1,a=!1){const o=new e(t||this.id,this.element);if(Object.assign(o.localSettings,this.localSettings),o.tagName=this.tagName,t?o.setControlType(this.controlName,this.containerType):(o.controlId=this.controlId,o.controlName=this.controlName,o.containerType=this.containerType),o.alignmentType=this.alignmentType,o.depth=this.depth,o.visible=this.visible,o.excluded=this.excluded,o.rendered=this.rendered,o.renderDepth=this.renderDepth,o.renderParent=this.renderParent,o.documentParent=this.documentParent,o.documentRoot=this.documentRoot,this.length&&o.retain(this.duplicate()),n){Object.assign(o.unsafe("boxReset"),this._boxReset),Object.assign(o.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces.values()){const n=this[`__${t}`];for(const e in n)o.attr(t,e,"android"===t&&"id"===e?o.documentId:n[e])}}return a&&(o.anchorClear(),o.anchor("left",this.documentId)&&(Object.assign(o.unsafe("boxReset"),{marginLeft:1}),Object.assign(o.unsafe("boxAdjustment"),{marginLeft:0})),o.anchor("top",this.documentId)&&(Object.assign(o.unsafe("boxReset"),{marginTop:1}),Object.assign(o.unsafe("boxAdjustment"),{marginTop:0}))),o.inherit(this,"initial","base","alignment","styleMap"),Object.assign(o.unsafe("cached"),this.unsafe("cached")),o}setControlType(n,e){if(e)this.containerType=e;else if(0===this.containerType)for(const e in a)if(a[e]===n){for(const n in t)if(t[t[n]]===e){this.containerType=t[n];break}break}if(this.controlName=n,""!==this.android("id")&&(this.controlId=A(this.android("id"))),""===this.controlId){const t=this.element;let n="";t&&("parent"===(n=L(t.id||t.name))||l.includes(n))&&(n=`_${n}`),this.controlId=U.convertWord(G.generateId("android",n||U.lastIndexOf(this.controlName,".").toLowerCase(),n?0:1)),this.android("id",this.documentId)}}setLayout(){const n=this.absoluteParent,e=this.renderParent,a=this.renderChildren;this.documentBody&&(!this.hasWidth&&a.some(t=>t.alignParent("right"))&&this.android("layout_width","match_parent",!1),!this.hasHeight&&a.some(t=>t.alignParent("bottom"))&&this.android("layout_height","match_parent",!1));let o=!1;if(!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){const a=this.css("width");if(U.isUnit(a)){const t=e?U.convertInt(e.android("layout_width")):0,s=this.convertPX(a);n===e&&t>0&&U.convertInt(s)>=t?this.android("layout_width","match_parent"):this.android("layout_width",s),o=!0}else U.isPercent(a)&&(e&&e.is(t.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(a)/100).toFixed(2),!1)):this.android("layout_width","100%"===a?"match_parent":this.convertPercent(a,!0)),o=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){const t=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",t,!1),o=!0}if(!o)if(this.plainText)this.android("layout_width",e&&this.bounds.width>e.box.width&&this.multiLine&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(a.filter(t=>(t.inlineStatic||U.isUnit(t.cssInitial("width")))&&!t.autoMargin.horizontal).some(t=>Math.ceil(t.bounds.width)>=this.box.width))this.android("layout_width","wrap_content",!1);else if(this.flexElement&&e&&e.hasWidth||!this.documentRoot&&a.some(t=>t.layoutVertical&&!t.hasWidth&&!t.floating&&!t.autoMargin.horizontal)||this.layoutFrame&&(2===z.floated(a).size||a.some(t=>t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned))))this.android("layout_width","match_parent",!1);else{(!(this.containerType<t.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||!!n&&n.flexElement||!!n&&n.gridElement||!!e&&e.is(t.GRID))||this.blockStatic&&!this.has("maxWidth"))&&(n&&this.linear.width>=n.box.width||this.layoutVertical&&!this.autoMargin.horizontal||this.htmlElement&&this.blockStatic&&(this.documentBody||n&&(n.documentBody||n.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings()))))||this.groupParent&&a.some(t=>!(t.plainText&&t.multiLine)&&t.linear.width>=this.documentParent.box.width))?this.android("layout_width","match_parent",!1):this.android("layout_width","wrap_content",!1)}let s=!1;if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){const t=this.css("height");if(U.isUnit(t)){const n=this.convertPX(t,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(n)<Math.floor(this.box.height)?"wrap_content":n),s=!0}else U.isPercent(t)&&(this.android("layout_height","100%"===t?"match_parent":U.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),s=!0)}if(this.has("minHeight")&&!this.constraint.minHeight){const t=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",t,!1),s=!0}s||this.android("layout_height","wrap_content",!1)}setAlignment(){const n=this.renderParent;if(n){const o=this.localizeString("left"),s=this.localizeString("right");function e(t){if(!t.blockWidth){const n=[];if(t.autoMargin.leftRight?n.push("center_horizontal"):t.autoMargin.left?n.push(s):t.autoMargin.right&&n.push(o),t.autoMargin.topBottom?n.push("center_vertical"):t.autoMargin.top?n.push("bottom"):t.autoMargin.bottom&&n.push("top"),n.length)return t.mergeGravity(t.blockWidth?"gravity":"layout_gravity",...n),!0}return!1}function a(t){switch(t){case"left":case"start":return o;case"right":case"end":return s;case"center":return"center_horizontal";default:return""}}let i=this.cssInitial("textAlign",!0)||"";if(this.pageFlow){let a="";if(this.inlineVertical&&(n.layoutHorizontal&&!n.support.container.positionRelative||n.is(t.GRID))){const t="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":this.mergeGravity(t,"top");break;case"middle":this.mergeGravity(t,"center_vertical");break;case"bottom":this.mergeGravity(t,"bottom")}}!this.blockWidth&&(n.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?this.mergeGravity("layout_gravity","right"===this.float?s:o):e(this)),this.hasAlign(64)&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(t=>t.rightAligned)?a=s:this.groupParent&&!this.renderChildren.some(t=>"right"===t.float)&&(a=o)),n.layoutFrame&&!e(this)&&""!==(a=this.floating?this.float:a)&&(n.inlineWidth||this.singleChild&&!n.documentRoot)&&n.mergeGravity("layout_gravity",a),""!==a&&(this.blockWidth?""!==i&&a!==s||(i=a):this.mergeGravity("layout_gravity",a))}const r=this.cssParent("textAlign");""!==r&&this.localizeString(r)!==o&&(!n.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",a(r)),this.imageElement||""!==i||(i=r)),this.layoutConstraint||this.mergeGravity("gravity",a(i))}}mergeGravity(t,...n){const e=new Set([...this.android(t).split("|"),...n].filter(t=>""!==t.trim()).map(t=>this.localizeString(t)));let a="";switch(e.size){case 0:break;case 1:a=e.values().next().value;default:let t="",n="",o="";["center","fill"].forEach(t=>{const n=`${t}_horizontal`,a=`${t}_vertical`;(e.has(t)||e.has(n)&&e.has(a))&&(e.delete(n),e.delete(a),e.add(t))});for(const a of e.values())switch(a){case"left":case"start":case"right":case"end":case"center_horizontal":t=a;break;case"top":case"bottom":case"center_vertical":n=a;break;default:o+=(""!==o?"|":"")+a}const s=[t,n].filter(t=>t).join("|");a=s+(""!==o?(""!==s?"|":"")+o:"")}return""!==a?this.android(t,a):(this.delete("android",t),"")}applyOptimizations(){if(this.renderParent)switch(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout(),this.cssParent("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}}applyCustomizations(){for(const t of[f[0],f[this.localSettings.targetAPI]])if(t&&t.customizations)for(const n of[this.tagName,this.controlName]){const e=t.customizations[n];if(e)for(const t in e)for(const n in e[t])this.attr(t,n,e[t][n],this.localSettings.customizationsOverwritePrivilege)}}setBoxSpacing(){const n={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};["margin","padding"].forEach((e,a)=>{["Top","Left","Right","Bottom"].forEach(t=>{const a=e+t;let o;o=1===this._boxReset[a]||"marginRight"===a&&this.bounds.right>=this.documentParent.box.right&&this.inline?0:this[a],n[a]=o+=this._boxAdjustment[a]});const o=0===a?"layout_margin":"padding",s=`${e}Top`,i=`${e}Right`,r=`${e}Bottom`,c=`${e}Left`,l=this.localizeString("Left"),h=this.localizeString("Right"),d=this.renderParent;let f,u,p;!this.supported("android","layout_marginHorizontal")||0===a&&d&&d.is(t.GRID)||(n[s]===n[i]&&n[i]===n[r]&&n[r]===n[c]?f=n[s]:(n[c]===n[i]&&(u=n[c]),n[s]===n[r]&&(p=n[s]))),void 0!==f?0!==f&&this.android(o,U.formatPX(f)):(void 0!==u?0!==u&&this.android(`${o}Horizontal`,U.formatPX(u)):(0!==n[c]&&this.android(o+l,U.formatPX(n[c])),0!==n[i]&&this.android(o+h,U.formatPX(n[i]))),void 0!==p?0!==p&&this.android(`${o}Vertical`,U.formatPX(p)):(0!==n[s]&&this.android(`${o}Top`,U.formatPX(n[s])),0!==n[r]&&this.android(`${o}Bottom`,U.formatPX(n[r]))))})}autoSizeBoxModel(){if(!this.hasBit("excludeProcedure",H.NODE_PROCEDURE.AUTOFIT)){const n=this.renderParent;let e=U.convertInt(this.android("layout_width")),a=U.convertInt(this.android("layout_height"));if(this.is(t.BUTTON)&&0===a)this.has("minHeight")||this.android("layout_height",U.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?U.convertInt(this.css("borderWidth")):0)));else if(this.is(t.LINE))"HR"!==this.tagName&&a>0&&this.toInt("height",!0)>0&&this.android("layout_height",U.formatPX(a+this.borderTopWidth+this.borderBottomWidth));else if(n){let t=!1;this.tableElement?t="content-box"===this.css("boxSizing")||F.isUserAgent(24):this.styleElement&&!this.hasBit("excludeResource",H.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||n.tableElement||(e>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",U.formatPX(e+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(e=U.convertInt(n.android("layout_width")))>0&&n.android("layout_width",U.formatPX(e+this.marginLeft+this.contentBoxWidth)),a>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",U.formatPX(a+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(a=U.convertInt(n.android("layout_height")))>0&&n.android("layout_height",U.formatPX(a+this.marginTop+this.contentBoxHeight))),t=!0),t&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}alignHorizontalLayout(){if(this.layoutHorizontal){if(this.layoutLinear){const t=this.renderChildren;let n;t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline)?this.android("baselineAligned","false"):(n=z.baseline(t.filter(t=>t.baseline&&!t.layoutRelative&&!t.layoutConstraint),!0)[0])&&this.android("baselineAlignedChildIndex",""+t.indexOf(n));const e=Math.max(this.lineHeight,U.maxArray(this.renderChildren.map(t=>t.lineHeight)));e>0&&m(this,e)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){const t=this.find(t=>"left"===t.float)||this.renderChildren[0];if(t&&t.marginLeft<0){const n=Math.abs(t.marginLeft);n===this.marginLeft?(this.modifyBox(16,null),t.modifyBox(16,null)):n<this.marginLeft?(this.modifyBox(16,t.marginLeft),t.modifyBox(16,null)):(this.modifyBox(16,null),t.modifyBox(16,this.marginLeft))}}}}alignVerticalLayout(){const t=this.renderParent;if(t&&!t.layoutHorizontal){const t=this.lineHeight;if(t){const n=()=>{const n=this.android("minHeight"),e=t+this.contentBoxHeight;U.convertInt(n)<e&&(this.android("minHeight",U.formatPX(e)),this.mergeGravity("gravity","center_vertical"))};0===this.length?this.layoutHorizontal||(this.inlineStatic&&this.visibleStyle.background?m(this,t):n()):this.layoutVertical&&this.each(n=>!n.layoutHorizontal&&m(n,t),!0)}}}get documentId(){return this.controlId?`@+id/${this.controlId}`:""}set anchored(t){this.constraint.horizontal=t,this.constraint.vertical=t}get anchored(){return this.constraint.horizontal&&this.constraint.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=o[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}get layoutFrame(){return this.is(t.FRAME)}get layoutLinear(){return this.is(t.LINEAR)}get layoutRelative(){return this.is(t.RELATIVE)}get layoutConstraint(){return this.is(t.CONSTRAINT)}get support(){return{container:{positionRelative:this.layoutRelative||this.layoutConstraint}}}get inlineWidth(){return"wrap_content"===this.android("layout_width")}get inlineHeight(){return"wrap_content"===this.android("layout_height")}get blockWidth(){return"match_parent"===this.android("layout_width")}get blockHeight(){return"match_parent"===this.android("layout_height")}get singleChild(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}get dpi(){return this.localSettings.resolutionDPI}get fontSize(){return 0===this._fontSize&&(this._fontSize=parseInt(U.convertPX(this.css("fontSize"),this.dpi,0))||16),this._fontSize}set localSettings(t){Object.assign(this._localSettings,t)}get localSettings(){return this._localSettings}});class D extends(W(squared.base.Node)){}class k extends(W(squared.base.NodeGroup)){constructor(t,n,e,a){super(t,void 0,a),this.tagName=`${n.tagName}_GROUP`,this.documentParent=n.documentParent,this.retain(e)}}var K=squared.base.NodeList,Z=squared.base.lib.enumeration,Y=squared.lib.color,J=squared.lib.dom,P=squared.lib.util,Q=squared.lib.xml;function b(t){if(t.some(t=>t.floating)){const n=t.slice().sort((t,n)=>{if(t.floating&&!n.floating)return"left"===t.float?-1:1;if(!t.floating&&n.floating)return"left"===n.float?1:-1;if(t.floating&&n.floating){if(t.float!==n.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===n.float)return-1}return 0});if(n.map(t=>t.id).join("-")!==t.map(t=>t.id).join("-"))return t.length=0,t.push(...n),!0}return!1}function v(t,n){for(const e of n)e!==t&&(e.imageElement&&e.actualHeight>t.actualHeight?e.renderParent&&P.withinFraction(e.linear.top,e.renderParent.box.top)&&e.anchor("top","true"):(e.element&&0===e.length||e.layoutHorizontal&&e.renderChildren.every(t=>t.baseline))&&e.anchor("baseline",t.documentId))}function V(n){return n.filter(t=>"text-bottom"===t.verticalAlign).sort((n,e)=>n.bounds.height===e.bounds.height?n.is(t.SELECT)?1:-1:n.bounds.height>e.bounds.height?-1:1)[0]}function j(t,n=!1){t.textElement&&"center"!==t.cssParent("textAlign",!0)&&!t.hasWidth&&!t.multiLine&&(n||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function $(t,n,e,a=!1){return t>0?(a||(t-=n[`padding${e}`]),n.documentBody&&(t-=n[`margin${e}`]),Math.max(t,0)):t}function tt(t,n){if("left"===n.float){if(n.marginRight<0){return t.modifyBox(16,n.bounds.width+(n.hasWidth?n.paddingLeft+n.borderLeftWidth:0)-Math.abs(n.marginRight)),t.anchor("left",n.documentId),n.modifyBox(4,null),!0}}else if("right"===t.float&&"right"===n.float&&n.marginLeft<0){const e=Math.abs(n.marginLeft);return e<n.bounds.width&&t.modifyBox(4,n.bounds.width-e),t.anchor("right",n.documentId),n.modifyBox(16,null),!0}return!1}function nt(t,n){const e=t.cssInitial(`min${n}`),a=t.cssInitial(`max${n}`);P.isUnit(e)&&(t.app(`layout_constraint${n}_min`,e),t.constraint.minWidth=!0),P.isUnit(a)&&(t.app(`layout_constraint${n}_max`,a),t.constraint.minHeight=!0)}function et(t,n,e,a){if(P.isPercent(e))if(a)t.android(`layout_${n.toLowerCase()}`,t.convertPercent(e,"Width"===n));else if("100%"!==e){t.app(`layout_constraint${n}_percent`,(parseInt(e)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0)).toFixed(t.localSettings.constraintPercentAccuracy||4)),t.android(`layout_${n.toLowerCase()}`,"0px")}}function at(t,n=!1){const e=t.has("width")?t.css("width"):"";et(t,"Width",e,n)}function ot(t,n=!1){if(t.documentParent.hasHeight){const e=t.has("height")?t.css("height"):"";et(t,"Height",e,n)}}function st(t){let n="";for(const e in c)RegExp(`\\s+${e}:`).test(t)&&(n+=`\n\t${q(e)}`);return n}function it(t){"rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl");const n=J.getDataSet(t.element,"android");for(const e in n)if(/^attr[A-Z]/.test(e)){const a=P.capitalize(e.substring(4),!1);n[e].split(";").forEach(n=>{const[e,o]=n.split("::");e&&o&&t.attr(a,e,o)})}const e=P.repeat(t.renderDepth+1);return t.combine().map(t=>`\n${e+t}`).join("")}class rt extends squared.base.Controller{constructor(){super(...arguments),this.localSettings={baseTemplate:g,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}}}static evaluateAnchors(t){const n=t.filter(t=>t.constraint.horizontal),e=t.filter(t=>t.constraint.vertical);let a=-1;for(;++a<t.length;){const o=t[a];if(!o.constraint.horizontal)for(const t in o.constraint.current){const e=o.constraint.current[t];if(e.horizontal&&n.find(t=>t.documentId===e.documentId)){o.constraint.horizontal=!0,n.push(o),a=-1;break}}if(!o.constraint.vertical)for(const t in o.constraint.current){const n=o.constraint.current[t];if(!n.horizontal&&e.find(t=>t.documentId===n.documentId)){o.constraint.vertical=!0,e.push(o),a=-1;break}}}}static setConstraintDimension(t){at(t),ot(t),nt(t,"Width"),nt(t,"Height")}static setFlexDimension(t,n){const e=n?"width":"height",a=n?"height":"width";let o=t.flexbox.basis;if("auto"!==o&&(P.isPercent(o)?"0%"!==o&&(t.app(`layout_constraint${n?"Width":"Height"}_percent`,(parseInt(o)/100).toFixed(2)),o=""):P.isUnit(o)&&(t.android(`layout_${e}`,t.convertPX(o)),o="")),""!==o){const a=t.has(e)?t.css(e):"";t.flexbox.grow>0?(t.android(`layout_${e}`,"0px"),t.app(`layout_constraint${n?"Horizontal":"Vertical"}_weight`,""+t.flexbox.grow)):P.isUnit(a)?t.android(`layout_${e}`,a):t.flexbox.shrink>1?t.android(`layout_${e}`,"wrap_content"):n?at(t):ot(t),t.flexbox.shrink<1&&t.app(`layout_constrained${n?"Width":"Height"}`,"true")}const s=t.has(a)?t.css(a):"";P.isUnit(s)?t.android(`layout_${a}`,s):n?ot(t,!0):at(t,!0),nt(t,"Width"),nt(t,"Height")}finalize(t){const n=this.userSettings;if(n.showAttributes){const n=t.cache.visible.map(t=>({pattern:Q.formatPlaceholder(t.id,"@"),attributes:it(t)}));for(const e of[...t.views,...t.includes])n.forEach(t=>e.content=e.content.replace(t.pattern,t.attributes)),e.content=e.content.replace("{#0}",st(e.content))}for(const e of[...t.views,...t.includes])e.content=M(e.content,n.resolutionDPI,n.convertPixels),e.content=N(e.content,n.insertSpaces),e.content=this.removePlaceholders(e.content).replace(/\n\n/g,"\n")}processUnknownParent(n){const[e,a]=[n.node,n.parent];let o,s=!1;if(e.has("columnCount"))n.columnCount=e.toInt("columnCount"),n.setType(t.CONSTRAINT,256,4);else if(n.some(t=>!t.pageFlow))n.setType(t.CONSTRAINT,32,2);else if(1===n.length){const i=e.item(0);e.documentRoot&&function(t,n){if(n.element&&t.dataset.target){const e=document.getElementById(t.dataset.target);return null!==e&&e!==n.element}return!1}(i,e)?(e.hide(),s=!0):!(this.userSettings.collapseUnattributedElements&&e.element&&e.positionStatic)||P.hasValue(e.element.id)||P.hasValue(e.dataset.use)||P.hasValue(e.dataset.target)||e.hasWidth||e.hasHeight||e.has("maxWidth")||e.has("maxHeight")||e.visibleStyle.background||e.has("textAlign")||e.has("verticalAlign")||!(e.toInt("lineHeight")>0)||e.rightAligned||e.autoMargin.horizontal||e.groupParent||e.companion||this.hasAppendProcessing(e.id)?n.setType(t.FRAME,2048):(i.documentRoot=e.documentRoot,i.siblingIndex=e.siblingIndex,i.parent=a,e.renderAs=i,e.resetBox(510,i,!0),e.hide(),o=i)}else n.init(),J.hasLineBreak(e.element,!0)?n.setType(t.LINEAR,16,2):this.checkConstraintFloat(n)?n.setType(t.CONSTRAINT,1024):n.linearX?(this.checkFrameHorizontal(n)?n.renderType=72:this.checkConstraintHorizontal(n)?n.setType(t.CONSTRAINT):this.checkRelativeHorizontal(n)?n.setType(t.RELATIVE):(n.setType(t.LINEAR),n.floated.size&&(n.renderPosition=b(n.children))),n.add(8)):n.linearY?n.setType(t.LINEAR,16,e.documentRoot?2:0):n.every(t=>t.inlineFlow)?this.checkFrameHorizontal(n)?n.renderType=72:n.setType(t.RELATIVE,8,2):n.some(t=>t.alignedVertically(t.previousSiblings(),n.children,n.cleared))?n.setType(t.LINEAR,16,2):n.setType(t.CONSTRAINT,2);return{layout:n,next:s,renderAs:o}}processUnknownChild(n){const e=n.node,a=e.visibleStyle;let o=!1;return e.inlineText||a.borderWidth&&e.textContent.length?n.setType(t.TEXT):a.backgroundImage&&!a.backgroundRepeat&&(!e.inlineText||e.toInt("textIndent")+e.bounds.width<0)?(n.setType(t.IMAGE,2048),e.exclude({resource:Z.NODE_RESOURCE.FONT_STYLE|Z.NODE_RESOURCE.VALUE_STRING})):e.block&&(a.borderWidth||a.backgroundImage||a.paddingVertical)?n.setType(t.LINE):e.documentRoot||(!this.userSettings.collapseUnattributedElements||!e.element||0!==e.bounds.height||a.background||P.hasValue(e.element.id)||P.hasValue(e.dataset.use)?n.setType(a.background?t.TEXT:t.FRAME):(e.hide(),o=!0)),{layout:n,next:o}}processTraverseHorizontal(t,n){const e=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===n||t.length!==n.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):e.alignmentType|=8,{layout:t}}processTraverseVertical(n,e){const a=n.parent;return!n.floated.size||!n.cleared.size||1===n.floated.size&&n.every((t,e)=>0===e||e===n.length-1||n.cleared.has(t))?void 0===e||n.length!==e.length?a.layoutVertical||(n.node=this.createNodeGroup(n.node,n.children,a),n.setType(t.LINEAR,16)):a.alignmentType|=16:(n.node=this.createNodeGroup(n.node,n.children,a),n.renderType|=80),{layout:n}}processLayoutHorizontal(n,e=!1){let a=0;return this.checkConstraintFloat(n)?n.setType(t.CONSTRAINT,1024):this.checkConstraintHorizontal(n)?a=t.CONSTRAINT:this.checkRelativeHorizontal(n)?a=t.RELATIVE:(!e||n.linearX&&!n.floated.has("right"))&&(a=t.LINEAR,n.floated.size&&(n.renderPosition=b(n.children))),0!==a&&n.setType(a,8),{layout:n}}sortRenderPosition(t,n){if(t.layoutConstraint&&n.some(t=>!t.pageFlow)){const e=[],a=[],o=[],s=[];for(const e of n)e.pageFlow||e.actualParent!==t?o.push(e):e.zIndex>=0?s.push(e):a.push(e);return e.push(...P.sortAsc(a,"zIndex","id")),e.push(...o),e.push(...P.sortAsc(s,"zIndex","id")),e}return[]}checkFrameHorizontal(t){const[n,e]=t.partition(t=>t.floating);if(2===t.floated.size||t.cleared.size||t.some(t=>t.pageFlow&&t.autoMargin.horizontal))return!0;if(e.length){if(t.floated.has("right"))return!0;if(!this.userSettings.floatOverlapDisabled&&t.floated.has("left")){const t=P.minArray(e.map(t=>t.siblingIndex));return n.map(t=>t.siblingIndex).some(n=>n<t)&&e.some(t=>t.blockStatic)}}return!1}checkConstraintFloat(t){return 1===t.floated.size&&t.every(t=>t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0))}checkConstraintHorizontal(t){return!t.parent.hasHeight&&1!==new Set(t.map(t=>t.bounds.height)).size&&t.some(t=>"bottom"===t.verticalAlign)&&t.every(t=>t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign))}checkRelativeHorizontal(t){return 2!==t.floated.size&&t.some(t=>t.positionRelative||t.textElement||t.imageElement||!t.baseline)}setConstraints(){for(const t of this.cache.visible)if(!t.hasBit("excludeProcedure",Z.NODE_PROCEDURE.CONSTRAINT)){const n=t.renderChildren.filter(t=>!t.positioned);if(n.length)if(t.layoutConstraint){const[e,a]=P.partition(n,t=>t.pageFlow),o=Math.max(a.length?P.maxArray(t.renderChildren.map(t=>t.linear.bottom)):0,t.box.bottom);for(const n of a)if(!n.positionAuto&&(n.documentParent===n.absoluteParent||"fixed"===n.position)){if(n.hasWidth&&n.autoMargin.horizontal?n.has("left")&&n.autoMargin.right?(n.anchor("left","parent"),n.modifyBox(16,n.left)):n.has("right")&&n.autoMargin.left?(n.anchor("right","parent"),n.modifyBox(4,n.right)):(n.anchorParent(i.HORIZONTAL),n.modifyBox(16,n.left),n.modifyBox(4,n.right)):(n.has("left")&&(n.anchor("left","parent"),n.modifyBox(16,$(n.left,t,"Left"))),!n.has("right")||n.hasWidth&&n.has("left")||(n.anchor("right","parent"),n.modifyBox(4,$(n.right,t,"Right")))),n.hasHeight&&n.autoMargin.vertical)n.has("top")&&n.autoMargin.bottom?(n.anchor("top","parent"),n.modifyBox(2,n.top)):n.has("bottom")&&n.autoMargin.top?(n.anchor("bottom","parent"),n.modifyBox(8,n.bottom)):(n.anchorParent(i.VERTICAL),n.modifyBox(2,n.top),n.modifyBox(8,n.bottom));else{if(n.has("top")){const e=t.valueBox(32);n.anchor("top","parent"),n.modifyBox(2,$(n.top,t,"Top",1===e[0]))}if(n.has("bottom")&&(!n.hasHeight||!n.has("top"))){const e=t.valueBox(128);n.anchor("bottom","parent"),n.modifyBox(8,$(n.bottom,t,"Bottom",1===e[0]))}}n.positioned=!0}if(t.layoutHorizontal)this.processConstraintHorizontal(t,e);else if(t.hasAlign(256))this.processConstraintColumn(t,e);else if(e.length>1)this.processConstraintChain(t,e,o);else for(const n of e)n.autoMargin.leftRight||n.inlineStatic&&"center"===n.cssParent("textAlign",!0)?n.anchorParent(i.HORIZONTAL):n.rightAligned?n.anchor("right","parent"):(P.withinFraction(n.linear.left,t.box.left)||n.linear.left<t.box.left)&&n.anchor("left","parent"),(P.withinFraction(n.linear.top,t.box.top)||n.linear.top<t.box.top)&&n.anchor("top","parent"),this.withinParentBottom(n.linear.bottom,o)&&n.actualParent&&!n.actualParent.documentBody&&n.anchor("bottom","parent"),rt.setConstraintDimension(n);rt.evaluateAnchors(e),n.forEach(n=>{n.anchored||(this.addGuideline(n,t),n.pageFlow&&rt.evaluateAnchors(e)),!n.hasWidth&&n.alignParent("left")&&n.alignParent("right")&&n.android("layout_width","match_parent"),!n.hasHeight&&n.alignParent("top")&&n.alignParent("bottom")&&n.android("layout_height","match_parent")})}else t.layoutRelative&&this.processRelativeHorizontal(t,n)}}renderNodeGroup(n){const[e,a,o,s]=[n.node,n.parent,n.containerType,n.alignmentType],r=R();let c=!1;switch(o){case t.LINEAR:P.hasBit(s,16)?(r.android.orientation=i.VERTICAL,c=!0):P.hasBit(s,8)&&(r.android.orientation=i.HORIZONTAL,c=!0);break;case t.GRID:r.android.rowCount=n.rowCount?""+n.rowCount:"",r.android.columnCount=n.columnCount?""+n.columnCount:"2",c=!0;break;case t.FRAME:case t.RELATIVE:case t.CONSTRAINT:c=!0}if(c){const t=P.hasValue(e.dataset.target)&&!P.hasValue(e.dataset.use),n=D.getControlName(o);return e.alignmentType|=s,e.setControlType(n,o),e.render(t?e:a),e.apply(r),this.getEnclosingTag(n,e.id,t?-1:e.renderDepth,Q.formatPlaceholder(e.id))}return""}renderNode(n){const[e,o]=[n.node,n.parent];e.alignmentType|=n.alignmentType;const s=D.getControlName(n.containerType);e.setControlType(s,n.containerType);const r=P.hasValue(e.dataset.target)&&!P.hasValue(e.dataset.use);switch(e.element?e.element.tagName:""){case"IMG":if(!e.hasBit("excludeResource",Z.NODE_RESOURCE.IMAGE_SOURCE)){const n=e.element,i=e.has("width",32),c=e.has("height",32);let l=e.toInt("width"),h=e.toInt("height"),d="";if(i||c)d=i&&c?"fitXY":"fitCenter";else{if(0===l){const t=/width="(\d+)"/.exec(n.outerHTML);t&&(l=parseInt(t[1]),e.css("width",P.formatPX(t[1]),!0))}if(0===h){const t=/height="(\d+)"/.exec(n.outerHTML);t&&(h=parseInt(t[1]),e.css("height",P.formatPX(t[1]),!0))}switch(e.css("objectFit")){case"contain":d="centerInside";break;case"cover":d="centerCrop";break;case"scale-down":d="fitCenter";break;case"none":d="matrix";break;default:d="fitXY"}}e.android("scaleType",d),(l>0&&0===h||0===l&&h>0)&&e.android("adjustViewBounds","true"),e.baseline&&e.android("baselineAlignBottom","true");const f=I.addImageSrcSet(n);if(""!==f&&e.android("src",`@drawable/${f}`),!e.pageFlow&&e.left<0||e.top<0){const n=e.absoluteParent;if(n&&"hidden"===n.css("overflow")){const n=new D(this.cache.nextId,J.createElement(e.actualParent?e.actualParent.element:null),this.afterInsertNode);return n.setControlType(a.FRAME,t.FRAME),n.inherit(e,"base"),n.exclude({procedure:Z.NODE_PROCEDURE.ALL,resource:Z.NODE_RESOURCE.ALL}),n.css({position:e.position,zIndex:e.zIndex}),o.appendTry(e,n),this.cache.append(n),n.android("layout_width",l>0?l<o.box.width?P.formatPX(l):"match_parent":"wrap_content"),n.android("layout_height",h>0?h<o.box.height?P.formatPX(h):"match_parent":"wrap_content"),n.render(r?n:o),n.companion=e,n.saveAsInitial(),e.modifyBox(2,e.top),e.modifyBox(16,e.left),e.render(n),this.getEnclosingTag(a.FRAME,n.id,r?-1:n.renderDepth,this.getEnclosingTag(s,e.id,r?0:e.renderDepth))}}}break;case"TEXTAREA":{const t=e.element;e.android("minLines","2"),t.rows>2&&e.android("lines",""+t.rows),t.maxLength>0&&e.android("maxLength",""+t.maxLength),!e.hasWidth&&t.cols>0&&e.css("width",P.formatPX(8*t.cols),!0),e.android("hint",t.placeholder),e.android("scrollbars",i.VERTICAL),e.android("inputType","textMultiLine"),e.overflowX&&e.android("scrollHorizontally","true"),e.cssInitial("verticalAlign")||e.css("verticalAlign","text-bottom",!0);break}case"SELECT":e.element.size>1&&!e.cssInitial("verticalAlign")&&e.css("verticalAlign","text-bottom",!0);break;case"INPUT":{const t=e.element;switch(t.type){case"password":e.android("inputType","textPassword");break;case"text":e.android("inputType","text");break;case"range":P.hasValue(t.min)&&e.android("min",t.min),P.hasValue(t.max)&&e.android("max",t.max),P.hasValue(t.value)&&e.android("progress",t.value);break;case"image":if(!e.hasBit("excludeResource",Z.NODE_RESOURCE.IMAGE_SOURCE)){const n=I.addImage({mdpi:t.src});""!==n&&e.android("src",`@drawable/${n}`,!1)}}switch(t.type){case"text":case"search":case"tel":case"url":case"email":case"password":!e.hasWidth&&t.size>0&&e.css("width",P.formatPX(8*t.size),!0)}break}}if(e.inlineVertical)switch(e.verticalAlign){case"sub":e.modifyBox(8,Math.ceil(e.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":e.modifyBox(2,Math.ceil(e.fontSize/this.localSettings.relative.superscriptFontScale))}switch(e.controlName){case a.TEXT:const t=[];e.overflowX&&t.push(i.HORIZONTAL),e.overflowY&&t.push(i.VERTICAL),t.length&&e.android("scrollbars",t.join("|")),"nowrap"===e.css("whiteSpace")&&e.android("singleLine","true");const n=e.css("textShadow");if("none"!==n&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some((t,a)=>{const o=n.match(t);if(o){const t=Y.parseRGBA(o[0===a?1:4]);if(t){const n=I.addColor(t);""!==n&&e.android("shadowColor",`@color/${n}`)}return e.android("shadowDx",""+P.convertInt(o[0===a?2:1])),e.android("shadowDy",""+P.convertInt(o[0===a?3:2])),e.android("shadowRadius",""+P.convertInt(o[0===a?4:3])),!0}return!1}),e.has("maxWidth")){const t=e.convertPX(e.css("maxWidth"));e.android("maxWidth",t)}if(e.has("maxHeight")){const t=e.convertPX(e.css("maxHeight"),!1);e.android("maxHeight",t)}break;case a.BUTTON:e.cssInitial("verticalAlign")||e.css("verticalAlign","text-bottom",!0);break;case a.LINE:e.hasHeight||e.android("layout_height",P.formatPX(e.contentBoxHeight||1))}return e.render(r?e:o),this.getEnclosingTag(s,e.id,r?-1:e.renderDepth)}renderNodeStatic(t,n,e={},a="",o="",s,i){const r=Math.max(0,n);void 0===s?s=new D(0,void 0,this.afterInsertNode):(s.renderDepth=r,s.rendered=!0),s.apply(e),s.android("layout_width",a,!1),s.android("layout_height",o,!1),0!==s.containerType&&""!==s.controlName||s.setControlType(t);let c=this.getEnclosingTag(t,s.id,s.documentRoot||0!==n?n:-1,i?Q.formatPlaceholder(s.id):"");if(this.userSettings.showAttributes&&0===s.id){const t=P.repeat(r+1),n=s.combine().map(n=>`\n${t+n}`).join("");c=c.replace(Q.formatPlaceholder(s.id,"@"),n)}return e.documentId=s.documentId,c}renderSpace(t,n,e="",o=0,s=0,i){i=R(i);let r="",c="";return P.isPercent(n)&&(i.android.layout_columnWeight=r=(parseInt(n)/100).toFixed(2),n="0px"),P.isPercent(e)&&(i.android.layout_rowWeight=c=(parseInt(e)/100).toFixed(2),e="0px"),o>0&&(i.android.layout_columnSpan=""+o),s>0&&(i.android.layout_rowSpan=""+s),this.renderNodeStatic(a.SPACE,t,i,n,P.hasValue(e)?e:"wrap_content")}addGuideline(t,n,e="",o=!1,s=!1){"true"===t.dataset.constraintPercent&&(o=!0),"true"===t.dataset.constraintOpposite&&(s=!0);const r=n.groupParent?n:t.documentParent;[i.HORIZONTAL,i.VERTICAL].forEach((c,l)=>{if(!t.constraint[c]&&(""===e||c===e)){const e=0===l;let h,d,f,u;if(e?(h=s?"right":"left",d=s?"left":"right",f=s?"rightLeft":"leftRight",u=s?"leftRight":"rightLeft"):(h=s?"bottom":"top",d=s?"top":"bottom",f=s?"bottomTop":"topBottom",u=s?"topBottom":"bottomTop"),P.withinFraction(t.linear[h],r.box[h]))return void t.anchor(h,"parent",!0);const p=t.positionStatic?"bounds":"linear";let g,E="layout_constraintGuide_",w=!1;if(!t.pageFlow&&P.isPercent(t.css(h)))g=parseInt(t.css(h))/100,w=!0,E+="percent";else{if(!o&&!n.hasAlign(4)){if(n.renderChildren.some(n=>{if(n!==t&&n.constraint[c]){const a=t.pageFlow&&n.pageFlow;let o=!1;if(a&&(P.withinFraction(t.linear[h],n.linear[d])?(t.anchor(f,n.documentId,!0),o=!0):P.withinFraction(t.linear[d],n.linear[h])&&(t.anchor(u,n.documentId,!0),o=!0)),(a||!t.pageFlow&&!n.pageFlow)&&(P.withinFraction(t.bounds[h],n.bounds[h])?(t.anchor(!e&&t.textElement&&t.baseline&&n.textElement&&n.baseline?"baseline":h,n.documentId,!0),o=!0):P.withinFraction(t.bounds[d],n.bounds[d])&&(t.anchor(d,n.documentId,!0),o=!0)),o)return n.constraint[c]=!0,!0}return!1}))return}if(t.positionAuto){const n=t.previousSiblings();if(n.length&&!t.alignedVertically(n)){const a=n[n.length-1];if(a.renderParent===t.renderParent)return t.anchor(e?"rightLeft":"top",a.documentId,!0),void(t.constraint[c]=a.constraint[c])}}if(o){g=parseFloat(Math.abs(Math.abs(t[p][h]-r.box[h])/r.box[e?"width":"height"]-(s?1:0)).toFixed(this.localSettings.constraint.percentAccuracy)),w=!0,E+="percent"}else g=t[p][h]-r.box[s?d:h],E+="begin"}const _=n.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const n=P.convertInt(t.verticalAlign);n<0&&(g+=n)}}else if(t.absoluteParent===t.documentParent)if(e)g=$(g,r,"Left");else{const t=r.valueBox(32);g=$(g,r,"Top",1===t[0])}if(g<=0)t.anchor(h,"parent",!0);else if(e&&r.hasWidth&&!t.has("right")&&g+t[p].width>=r.box.right||!e&&r.hasHeight&&!t.has("bottom")&&g+t[p].height>=r.box.bottom)t.anchor(d,"parent",!0);else{const o=P.optionalAsObject(_,`${c}.${E}.${h}`);let s=!1;if(o)for(const n in o)if(parseInt(o[n])===g){t.anchor(h,n,!0),t.anchorDelete(d),s=!0;break}if(!s){const o=R({android:{orientation:0===l?i.VERTICAL:i.HORIZONTAL},app:{[E]:w?""+g:P.formatPX(g)}});this.appendAfter(t.id,this.renderNodeStatic(a.GUIDELINE,t.renderDepth,o,"wrap_content","wrap_content"));const s=o.documentId;t.anchor(h,s,!0),t.anchorDelete(d),P.defaultWhenNull(_,c,E,h,s,""+g),n.constraint.guideline=_,t.constraint[e?"guidelineHorizontal":"guidelineVertical"]=s}}t.constraint[c]=!0}})}createNodeGroup(t,n,e,a){const o=new k(this.cache.nextId,t,n,this.afterInsertNode);return o.siblingIndex=t.siblingIndex,e&&(e.appendTry(a||t,o),o.init()),this.cache.append(o),o}createNodeWrapper(t,n,e,a){const o=new D(this.application.nextId,J.createElement(t.actualParent?t.actualParent.element:null,t.block),this.application.controllerHandler.afterInsertNode);return t.documentRoot&&(o.documentRoot=!0,t.documentRoot=!1),o.inherit(t,"base","alignment"),e&&o.setControlType(e,a),o.exclude({section:Z.APP_SECTION.ALL,procedure:Z.NODE_PROCEDURE.CUSTOMIZATION,resource:Z.NODE_RESOURCE.ALL}),o.siblingIndex=t.siblingIndex,n&&(n.appendTry(t,o),t.siblingIndex=0,-1!==t.renderPosition&&(o.renderPositionId=t.renderPositionId,t.renderPosition=-1),t.parent=o),o.saveAsInitial(),this.application.processing.cache.append(o,!n),t.unsetCache(),o}processRelativeHorizontal(t,n){const e=K.cleared(n),a=Math.ceil((()=>{const e=t.renderParent;if(e)if(e.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(e.has("width",2))return e.toInt("width",!0);if(e.has("width",32))return e.bounds.width-e.contentBoxWidth}else{const a=e.children.filter(n=>"left"===n.float&&n.siblingIndex<t.siblingIndex).map(t=>t.linear.right);if(a.length){const e=P.maxArray(a);if(n.some(t=>t.linear.left===e))return t.box.right-e}}return t.box.width})()),o=a*this.localSettings.relative.boxWidthWordWrapPercent,s="nowrap"!==t.css("whiteSpace"),i=J.isUserAgent(24),r=[],c=new Set;let l,h,d=!1,f=0;const[u,p]=P.partition(n,t=>"right"===t.float);b(p),[p,u].forEach((n,d)=>{const u=0===d?"left":"right";for(let g=0;g<n.length;g++){const E=n[g],w=n[g-1];let _=E.bounds;if(E.element&&!E.hasWidth&&E.inlineText){const t=J.getRangeClientRect(E.element);(t.multiLine||t.width<E.box.width)&&(_=t,0===E.multiLine&&(E.multiLine=t.multiLine),i&&t.multiLine&&!/^\s*\n+/.test(E.textContent)&&c.add(E))}let S=0===d?"leftRight":"rightLeft",C=[];if(0===g)E.anchor(u,"true"),r.push([E]);else{function p(){const t=(l&&r.length>1?l.linear.width:0)+f+E.marginLeft+("left"!==w.float||e.has(E)?_.width:0)-(i?E.borderRightWidth:0);return!E.rightAligned&&Math.floor(t)-(E.styleElement&&E.inlineStatic?E.paddingLeft+E.paddingRight:0)>a}tt(E,w)&&(S="");const n=E.groupParent&&!E.hasAlign(128);C=!n&&E.element&&E.inlineVertical&&w.inlineVertical?J.getElementsBetween(w.element,E.element,!0):[];const o=(()=>{if(E.textElement){let t=!1;if(w.textElement&&(1===g&&E.plainText&&!w.rightAligned&&(t=0===C.length&&!/\s+$/.test(w.textContent)&&!/^\s+/.test(E.textContent)),s&&!t&&(c.has(w)||w.multiLine&&J.hasLineBreak(w.element,!1,!0))))return!0;if(s&&!t&&(p()||E.multiLine&&J.hasLineBreak(E.element)||E.preserveWhiteSpace&&/^\n+/.test(E.textContent)))return!0}return!1})(),d=r[r.length-1],I=E.previousSiblings();if(o||n||!E.textElement&&p()||E.linear.top>=w.linear.bottom&&(E.blockStatic||E.floating&&w.float===E.float)||!E.floating&&(w.blockStatic||I.length&&I.some(t=>t.lineBreak||t.excluded&&t.blockStatic)||C.some(t=>J.isLineBreak(t)))||e.has(E)){h=d.filter(t=>!t.floating)[0]||d[0];for(let t=0;t<d.length;t++)d[t]!==h&&d[t].linear.bottom>h.linear.bottom&&(!d[t].floating||d[t].floating&&h.floating)&&(h=d[t]);E.anchor("topBottom",h.documentId),l&&E.linear.bottom<=l.bounds.bottom?E.anchor(S,l.documentId):(E.anchor(u,"true"),l=void 0),o&&E.multiLine&&j(w,s),f=Math.min(0,o&&!w.multiLine&&E.multiLine&&!e.has(E)?E.linear.right-t.box.right:0),r.push([E])}else""!==S&&E.anchor(S,w.documentId),h&&E.anchor("topBottom",h.documentId),d.push(E)}"left"===E.float&&(l=E);let I=0;if(C.length&&!C.some(t=>!!J.getElementAsNode(t)||J.isLineBreak(t))){const t=J.getRangeClientRect(C[0]),n=C.length>1?J.getRangeClientRect(C[C.length-1]):null;t.multiLine||null!==n&&n.multiLine||(I=n?t.left-n.right:t.width)}Math.ceil(f+=I+E.marginLeft+_.width+E.marginRight)>=o&&!E.alignParent(u)&&j(E,s)}}),r.length>1&&(t.alignmentType|=4096,d=!0);for(let n=0;n<r.length;n++){const e=r[n],a=K.baseline(e),o=a[0],s=K.baseline(e,!0)[0];let i=V(e);o&&i&&i.bounds.height>o.bounds.height?o.anchor("bottom",i.documentId):i=void 0;const c=[];let l=0===n?"true":o?o.documentId:"";const h=n=>{if(!d){if(a.includes(n)||n.actualParent&&n.actualHeight>=n.actualParent.box.height)return!0;t.hasHeight||t.css("height",P.formatPX(t.bounds.height),!0)}return!1};for(const t of e)if(t!==o)if(t.baseline)c.push(t);else if(t.inlineVertical)switch(t.verticalAlign){case"text-top":s&&t.anchor("top",s.documentId);break;case"super":case"top":l&&t.anchor("top",l);break;case"middle":if(d){if(o){const n=Math.max(t.bounds.height,t.lineHeight),e=Math.max(o.bounds.height,o.lineHeight);n<e&&(t.anchor("top",o.documentId),t.modifyBox(2,Math.round((e-n)/2)))}}else t.anchor("centerVertical","true");break;case"text-bottom":s&&t!==i&&t.anchor("bottom",s.documentId);break;case"sub":case"bottom":h(t)&&(l=""),l&&t.anchor("bottom",l);break;default:"0px"===t.verticalAlign||t.svgElement||c.push(t)}if(o&&c.length&&(v(o,c),o.baselineActive=!0,t.lineHeight||o.lineHeight)){let n=0;(n=o.lineHeight?o.lineHeight-o.bounds.height:t.lineHeight-(o.bounds.height-(o.paddingTop+o.paddingBottom)))>0&&(o.modifyBox(2,Math.floor(n/2)),o.modifyBox(8,Math.ceil(n/2)))}}}processConstraintHorizontal(t,n){const e=K.baseline(n)[0],a=K.baseline(n,!0)[0];let o=V(n);const s=t.hasAlign(512);e&&(e.baselineActive=!0,o&&e.bounds.height<o.bounds.height?e.anchor("bottom",o.documentId):o=void 0);for(let t=0;t<n.length;t++){const r=n[t],c=n[t-1];if(0===t?r.anchor(s?"right":"left","parent"):c&&r.anchor(s?"rightLeft":"leftRight",c.documentId),r.inlineVertical)switch(r.verticalAlign){case"text-top":a&&r!==a&&r.anchor("top",a.documentId);break;case"super":case"top":r.anchor("top","parent");break;case"middle":r.anchorParent(i.VERTICAL);break;case"text-bottom":a&&r!==a&&r!==o&&r.anchor("bottom",a.documentId);break;case"sub":case"bottom":r.anchor("bottom","parent");break;case"baseline":e&&r!==e&&r.anchor("baseline",e.documentId)}}}processConstraintColumn(t,n){const e=t.toInt("columnCount"),a=Math.ceil(n.length/Math.min(e,n.length)),o=[];for(let t=0,e=0;t<n.length;t++){const s=n[t];t%a==0&&(t>0&&e++,void 0===o[e]&&(o[e]=[])),o[e].push(s)}const i=P.convertInt(t.css("columnGap"))||16,r=o.map(t=>P.maxArray(t.map(t=>t.marginLeft+t.marginRight))).reduce((t,n)=>t+n,0),c=Math.max((r+i*(e-1))/t.box.width/e,.01),l=[],h=[],d=[];for(let t=0;t<o.length;t++){const n=o[t],a=n[0];t>0&&a.android(a.localizeString(s.MARGIN_LEFT),P.formatPX(a.marginLeft+i)),d.push(a),n.forEach(t=>{let n=0;(n=t.has("width",32)?t.toInt("width")/100:1/e-c)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",n.toFixed(2)))}),h.push(n)}l.push(d),[l,h].forEach((t,n)=>{const e=0===n;t.forEach(t=>{const n=t[0],a=t[t.length-1];n.anchor(e?"left":"top","parent"),a.anchor(e?"right":"bottom","parent");for(let a=0;a<t.length;a++){const o=t[a],s=t[a-1],i=t[a+1];e?o.app("layout_constraintVertical_bias","0"):a>0&&o.anchor("left",n.documentId),i&&o.anchor(e?"rightLeft":"bottomTop",i.documentId),s&&o.anchor(e?"leftRight":"topBottom",s.documentId),rt.setConstraintDimension(o),o.anchored=!0}e?n.app("layout_constraintHorizontal_chainStyle","spread_inside"):n.app("layout_constraintVertical_chainStyle","packed")})})}processConstraintChain(t,n,e){const a=K.partitionRows(n),o=K.actualParent(n)||t,s=t.hasAlign(64),r=a.length>1&&t.hasAlign(1024)?K.clearedAll(o):new Map;let c=!1;a.length>1&&(t.alignmentType|=4096),s&&(c=t.hasAlign(512),n.some(t=>t.has("width",32))&&t.android("layout_width","match_parent"));for(const i of n)s||(i.rightAligned?(P.withinFraction(i.linear.right,o.box.right)||i.linear.right>o.box.right)&&i.anchor("right","parent"):(P.withinFraction(i.linear.left,o.box.left)||i.linear.left<o.box.left)&&i.anchor("left","parent")),(P.withinFraction(i.linear.top,t.box.top)||i.linear.top<t.box.top||i.floating&&1===a.length)&&i.anchor("top","parent"),!this.withinParentBottom(i.linear.bottom,e)||o.documentBody||!o.hasHeight&&i.alignParent("top")||i.anchor("bottom","parent");const l=[];let h,d,f,u;c?(h="right",d="left",f="rightLeft",u="leftRight"):(h="left",d="right",f="leftRight",u="rightLeft"),a.forEach((t,n)=>{const e=t[0],p=t[t.length-1];let g;if(e.anchor(h,"parent"),"center"===o.css("textAlign")?e.app("layout_constraintHorizontal_chainStyle","spread"):t.length>1&&(c?(p.app("layout_constraintHorizontal_chainStyle","packed"),p.app("layout_constraintHorizontal_bias","1")):(e.app("layout_constraintHorizontal_chainStyle","packed"),e.app("layout_constraintHorizontal_bias","0"))),t.length>1&&p.anchor(d,"parent"),n>0){const t=a[n-1];g=t[0];for(let n=1;n<t.length;n++)t[n].linear.bottom>g.linear.bottom&&(g=t[n])}for(let E=0;E<t.length;E++){const w=t[E],_=t[E-1],S=t[E+1];if(w.autoMargin.leftRight?w.anchorParent(i.HORIZONTAL):(_&&w.anchor(f,_.documentId),S&&w.anchor(u,S.documentId)),rt.setConstraintDimension(w),n>0){const t=a[n-1],i=t[t.length-1],_=c?p:e,S=[];if(i?(S.push(i),w.element&&S.push(...P.flatMap(J.getElementsBetween(i.element,w.element),t=>J.getElementAsNode(t)))):S.push(_),!s||0!==r.size&&S.some(t=>r.has(t)))g&&(E>0?(w.anchor("top",e.documentId),w.modifyBox(2,-1*e.marginTop)):(w.anchor("topBottom",g.documentId),g.anchor("bottomTop",w.documentId)));else if(t.length){w.anchor("topBottom",i.documentId),i.alignSibling("bottomTop")||i.anchor("bottomTop",w.documentId);for(let t=l.length-2;t>=0;t--){const n=l[t];if(n.linear.bottom>i.linear.bottom){if((c?Math.ceil(n.linear[d])-Math.floor(o.box[d]):Math.ceil(o.box[d])-Math.floor(n.linear[d]))>=w.linear.width){w.anchor(f,n.documentId),w.anchorDelete(u),w===e?(w.anchorDelete(h),w.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):w===p&&w.anchorDelete(d);break}}}}}l.push(w)}}),rt.evaluateAnchors(n)}withinParentBottom(t,n){return P.withinRange(t,n,this.localSettings.constraint.withinParentBottomOffset)}get userSettings(){return this.application.userSettings}get containerTypeHorizontal(){return{containerType:t.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:t.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:t.FRAME,alignmentType:256,renderType:0}}get afterInsertNode(){const t=this.userSettings;return n=>{n.localSettings={targetAPI:void 0!==t.targetAPI?t.targetAPI:28,resolutionDPI:void 0!==t.resolutionDPI?t.resolutionDPI:160,supportRTL:void 0===t.supportRTL||t.supportRTL,constraintPercentAccuracy:this.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===t.customizationsOverwritePrivilege||t.customizationsOverwritePrivilege}}}}class ct extends squared.base.ExtensionManager{}var lt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<color name="{&value}">{&name}</color>\n!1\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e';var ht='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<dimen name="{&name}">{&value}</dimen>\n!1\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e';var dt="{&value}\n\x3c!-- filename: {&name} --\x3e";var ft='<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n!1\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n!1\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e';var ut='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string name="{&name}">{~value}</string>\n!1\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e';var pt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string-array name="{&name}">\n!items\n\t\t<item>{&value}</item>\n!items\n\t</string-array>\n!1\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e';var gt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<style name="{&name}" parent="{~parent}">\n!items\n\t\t<item name="{&name}">{&value}</item>\n!items\n\t</style>\n!1\n</resources>\n\x3c!-- filename: res/values/styles.xml --\x3e',Et=squared.lib.util,wt=squared.lib.xml;function _t(t){const n=[],e=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/g;let a;for(;null!==(a=e.exec(t));)n.push({uri:a[1],pathname:a[2],filename:a[3],content:""});return n}function St(t){const n=[],e=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/g;let a;for(;null!==(a=e.exec(t));)n.push({content:a[0].replace(a[1],"").trim(),pathname:a[2],filename:a[3]});return n}function Ct(t,n,e){return{pathname:t,filename:n,content:e}}function It(t,n){return(""+t).toLowerCase()>=(""+n).toLowerCase()?1:-1}class Tt extends squared.base.File{saveAllToDisk(t){const n=[],e=[...t.views,...t.includes];for(let t=0;t<e.length;t++){const a=e[t];n.push(Ct(a.pathname,0===t?this.userSettings.outputMainFileName:`${a.filename}.xml`,a.content))}const a=this.resourceDrawableToXml();n.push(...St(this.resourceStringToXml())),n.push(...St(this.resourceStringArrayToXml())),n.push(...St(this.resourceFontToXml())),n.push(...St(this.resourceColorToXml())),n.push(...St(this.resourceStyleToXml())),n.push(...St(this.resourceDimenToXml())),n.push(..._t(a),...St(a)),this.saveToDisk(n)}layoutAllToXml(t,n=!1){const e={},a=[],o=[...t.views,...t.includes];for(let t=0;t<o.length;t++){const s=o[t];e[s.filename]=s.content,n&&a.push(Ct(s.pathname,0===t?this.userSettings.outputMainFileName:`${s.filename}.xml`,s.content))}return n&&this.saveToDisk(a),e}resourceAllToXml(t=!1){const n={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(const t in n)""===n[t]&&delete n[t];if(t){const t=[];for(const e in n)"drawable"===e&&t.push(..._t(n[e])),t.push(...St(n[e]));this.saveToDisk(t)}return n}resourceStringToXml(t=!1){const n={1:[]};this.stored.strings=new Map([...this.stored.strings.entries()].sort(It)),""===this.appName||this.stored.strings.has("app_name")||n[1].push({name:"app_name",value:this.appName});for(const[t,e]of this.stored.strings.entries())n[1].push({name:t,value:e});let e=wt.createTemplate(wt.parseTemplate(ut),n);return e=N(e,this.userSettings.insertSpaces,!0),t&&this.saveToDisk(St(e)),e}resourceStringArrayToXml(t=!1){let n="";if(this.stored.arrays.size){const e={1:[]};this.stored.arrays=new Map([...this.stored.arrays.entries()].sort());for(const[t,n]of this.stored.arrays.entries())e[1].push({name:t,items:n.map(t=>({value:t}))});n=N(n=wt.createTemplate(wt.parseTemplate(pt),e),this.userSettings.insertSpaces,!0),t&&this.saveToDisk(St(n))}return n}resourceFontToXml(t=!1){let n="";if(this.stored.fonts.size){const e=this.userSettings;this.stored.fonts=new Map([...this.stored.fonts.entries()].sort());const a=e.targetAPI<26?"app":"android";for(const[t,e]of this.stored.fonts.entries()){const o={name:t,namespace:q(a),1:[]};for(const n in e){const[e,a]=n.split("-");o[1].push({style:e,weight:a,font:`@font/${t+("normal"===e&&"normal"===a?`_${e}`:("normal"!==e?`_${e}`:"")+("normal"!==a?`_${a}`:""))}`})}n+="\n\n"+wt.createTemplate(wt.parseTemplate(ft),o)}e.targetAPI<26&&(n=n.replace(/android/g,"app")),n=N(n,e.insertSpaces),t&&this.saveToDisk(St(n))}return n.trim()}resourceColorToXml(t=!1){let n="";if(this.stored.colors.size){const e={1:[]};this.stored.colors=new Map([...this.stored.colors.entries()].sort());for(const[t,n]of this.stored.colors.entries())e[1].push({name:t,value:n});n=N(n=wt.createTemplate(wt.parseTemplate(lt),e),this.userSettings.insertSpaces),t&&this.saveToDisk(St(n))}return n}resourceStyleToXml(t=!1){let n="";if(this.stored.styles.size){const e=this.userSettings,a={1:[]},o=Array.from(this.stored.styles.values()).sort((t,n)=>(""+t.name).toLowerCase()>=(""+n.name).toLowerCase()?1:-1);for(const t of o){const n=[];t.attrs.split(";").sort().forEach(t=>{const[e,a]=t.split("=");n.push({name:e,value:a.replace(/"/g,"")})}),a[1].push({name:t.name,parent:t.parent||"",items:n})}n=N(n=M((n=wt.createTemplate(wt.parseTemplate(gt),a)).trim(),e.resolutionDPI,e.convertPixels,!0),e.insertSpaces),t&&this.saveToDisk(St(n))}return n}resourceDimenToXml(t=!1){let n="";if(this.stored.dimens.size){const e=this.userSettings,a={1:[]};this.stored.dimens=new Map([...this.stored.dimens.entries()].sort());for(const[t,n]of this.stored.dimens.entries())a[1].push({name:t,value:n});n=N(n=M((n=wt.createTemplate(wt.parseTemplate(ht),a)).trim(),e.resolutionDPI,e.convertPixels),e.insertSpaces),t&&this.saveToDisk(St(n))}return n}resourceDrawableToXml(t=!1){let n="";if(this.stored.drawables.size||this.stored.images.size){const e=this.userSettings,a=wt.parseTemplate(dt);for(const[t,e]of this.stored.drawables.entries())n+="\n\n"+wt.createTemplate(a,{name:`res/drawable/${t}.xml`,value:e});for(const[t,e]of this.stored.images.entries())if(Object.keys(e).length>1)for(const o in e)n+="\n\n"+wt.createTemplate(a,{name:`res/drawable-${o}/${t}.${Et.lastIndexOf(e[o],".")}`,value:`\x3c!-- image: ${e[o]} --\x3e`});else e.mdpi&&(n+="\n\n"+wt.createTemplate(a,{name:`res/drawable/${t}.${Et.lastIndexOf(e.mdpi,".")}`,value:`\x3c!-- image: ${e.mdpi} --\x3e`}));n=N(n=M(n.trim(),e.resolutionDPI,e.convertPixels),e.insertSpaces),t&&this.saveToDisk([..._t(n),...St(n)])}return n}get userSettings(){return this.resource.userSettings}}var xt=squared.lib.dom,At=squared.base.lib.enumeration,Rt=squared.lib.util;class Lt extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache.elements)if(!t.hasBit("excludeProcedure",At.NODE_PROCEDURE.ACCESSIBILITY))switch(t.controlName){case a.EDIT:const n=t.element;t.companion||[xt.getPreviousElementSibling(n),xt.getNextElementSibling(n)].some(e=>{if(e){const a=xt.getElementAsNode(e),o=e&&e.parentElement&&"LABEL"===e.parentElement.tagName?xt.getElementAsNode(e.parentElement):void 0;if(a&&a.visible&&a.pageFlow){if(Rt.hasValue(e.htmlFor)&&e.htmlFor===n.id)return a.android("labelFor",t.documentId),!0;if(a.textElement&&o)return o.android("labelFor",t.documentId),!0}}return!1});case a.SELECT:case a.CHECKBOX:case a.RADIO:case a.BUTTON:t.element.disabled&&t.android("focusable","false")}}}var yt=squared.base.Layout,Mt=squared.base.lib.constant,Nt=squared.lib.dom,Xt=squared.base.lib.enumeration,Bt=squared.lib.util;function qt(t,n,e,a){const o="column"===a?16:2,s="column"===a?4:8,i="column"===a?256:32,r=t[a],c=e.startsWith("space")?function(t,n){const e=[];if("column"===n)for(let n=0;n<t.column.count;n++){e[n]=[];for(let a=0;a<t.row.count;a++)e[n].push(t.rowData[a][n])}else for(let n=0;n<t.row.count;n++)e.push(t.rowData[n]);return e}(t,a):[],l=function(t,n,e){const a="column"===n?"width":"height";let o=0;for(let e=0;e<t[n].count;e++){const s=t[n].unit[e];s.endsWith("px")?o+=parseInt(s):o+=Bt.minArray(t.rowData[e].map(t=>t&&t.length?t[0].bounds[a]:0))}return o=e[a]-(o+=(t[n].count-1)*t[n].gap)}(t,a,n);if(l>0){const h="column"===a?"width":"height",d=t[a].count,f=new Set;switch(e){case"center":n.modifyBox(i,Math.floor(l/2)),r.normal=!1;break;case"right":if("row"===a)break;case"end":case"flex-end":n.modifyBox(i,l),r.normal=!1;break;case"space-around":{const t=Math.floor(l/(2*d));for(let n=0;n<d;n++)new Set(Bt.flatArray(c[n])).forEach(e=>{f.has(e)?e.cssPX(h,2*t):(e.modifyBox(o,t),n<d-1&&e.modifyBox(s,t),f.add(e))});r.normal=!1;break}case"space-between":{const t=Math.floor(l/(2*(d-1))),n=Bt.flatArray(c[d-1]);for(let e=0;e<d;e++)new Set(Bt.flatArray(c[e])).forEach(a=>{f.has(a)?a.cssPX(h,2*t):(e>0&&a.modifyBox(o,t),e<d-1&&!n.some(t=>t===a)&&a.modifyBox(s,t),f.add(a))});r.normal=!1;break}case"space-evenly":{const t=Math.floor(l/(d+1)),n=Bt.flatArray(c[d-1]);for(let e=0;e<d;e++){const a=Math.floor(t/2);new Set(Bt.flatArray(c[e])).forEach(i=>{f.has(i)?i.cssPX(h,t):(i.modifyBox(o,0===e?t:a),e<d-1&&!n.some(t=>t===i)&&i.modifyBox(s,a),f.add(i))})}r.normal=!1;break}}}}class Ot extends squared.base.extensions.CssGrid{processNode(n,e){super.processNode(n,e);const a=n.data(Mt.EXT_NAME.CSS_GRID,"mainData");let o="";if(a){const s=new yt(e,n,t.GRID,4,n.length,n.children);s.rowCount=a.row.count,s.columnCount=a.column.count,o=this.application.renderNode(s)}return{output:o,complete:""!==o}}processChild(n,e){const o=e.data(Mt.EXT_NAME.CSS_GRID,"mainData"),s=n.data(Mt.EXT_NAME.CSS_GRID,"cellData");let i,r="";if(o&&s){function c(t,a,i){const r=o[a],c=`${a}Start`,l=`${a}Span`,h=s[l]-s[c],d=`min${Bt.capitalize(i)}`;let f=0,u=0,p=0,g=0;r.unit.every(t=>"auto"===t)&&("width"===i?r.unit=r.unit.map(()=>"1fr"):r.unit.length=0);for(let t=0,a=0;t<s[l];t++){p+=parseInt(e.convertPX(r.unitMin[s[c]+t]));let o=r.unit[s[c]+t];if(!Bt.hasValue(o)){if(!r.auto[a])continue;o=r.auto[a],r.auto[a+1]&&a++}if(Bt.hasValue(o)){if("auto"===o||"min-content"===o||"max-content"===o){h<r.unit.length&&(!e.has(i)||r.unit.some(t=>Bt.isUnit(t))||"min-content"===o)?(f=n.bounds[i],u=0,g=0):(f=0,u=0,g=.01);break}if(Bt.isPercent(o))g+=parseInt(o)/100,u=f,f=0;else if(o.endsWith("fr"))g+=parseInt(o),u=f,f=0;else if(o.endsWith("px")){const t=parseInt(o);0===u?f+=t:u+=t}}}if(s[l]>1){const t=(s[l]-1)*r.gap;f>0&&0===u?f+=t:u>0&&(u+=t),p>0&&(p+=t)}p>0&&(r.autoFill&&0===f&&1===o["column"===a?"row":"column"].count?(f=Math.max(n.bounds.width,p),g=0):u=p),t.android(`layout_${a}`,""+s[c]),s[l]>1&&t.android(`layout_${a}Span`,""+s[l]),u>0&&!t.has(d)&&t.css(d,Bt.formatPX(u),!0),g>0?(t.android(`layout_${i}`,"0px"),t.android(`layout_${a}Weight`,""+g),t.mergeGravity("layout_gravity","column"===a?"fill_horizontal":"fill_vertical")):f>0&&!t.has(i)&&t.css(i,Bt.formatPX(f),!0)}const l=n.has("alignSelf")?n.css("alignSelf"):o.alignItems,h=n.has("justifySelf")?n.css("justifySelf"):o.justifyItems;if(/(start|end|center|baseline)/.test(l)||/(start|end|center|baseline|left|right)/.test(h)){(i=new D(this.application.nextId,Nt.createElement(n.actualParent?n.actualParent.element:null),this.application.controllerHandler.afterInsertNode)).tagName=n.tagName,i.setControlType(a.FRAME,t.FRAME),i.inherit(n,"initial","base"),i.resetBox(510),i.exclude({procedure:Xt.NODE_PROCEDURE.AUTOFIT|Xt.NODE_PROCEDURE.CUSTOMIZATION,resource:Xt.NODE_RESOURCE.BOX_STYLE|Xt.NODE_RESOURCE.ASSET}),e.appendTry(n,i),i.render(e),this.application.processing.cache.append(i,!1),n.inheritBox(30,i),c(i,"column","width"),c(i,"row","height");let o=!1;h.endsWith("start")||h.endsWith("left")||h.endsWith("baseline")?(n.mergeGravity("layout_gravity","left"),o=!0):h.endsWith("end")||h.endsWith("right")?(n.mergeGravity("layout_gravity","right"),o=!0):h.endsWith("center")&&(n.mergeGravity("layout_gravity","center_horizontal"),o=!0),n.hasWidth||n.android("layout_width",o?"wrap_content":"match_parent",!1),l.endsWith("start")||l.endsWith("baseline")?n.mergeGravity("layout_gravity","top"):l.endsWith("end")?n.mergeGravity("layout_gravity","bottom"):l.endsWith("center")?n.mergeGravity("layout_gravity","center_vertical"):n.hasHeight||n.android("layout_height","match_parent",!1),n.parent=i;const s=new yt(e,i,t.FRAME,2048,1,i.children);r=this.application.renderLayout(s)}const d=i||n;c(d,"column","width"),c(d,"row","height"),d.has("height")||(e.hasHeight&&(d.android("layout_height","0px"),d.android("layout_rowWeight","1")),d.mergeGravity("layout_gravity","fill_vertical")),d.has("width")||d.mergeGravity("layout_gravity","fill_horizontal")}return{output:r,parent:i,complete:""!==r}}postBaseLayout(t){const n=t.data(Mt.EXT_NAME.CSS_GRID,"mainData");if(n&&(t.hasWidth&&"normal"!==n.justifyContent&&qt(n,t,n.justifyContent,"column"),t.hasHeight&&"normal"!==n.alignContent&&qt(n,t,n.alignContent,"row"),n.column.normal&&!n.column.unit.includes("auto"))){const e=n.column.gap*(n.column.count-1);e>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",e),t.cssPX("width",e,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Bt.formatPX(t.bounds.width+e),!0))}}postProcedure(t){const n=t.data(Mt.EXT_NAME.CSS_GRID,"mainData");if(n){const e=this.application.controllerHandler,a=Array.from(n.children)[n.children.size-1];if(n.column.unit.every(t=>Bt.isPercent(t))){const o=n.column.unit.reduce((t,n)=>t+parseInt(n),0);if(o<100){t.android("columnCount",""+(n.column.count+1));for(let i=0;i<n.row.count;i++)e.appendAfter(a.id,e.renderSpace(t.renderDepth+1,Bt.formatPercent(100-o),"wrap_content",0,0,R({android:{[t.localizeString(s.MARGIN_LEFT)]:Bt.formatPX(n.column.gap),layout_row:""+i,layout_column:""+n.column.count}})))}}for(let o=0;o<n.emptyRows.length;o++){const s=n.emptyRows[o];if(s)for(let i=0;i<s.length;i++)if(1===s[i]){e.appendAfter(a.id,e.renderSpace(t.renderDepth+1,"wrap_content",Bt.formatPX(n.row.gap),0,0,R({android:{layout_row:""+o,layout_column:""+i}})));break}}}}}class zt extends squared.base.extensions.External{constructor(){super(...arguments),this.eventOnly=!0}}var Gt=squared.base.Layout,Ht=squared.base.NodeList,Ft=squared.base.lib.constant,Ut=(squared,squared.lib.util);const mt={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]};class Wt extends squared.base.extensions.Flexbox{processNode(n,e){super.processNode(n,e);const a=n.data(Ft.EXT_NAME.FLEXBOX,"mainData"),o=new Gt(e,n,0,4,n.length);return o.rowCount=a.rowCount,o.columnCount=a.columnCount,n.filter(t=>!t.pageFlow).length>0||a.rowDirection&&(1===a.rowCount||n.hasHeight)||a.columnDirection&&1===a.columnCount?o.containerType=t.CONSTRAINT:o.setType(t.LINEAR,a.columnDirection?8:16),{output:this.application.renderNode(o),complete:!0}}processChild(n,e){let a="";if(n.hasAlign(128)){const o=new Gt(e,n,t.CONSTRAINT,4,n.length,n.children);a=this.application.renderNode(o)}return{output:a,complete:""!==a}}postBaseLayout(n){const e=n.data(Ft.EXT_NAME.FLEXBOX,"mainData");if(e){const a=[],o=[],s=[],r=[];if(e.wrap){let i;n.filter(t=>t.hasAlign(128)).forEach(t=>{const c=t.renderChildren.filter(t=>t.pageFlow);if(e.rowDirection)t.android("layout_width","match_parent"),n.hasHeight&&(t.android("layout_height","0px"),t.app("layout_constraintVertical_weight","1")),a.push(c),r.push(t);else{if(t.android("layout_height","match_parent"),o.push(c),i){let n=i[0];for(let t=1;t<i.length;t++)i[t].linear.right>n.linear.right&&(n=i[t]);const e=t.linear.left-n.actualRight();e>0&&t.modifyBox(16,e),t.constraint.horizontal=!0}s.push(t),i=c}}),n.is(t.LINEAR)?e.columnDirection&&e.wrapReverse&&n.mergeGravity("gravity","right"):(r.length&&o.push(r),s.length&&a.push(s))}else e.rowDirection?a[0]=e.directionReverse?e.children.reverse():e.children:(n.hasHeight||n.android("layout_height","match_parent"),o[0]=e.directionReverse?e.children.reverse():e.children);[a,o].forEach((t,a)=>{const o=0===a,c=o?1:0;t.forEach(t=>{const l=mt.widthHeight[c],h=l.toLowerCase(),[d,f]=[mt.leftTop[a],mt.leftTop[c]],[u,p]=[mt.rightBottom[a],mt.rightBottom[c]],g=Ut.maxArray(t.map(t=>t.flexElement?0:t.bounds[l.toLowerCase()]));let E;for(let n=0;n<t.length;n++){const c=t[n],d=t[n-1],u=t[n+1];if(u&&c.anchor(mt.rightLeftBottomTop[a],u.documentId),d&&c.anchor(mt.leftRightTopBottom[a],d.documentId),t!==s&&t!==r){switch(c.flexbox.alignSelf){case"start":case"flex-start":c.anchor(f,"parent");break;case"end":case"flex-end":c.anchor(p,"parent");break;case"baseline":o&&(void 0===E&&(E=Ht.baseline(t)[0]),E&&(c!==E?(c.anchor("baseline",E.documentId),c.constraint.vertical=!0):c.anchor("top","parent")));break;case"center":c.anchorParent(o?i.VERTICAL:i.HORIZONTAL);break;default:if(c.anchor(e.wrapReverse?p:f,"parent"),!c[`has${l}`]&&!c.has(h,32)){const t=c.unsafe("initial");t.bounds&&t.bounds[h]<g&&(c.android(`layout_${l.toLowerCase()}`,"0px"),c.anchor(e.wrapReverse?f:p,"parent"))}}rt.setFlexDimension(c,o)}c.positioned=!0}const w=mt.horizontalVertical[a],_=t[0],S=t[t.length-1],C=`layout_constraint${w}_chainStyle`;if(_.anchor(d,"parent"),S.anchor(u,"parent"),t.every(t=>t.flexbox.grow<1))switch(e.justifyContent){case"left":if(!o)break;case"start":case"flex-start":_.app(C,"packed"),_.app(`layout_constraint${w}_bias`,"0");break;case"center":_.app(C,"packed"),_.app(`layout_constraint${w}_bias`,"0.5");break;case"right":if(!o)break;case"end":case"flex-end":_.app(C,"packed"),_.app(`layout_constraint${w}_bias`,"1");break;case"space-between":_.app(C,"spread_inside");break;case"space-evenly":_.app(C,"spread"),t.forEach(t=>t.app(`layout_constraint${w}_weight`,""+(t.flexbox.grow||1)));break;case"space-around":const n=this.application.controllerHandler,a=w.toLowerCase();_.app(C,"spread_inside"),_.constraint[a]=!1,S.constraint[a]=!1,n.addGuideline(_,_.parent,a,!0,!1),n.addGuideline(S,_.parent,a,!0,!0)}t.length>1&&(o&&Ut.withinFraction(n.box.left,_.linear.left)&&Ut.withinFraction(S.linear.right,n.box.right)||!o&&Ut.withinFraction(n.box.top,_.linear.top)&&Ut.withinFraction(S.linear.bottom,n.box.bottom))?_.app(C,"spread_inside",!1):(_.app(C,"packed",!1),_.app(`layout_constraint${w}_bias`,e.directionReverse?"1":"0",!1))})})}}}var Dt=squared.base.Layout,kt=squared.base.lib.constant,Kt=(squared,squared.lib.util);class Zt extends squared.base.extensions.Grid{processNode(n,e){super.processNode(n,e);const a=n.data(kt.EXT_NAME.GRID,"mainData");let o="";if(a){const s=new Dt(e,n,t.GRID,4,n.length,n.children);s.columnCount=a.columnCount,o=this.application.renderNode(s)}return{output:o,complete:""!==o}}processChild(n,e){const a=e.data(kt.EXT_NAME.GRID,"mainData"),o=n.data(kt.EXT_NAME.GRID,"cellData");if(a&&o){o.rowSpan>1&&n.android("layout_rowSpan",""+o.rowSpan),o.columnSpan>1&&n.android("layout_columnSpan",""+o.columnSpan),"table-cell"===n.display&&n.mergeGravity("layout_gravity","fill");const a=o.siblings?o.siblings.slice():[];if(a.length){const o=this.application.controllerHandler;a.unshift(n);const s=new Dt(e,n,0,0,a.length,a);if(s.linearY)s.node=o.createNodeGroup(n,a,e),s.setType(t.LINEAR,16);else{s.init();const t=o.processTraverseHorizontal(s);s.node=t.layout.node}if(0!==s.containerType){return function(t,n){let e;for(let t=0;t<n.length;t++){const a=n[t];if(void 0===e)e=a.data(kt.EXT_NAME.GRID,"cellData");else if(e){const t=a.data(kt.EXT_NAME.GRID,"cellData");if(t)for(const n in t)switch(typeof t[n]){case"number":e[n]+=t[n];break;case"boolean":!0===t[n]&&(e[n]=!0)}}a.siblingIndex=t,a.data(kt.EXT_NAME.GRID,"cellData",null)}t.data(kt.EXT_NAME.GRID,"cellData",e)}(s.node,a),{output:this.application.renderNode(s),parent:s.node,complete:!0}}}}return{output:""}}postBaseLayout(t){if(!t.tableElement||"collapse"!==t.css("borderCollapse")){const n=t.data(kt.EXT_NAME.GRID,"mainData");n&&t.each(t=>{const e=t.data(kt.EXT_NAME.GRID,"cellData");if(e){const a=t.actualParent;if(a&&!a.visible&&(e.cellStart&&(n.paddingTop=a.paddingTop+a.marginTop),e.rowStart&&(n.paddingLeft=Math.max(a.marginLeft+a.paddingLeft,n.paddingLeft)),e.rowEnd)){const o=a.marginBottom+a.paddingBottom+(e.cellEnd?0:a.marginTop+a.paddingTop);o>0&&(e.cellEnd?n.paddingBottom=o:this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",Kt.formatPX(o),n.columnCount))),n.paddingRight=Math.max(a.marginRight+a.paddingRight,n.paddingRight)}}},!0),t.modifyBox(32,n.paddingTop),t.modifyBox(64,n.paddingRight),t.modifyBox(128,n.paddingBottom),t.modifyBox(256,n.paddingLeft)}!t.hasWidth&&Kt.withinFraction(t.box.right,Kt.maxArray(t.renderChildren.filter(t=>t.inlineFlow||!t.blockStatic).map(t=>t.linear.right)))&&t.android("layout_width","wrap_content")}}var Yt=squared.base.Layout,Jt=squared.base.NodeList,Pt=squared.base.lib.constant,Qt=squared.lib.dom,bt=(squared,squared.lib.util);class vt extends squared.base.extensions.List{processNode(n,e){super.processNode(n,e);const a=new Yt(e,n,0,0,n.length,n.children);let o="";return Jt.linearY(a.children)?(a.rowCount=n.length,a.columnCount=n.some(t=>"inside"===t.css("listStylePosition"))?3:2,a.setType(t.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(a)&&(a.rowCount=1,a.columnCount=a.length,a.setType(t.RELATIVE,8)),0!==a.containerType&&(o=this.application.renderNode(a)),{output:o,complete:""!==o}}processChild(n,e){const o=n.data(Pt.EXT_NAME.LIST,"mainData");let i="";if(o){const r=this.application.controllerHandler,c=bt.convertInt(e.css("paddingLeft"))+bt.convertInt(e.css("marginLeft"));let l=0,h=n.marginLeft;n.modifyBox(16,null),e.is(t.GRID)?(l=bt.convertInt(e.android("columnCount")),h+=c):e.item(0)===n&&(h+=c);const d=n.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=bt.convertInt(t.documentParent.cssInitial("marginLeft")));if(d&&""===o.ordinal){const a=new Yt(e,d);d.inlineText||0===d.length?a.containerType=t.TEXT:(a.retain(d.children),r.checkRelativeHorizontal(a)?a.setType(t.RELATIVE,8):a.setType(t.CONSTRAINT,2)),d.parent=e,r.prependBefore(n.id,this.application.renderNode(a)),3===l&&n.android("layout_columnSpan","2"),(h+=d.marginLeft)>0&&!d.hasWidth&&d.android("minWidth",bt.formatPX(h)),d.modifyBox(16,null)}else{const t=l>0?"0":"",i="inside"===n.css("listStylePosition");let[d,f]=[0,0],u="";if(""!==o.imageSrc){const t=Qt.getBackgroundPosition(o.imagePosition,n.bounds,n.dpi,n.fontSize);d=t.left,f=t.top,u=I.addImageUrl(o.imageSrc)}const p=""!==u&&!n.has("listStyleImage")||0===c&&0===n.marginLeft?"":"right";""===p&&(h+=n.paddingLeft,n.modifyBox(256,null)),d>0&&h>d&&(h-=d),h=Math.max(h,20);const g=(()=>h<=24?6:h<=32?8:10)(),E=d>0?bt.formatPX(d):"",w=h>0?bt.formatPX(h):"",_=R({android:{layout_columnWeight:t}});if(i){const o=r.renderNodeStatic(a.SPACE,e.renderDepth+1,{android:{minWidth:w,layout_columnWeight:t,[n.localizeString(s.MARGIN_LEFT)]:E}},"wrap_content","wrap_content");r.prependBefore(n.id,o),_.android.minWidth=bt.formatPX("24")}else Object.assign(_.android,{minWidth:w,gravity:h>20?n.localizeString(p):"",[s.MARGIN_TOP]:n===e.children[0]&&n.marginTop>0?bt.formatPX(n.marginTop):"",[n.localizeString(s.MARGIN_LEFT)]:E,[n.localizeString(s.PADDING_LEFT)]:""===p&&""===u?bt.formatPX(g):20===h?"2px":"",[n.localizeString(s.PADDING_RIGHT)]:"right"===p&&h>20?bt.formatPX(g):"",[s.PADDING_TOP]:n.paddingTop>0?bt.formatPX(n.paddingTop):""}),3===l&&n.android("layout_columnSpan","2");if("DT"===n.tagName&&""===u)n.android("layout_columnSpan",""+l);else{""!==u?Object.assign(_.android,{src:`@drawable/${u}`,[s.MARGIN_TOP]:f>0?bt.formatPX(f):"",scaleType:i||"right"!==p?"fitStart":"fitEnd"}):_.android.text=o.ordinal;const t=new D(this.application.nextId,Qt.createElement(n.actualParent?n.actualParent.element:null),this.application.controllerHandler.afterInsertNode);t.tagName=`${n.tagName}_ORDINAL`,t.inherit(n,"textStyle"),""!==o.ordinal&&!/[A-Za-z\d]+\./.test(o.ordinal)&&t.toInt("fontSize")>12&&t.css("fontSize","12px"),this.application.processing.cache.append(t,!1);const c=r.renderNodeStatic(""!==u?a.IMAGE:""!==o.ordinal?a.TEXT:a.SPACE,e.renderDepth+1,_,"wrap_content","wrap_content",t);r.prependBefore(n.id,c)}}l>0&&(n.android("layout_width","0px"),n.android("layout_columnWeight","1"));const[f,u]=[Jt.linearX(n.children),Jt.linearY(n.children)];if(f||u){const a=new Yt(e,n,t.LINEAR,f?8:16,n.length,n.children);i=this.application.renderNode(a)}}return{output:i,next:""!==i}}postBaseLayout(t){super.postBaseLayout(t);const n=t.android("columnCount");for(let e=0;e<t.renderChildren.length;e++){const o=t.renderChildren[e],i=t.renderChildren[e-1];let r=0;if(i){const t=bt.convertInt(i.android(s.MARGIN_BOTTOM));t>0&&(r+=t,i.delete("android",s.MARGIN_BOTTOM),i.modifyBox(8,null))}const c=bt.convertInt(o.android(s.MARGIN_TOP));if(c>0&&(r+=c,o.delete("android",s.MARGIN_TOP),o.modifyBox(2,null)),r>0){const t=R({android:{layout_columnSpan:""+n}}),e=this.application.controllerHandler.renderNodeStatic(a.SPACE,o.renderDepth,t,"match_parent",bt.formatPX(r));this.application.controllerHandler.prependBefore(o.id,e,0)}}}postProcedure(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}class Vt extends squared.base.extensions.Relative{}var jt=squared.base.Layout,$t=squared.base.lib.enumeration,tn=squared.base.lib.constant,nn=squared.lib.util;class en extends squared.base.extensions.Sprite{processNode(n,e){let o,s="";const i=n.data(tn.EXT_NAME.SPRITE,"mainData");if(i&&i.uri&&i.position){(o=new D(this.application.nextId,n.element,this.application.controllerHandler.afterInsertNode)).inherit(n,"initial","base","styleMap"),o.setControlType(a.FRAME),o.exclude({procedure:$t.NODE_PROCEDURE.CUSTOMIZATION,resource:$t.NODE_RESOURCE.IMAGE_SOURCE}),e.appendTry(n,o),this.application.processing.cache.append(o,!1),n.setControlType(a.IMAGE,t.IMAGE),n.exclude({procedure:$t.NODE_PROCEDURE.AUTOFIT,resource:$t.NODE_RESOURCE.FONT_STYLE|$t.NODE_RESOURCE.BOX_STYLE}),n.css({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:nn.formatPX(i.width),height:nn.formatPX(i.height),marginTop:nn.formatPX(i.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:nn.formatPX(i.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),n.unsetCache(),n.android("src",`@drawable/${I.addImage({mdpi:i.uri})}`),n.parent=o;const r=new jt(e,o,t.FRAME,2048,1,o.children);s=this.application.renderLayout(r)}return{output:s,parent:o,complete:!0}}}class an extends squared.base.extensions.Substitute{processNode(n,e){return n.containerType=n.blockStatic?t.BLOCK:t.INLINE,super.processNode(n,e)}postProcedure(t){const n=R(t.element?this.options[t.element.id]:void 0);t.apply(I.formatOptions(n,this.application.extensionManager.optionValueAsBoolean(e.RESOURCE_STRINGS,"numberResourceValue")))}}var on=squared.base.Layout,sn=squared.base.lib.constant,rn=(squared,squared.lib.util);class cn extends squared.base.extensions.Table{processNode(n,e){super.processNode(n,e);const a=n.data(sn.EXT_NAME.TABLE,"mainData");let o="";if(a){if(a.columnCount>1){let t=!!n.data(sn.EXT_NAME.TABLE,"expand");if(n.each(n=>{if("0px"===n.css("width"))n.android("layout_width","0px"),n.android("layout_columnWeight",""+(n.element.colSpan||1));else{const e=n.data(sn.EXT_NAME.TABLE,"expand"),a=!!n.data(sn.EXT_NAME.TABLE,"exceed"),o=!!n.data(sn.EXT_NAME.TABLE,"downsized");if("boolean"==typeof e)if(e){const e=rn.convertFloat(n.data(sn.EXT_NAME.TABLE,"percent"))/100;e>0&&(n.android("layout_width","0px"),n.android("layout_columnWeight",rn.trimEnd(e.toFixed(3),"0")),t=!0)}else n.android("layout_columnWeight","0");o&&(a?(n.android("layout_width","0px"),n.android("layout_columnWeight","0.01")):(n.textElement&&!/[\s\n\-]/.test(n.textContent.trim())&&n.android("maxLines","1"),n.has("width")&&n.toInt("width")<n.bounds.width&&n.android("layout_width",rn.formatPX(n.bounds.width))))}}),t&&!n.hasWidth){let t=0;n.ascend().some(n=>!!n.hasWidth&&(t=n.bounds.width,!0)),n.bounds.width>=t?n.android("layout_width","match_parent"):n.css("width",rn.formatPX(n.bounds.width),!0)}}const s=new on(e,n,t.GRID,4,n.length,n.children);s.rowCount=a.rowCount,s.columnCount=a.columnCount,o=this.application.renderNode(s)}return{output:o,complete:""!==o}}processChild(t,n){const e=rn.convertInt(t.data(sn.EXT_NAME.TABLE,"rowSpan")),a=rn.convertInt(t.data(sn.EXT_NAME.TABLE,"colSpan")),o=rn.convertInt(t.data(sn.EXT_NAME.TABLE,"spaceSpan"));return e>1&&t.android("layout_rowSpan",""+e),a>1&&t.android("layout_columnSpan",""+a),t.mergeGravity("layout_gravity","fill"),o>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(n.renderDepth+1,"wrap_content","wrap_content",o)),{output:""}}postProcedure(t){const n=rn.convertInt(t.android("layout_width"));if(n>0&&(t.bounds.width>n&&t.android("layout_width",rn.formatPX(t.bounds.width)),n>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)))for(const n of t.renderChildren)n.android("layout_width","0px"),n.android("layout_columnWeight","1")}}var ln=squared.base.Layout,hn=squared.base.lib.constant;squared;class dn extends squared.base.extensions.VerticalAlign{processNode(n,e){super.processNode(n,e);let a="";if(n.data(hn.EXT_NAME.VERTICAL_ALIGN,"mainData")){const o=new ln(e,n,t.RELATIVE,8,n.length,n.children);o.floated=o.getFloated(!0),a=this.application.renderNode(o)}return{output:a}}}class fn extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var un=squared.base.Layout,pn=squared.base.lib.enumeration,gn=squared.lib.util;class En extends squared.base.Extension{constructor(){super(...arguments),this.options={circlePosition:!1}}condition(t){return this.included(t.element)&&t.length>0}processNode(n,e){n.exclude({procedure:pn.NODE_PROCEDURE.CONSTRAINT});const a=new un(e,n,t.CONSTRAINT,32,n.length,n.children);return{output:this.application.renderNode(a)}}afterConstraints(){const t=this.application.controllerHandler;for(const n of this.subscribers){const e=new Map;if(n.each(t=>{const a=[];gn.withinFraction(t.linear.left,n.box.left)&&a.push("left"),gn.withinFraction(t.linear.top,n.box.top)&&a.push("top"),e.set(t,a)}),this.options.circlePosition){const a=Array.from(e.values()).some(t=>2===t.length);let o;for(const[s,r]of e.entries())if(a){if(2===r.length){s.anchor("left","parent"),s.anchor("top","parent"),o=s;break}}else if(1===r.length){r.includes("left")?(s.anchor("left","parent"),t.addGuideline(s,n,i.VERTICAL),o=s):(s.anchor("top","parent"),t.addGuideline(s,n,i.HORIZONTAL),o=s);break}void 0===o&&(o=n.item(0),t.addGuideline(o,n)),n.each(t=>{if(o&&t!==o){const n=t.center,e=o.center,a=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y),i=Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(s,2)));let r=Math.round(Math.atan(Math.min(a,s)/Math.max(a,s))*(180/Math.PI));n.y>e.y?n.x>e.x?a>s?r+=90:r=180-r:a>s?r=270-r:r+=180:n.y<e.y?e.x>n.x?a>s?r+=270:r=360-r:a>s&&(r=90-r):r=n.x>e.x?90:270,t.app("layout_constraintCircle",o.documentId),t.app("layout_constraintCircleRadius",gn.formatPX(i)),t.app("layout_constraintCircleAngle",""+r)}})}else for(const[a,o]of e.entries())o.includes("left")&&a.anchor("left","parent"),o.includes("top")&&a.anchor("top","parent"),o.length<2&&t.addGuideline(a,n)}}}var wn=squared.base.Layout,_n=squared.base.NodeList,Sn=squared.lib.dom,Cn=squared.base.lib.enumeration,In=squared.lib.util;function Tn(t){return t.filter(n=>!n.pageFlow&&("fixed"===n.position||n.absoluteParent===t))}function xn(t,n){return t.some(t=>t<n)}function An(t,n,e){if(In.isPercent(n)){const a=t.actualParent;if(a){const t=parseInt(n)-e/a.box.width*100;if(t>0)return In.formatPercent(t)}}else if(In.isUnit(n)){const t=parseInt(n)-e;if(t>0)return In.formatPX(t)}return n}class Rn extends squared.base.Extension{condition(t){const n=Tn(t);if(n.length>0){const e=n.filter(t=>t.has("top")&&t.top>=0).map(t=>t.top),a=n.filter(t=>t.has("right")&&t.right>=0).map(t=>t.right),o=n.filter(t=>t.has("bottom")&&t.bottom>=0).map(t=>t.bottom),s=n.filter(t=>t.has("left")&&t.left>=0).map(t=>t.left);return xn(e,t.paddingTop+(t.documentBody?t.marginTop:0))||xn(a,t.paddingRight+(t.documentBody?t.marginRight:0))||xn(o,t.paddingBottom+(t.documentBody?t.marginBottom:0))||xn(s,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&a.length>0&&t.hasWidth}return!1}processNode(n,e){const a=new D(this.application.nextId,Sn.createElement(n.element,n.block),this.application.controllerHandler.afterInsertNode);a.inherit(n,"initial","base"),a.exclude({procedure:Cn.NODE_PROCEDURE.NONPOSITIONAL,resource:Cn.NODE_RESOURCE.BOX_STYLE|Cn.NODE_RESOURCE.ASSET});const[o,s]=In.partition(Tn(n),t=>t.absoluteParent===n);o.push(a);const i=[...In.sortAsc(o,"zIndex","id"),...In.sortAsc(s,"zIndex","id")];n.duplicate().forEach(t=>{i.includes(t)||(t.parent=a)}),a.parent=n,this.application.processing.cache.append(a),i.forEach((t,n)=>t.siblingIndex=n),n.sort(_n.siblingIndex),n.resetBox(480|(n.documentBody?30:0),a,!0),n.companion=a;const r=new wn(e,n,t.CONSTRAINT,32,i.length,i);return{output:this.application.renderLayout(r)}}postBaseLayout(t){if(t.hasWidth&&t.companion){const n=t.cssInitial("width",!0),e=t.cssInitial("minWidth",!0);if(t.documentBody&&t.some(t=>t.has("right")))t.css({width:"auto",minWidth:"auto"},"",!0),t.companion.css({width:n,minWidth:e},"",!0),t.android("layout_width","match_parent");else{const a=t.paddingLeft+t.paddingRight+(t.documentBody?t.marginLeft+t.marginRight:0);t.companion.css({width:An(t,n,a),minWidth:An(t,e,a)},"",!0)}}}}var Ln=squared.base.Layout;squared;class yn extends squared.base.Extension{condition(t){return!t.textElement&&(t.has("maxWidth")||t.has("maxHeight"))}processNode(n,e){const a=this.application.controllerHandler.createNodeWrapper(n,e);a.css("display","block",!0),n.has("maxWidth")&&(a.css("width",n.css("maxWidth"),!0),n.css("maxWidth","auto")),n.has("maxHeight")&&(a.css("height",n.css("maxHeight"),!0),n.css("maxHeight","auto"));const o=new Ln(e,a,t.FRAME,2048,1,a.children);return{output:"",parent:a,renderAs:a,outputAs:this.application.renderLayout(o)}}}var Mn=squared.base.Layout,Nn=(squared,squared.lib.util);class Xn extends squared.base.Extension{condition(t,n){return n.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}processNode(n,e){const a=this.application.controllerHandler.createNodeWrapper(n,e);a.android("layout_width","match_parent"),a.android("layout_height","wrap_content"),n.has("height",2)||n.css("height",Nn.formatPX(n.bounds.height),!0);const o=new Mn(e,a,t.CONSTRAINT,2048,1,a.children);return{output:"",parent:a,renderAs:a,outputAs:this.application.renderLayout(o)}}}var Bn=squared.base.NodeList,qn=(squared,squared.lib.util),On=squared.lib.xml;const zn="RadioGroup";class Gn extends squared.base.Extension{condition(t){const n=t.element;return"INPUT"===n.tagName&&"radio"===n.type&&qn.hasValue(n.name)}processNode(n,e){const o=qn.hasValue(n.dataset.target)&&!qn.hasValue(n.dataset.use),s=n.element,r=[];let c;const l=e.flatMap(t=>{t.renderAs&&(t.renderAs===n?c=t:r.push(t),t=t.renderAs);const e=t.element;return"radio"!==e.type||e.name!==s.name||t.rendered?null:t});if(l.length>1){const s=this.application.controllerHandler.createNodeGroup(n,l,e,c);s.alignmentType|=8|(e.length!==l.length?128:0),e.layoutConstraint&&(s.companion=c||n),s.setControlType(zn,t.INLINE),s.inherit(n,"alignment"),s.css("verticalAlign","text-bottom"),s.each((e,o)=>{e!==n&&e.setControlType(a.RADIO,t.RADIO),e.positioned=!0,e.parent=s,e.siblingIndex=o}),r.forEach(t=>t.hide()),s.android("orientation",Bn.linearX(l)?i.HORIZONTAL:i.VERTICAL),s.render(o?s:e),this.subscribers.add(s);const h=this.application.controllerHandler.getEnclosingTag(zn,s.id,o?-1:s.renderDepth,On.formatPlaceholder(s.id));return{output:"",complete:!0,parent:s,renderAs:s,outputAs:h}}return{output:""}}postBaseLayout(t){t.some(n=>!!n.element.checked&&(t.android("checkedButton",n.documentId),!0))}}var Hn=squared.lib.dom,Fn=squared.base.lib.enumeration,Un=squared.lib.util,mn=squared.lib.xml;const Wn="HorizontalScrollView",Dn="android.support.v4.widget.NestedScrollView";class kn extends squared.base.Extension{condition(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}processNode(n,e){const a=Un.hasValue(n.dataset.target)&&!Un.hasValue(n.dataset.use),o=[];if(n.overflowX&&n.overflowY)o.push(Wn,Dn);else if(n.overflowX)o.push(Wn);else if(n.overflowY)o.push(Dn);else{let t=0;n.hasWidth&&(t|=8,o.push(Wn)),n.hasHeight&&(t|=16,o.push(Dn)),n.overflow=t}const s=o.map((a,o)=>{const s=new D(this.application.nextId,0===o?n.element:Hn.createElement(n.actualParent?n.actualParent.element:null,n.block),this.application.controllerHandler.afterInsertNode);return s.setControlType(a,t.BLOCK),0===o?(s.inherit(n,"initial","base","styleMap"),e.appendTry(n,s)):(s.inherit(n,"base"),s.exclude({resource:Fn.NODE_RESOURCE.BOX_STYLE})),s.exclude({resource:Fn.NODE_RESOURCE.ASSET}),s.resetBox(480),s});let i="";for(let t=0;t<s.length;t++){const o=s[t],r=s[t-1];switch(o.controlName){case Dn:{const t=n.css("height");n.android("layout_width","wrap_content"),o.android("layout_height",n.convertPX(t,!1)),o.css({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break}case Wn:{const t=n.css("width");o.android("layout_width",n.convertPX(t)),n.android("layout_height","wrap_content"),o.css({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"});break}}o.unsetCache(),this.application.processing.cache.append(o),o.render(0===t?a?o:e:r);const c=this.application.controllerHandler.getEnclosingTag(o.controlName,o.id,a?0===t?-1:0:o.renderDepth,mn.formatPlaceholder(o.id));i=0===t?c:mn.replacePlaceholder(i,r.id,c)}2===s.length?(n.android("layout_width","wrap_content"),n.android("layout_height","wrap_content")):n.overflowX?(n.android("layout_width","wrap_content"),n.android("layout_height","match_parent")):(n.android("layout_width","match_parent"),n.android("layout_height","wrap_content"));const r=s[s.length-1];return n.parent=r,e.layoutConstraint&&(r.companion=n),n.overflow=0,n.resetBox(30),n.exclude({resource:Fn.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:n.parent,renderAs:s[0],outputAs:i}}}var Kn='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n!1\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n!1\n!2\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n!2\n!3\n\t<item android:drawable="@drawable/{&vectorName}" />\n!3\n!4\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t</item>\n!4\n!5\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n!5\n!6\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t</item>\n!6\n!7\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n!stroke\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n!stroke\n!corners\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n!corners\n\t\t</shape>\n\t</item>\n!7\n</layer-list>';var Zn='<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n!1\n\t<stroke android:width="{&width}" {~borderStyle} />\n!1\n!2\n\t<solid android:color="@color/{&color}" />\n!2\n!3\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n!3\n!4\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n!4\n</shape>';var Yn='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:name="{&name}" android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n!1\n\t<group android:name="{&name}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n!2\n!clipPaths\n\t\t<clip-path android:name="{&name}" android:pathData="{&d}" />\n!clipPaths\n\t\t<path android:name="{&name}" android:pathData="{&d}"\n\t\t\tandroid:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:fillType="{~fillRule}"\n\t\t\tandroid:strokeColor="{~stroke}" android:strokeAlpha="{~strokeOpacity}" android:strokeWidth="{~strokeWidth}"\n\t\t\tandroid:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}">\n!fill\n\t\t\t<aapt:attr name="android:fillColor">\n!gradients\n\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}">\n!colorStop\n\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n!colorStop\n\t\t\t\t</gradient>\n!gradients\n\t\t\t</aapt:attr>\n!fill\n\t\t</path>\n!2\n\t</group>\n!1\n</vector>',Jn=squared.lib.color,Pn=squared.lib.dom,Qn=squared.base.lib.enumeration,bn=squared.lib.util,vn=squared.lib.xml;function Vn(t,n=-1,e=!1){const a={solid:`android:color="@color/${t.color}"`,groove:"",ridge:""},o=t.style,s=parseInt(t.width),i=`${a.solid} android:dashWidth="${s}px" android:dashGap="${s}px"`;Object.assign(a,{double:a.solid,inset:a.solid,outset:a.solid,dashed:i,dotted:i});const r="groove"===o;if(s>1&&(r||"ridge"===o)){const s=Jn.parseRGBA(t.color);if(s){const t=Jn.reduceRGBA(s.valueRGBA,r||"#000000"===s.valueRGB?.5:-.5);if(t){const i=I.addColor(t);if(""!==i){const t=`android:color="@color/${i}"`;if(0!==n&&2!==n||(e=!e),"#000000"!==s.valueRGB||(!r||1!==n&&3!==n)&&(r||0!==n&&2!==n)||(e=!e),e)switch(n){case 0:a[o]=t;break;case 1:case 2:a[o]=a.solid;break;case 3:a[o]=t}else switch(n){case 0:a[o]=a.solid;break;case 1:case 2:a[o]=t;break;case 3:a[o]=a.solid}}}}}return a[o]||a.solid}function jn(t,n,e=-1,a=!1,o=!1){switch(n){case"stroke":if(t.border&&I.isBorderVisible(t.border)){if(!a||o)return[{width:t.border.width,borderStyle:Vn(t.border,o?e:-1)}];if(a)return[{width:bn.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:Vn(t.border,e,!0)}]}return!1;case"backgroundColor":return!!bn.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){const n={};return t.borderRadius.forEach((t,e)=>n[`${["topLeft","topRight","bottomRight","bottomLeft"][e]}Radius`]=t),[n]}return!1}return!1}function $n(t,n,e,a,o,s,i){const r=parseInt(t.width),c=Math.floor(r/3),l=2===r%3?1:0,h=c+l,d=c+l;let f=`${bn.formatPX(r-c)}`,u=`-${f}`;s[7].push({top:n?"":u,right:e?"":u,bottom:a?"":u,left:o?"":u,stroke:[{width:bn.formatPX(h),borderStyle:Vn(t)}],corners:i}),3===r&&(u=`-${f=`${bn.formatPX(r)}`}`),s[7].push({top:n?f:u,right:e?f:u,bottom:a?f:u,left:o?f:u,stroke:[{width:bn.formatPX(d),borderStyle:Vn(t)}],corners:i})}function te(t,n,e){return-1===t.indexOf(" ")&&-1!==n.indexOf(" ")?/^[a-z]+$/.test(t)?`${"initial"===t?e:t} 0px`:`${e} ${t}`:t}class ne extends squared.base.Extension{constructor(){super(...arguments),this.options={autoSizeBackgroundImage:!0},this.eventOnly=!0}afterResources(){this.application.processing.cache.duplicate().sort(t=>t.visible?0:-1).forEach(n=>{const e=n.data(I.KEY_NAME,"boxStyle");if(e&&!n.hasBit("excludeResource",Qn.NODE_RESOURCE.BOX_STYLE)){e.backgroundColor=I.addColor(e.backgroundColor);const o=[],s=[],i=e.backgroundRepeat.split(",").map(t=>t.trim()),r=[],c=[],l=e.backgroundSize.split(",").map(t=>t.trim()),h=e.backgroundPositionX.split(",").map(t=>t.trim()),d=e.backgroundPositionY.split(",").map(t=>t.trim()),f=[];if(bn.isArray(e.backgroundImage)&&!n.hasBit("excludeResource",Qn.NODE_RESOURCE.IMAGE_SOURCE)){o.push(...e.backgroundImage);for(let t=0;t<o.length;t++)if(o[t]&&"none"!==o[t]){r.push(I.ASSETS.images.get(Pn.cssResolveUrl(o[t]))),o[t]=I.addImageUrl(o[t]);const n=h[t]||h[t-1],e=d[t]||d[t-1],a=te(n,e,"left"),s=te(e,n,"top");f[t]=`${"initial"===a?"0px":a} ${"initial"===s?"0px":s}`}else o[t]="",i[t]="",f[t]=""}else if(e.backgroundGradient){const t=I.createBackgroundGradient(n,e.backgroundGradient);t.length&&c.push(t[0])}const u=n.companion;if(u&&!u.visible&&u.htmlElement&&!Pn.cssFromParent(u.element,"backgroundColor")){const t=u.data(I.KEY_NAME,"boxStyle"),n=I.addColor(t.backgroundColor);""!==n&&(e.backgroundColor=n)}const p=I.isBorderVisible(e.borderTop)||I.isBorderVisible(e.borderRight)||I.isBorderVisible(e.borderBottom)||I.isBorderVisible(e.borderLeft)||e.borderRadius,g=o.filter(t=>t).length;if(p||g||c.length){const h=[e.borderTop,e.borderRight,e.borderBottom,e.borderLeft],d=[],u=[];h.forEach((t,n)=>{u[n]=I.isBorderVisible(t),u[n]&&(t.color=I.addColor(t.color),d.push(t))});const E=[],w=[];let _,S="";for(let e=0;e<o.length;e++)if(""!==o[e]){const a=Pn.getBackgroundPosition(f[e],n.bounds,n.dpi,n.fontSize),s=r[e];let c=(()=>"center"===a.horizontal&&"center"===a.vertical?"center":`${"center"===a.horizontal?"center_horizontal":a.horizontal}|${"center"===a.vertical?"center_vertical":a.vertical}`)(),h="",d="",u="",_="",S="";const C=!s||s.width<n.bounds.width||s.height<n.bounds.height;switch(i[e]){case"repeat-x":C&&(_="repeat");break;case"repeat-y":C&&(S="repeat");break;case"no-repeat":u="disabled";break;case"repeat":C&&(u="repeat")}if(""!==c&&s&&s.width>0&&s.height>0&&0===n.renderChildren.length){if("repeat"===S){let t=0;if(s.width<(t=n.hasWidth?n.width+n.paddingLeft+n.paddingRight:n.bounds.width-(n.borderLeftWidth+n.borderRightWidth))){const e=bn.convertInt(n.android("layout_width"));-1!==c.indexOf("left")?(a.right=t-s.width,n.hasWidth&&t>e&&n.android("layout_width",bn.formatPX(n.bounds.width))):-1!==c.indexOf("right")?(a.left=t-s.width,n.hasWidth&&t>e&&n.android("layout_width",bn.formatPX(n.bounds.width))):"center"!==c&&-1===c.indexOf("center_horizontal")||(a.left=Math.floor((t-s.width)/2),h=bn.formatPX(s.width),n.hasWidth&&t>e&&n.android("layout_width",bn.formatPX(n.bounds.width)))}}if("repeat"===_){let t=0;if(s.height<(t=n.hasHeight?n.height+n.paddingTop+n.paddingBottom:n.bounds.height-(n.borderTopWidth+n.borderBottomWidth))){const e=bn.convertInt(n.android("layout_height"));-1!==c.indexOf("top")?(a.bottom=t-s.height,!n.hasHeight&&t>e&&n.android("layout_height",bn.formatPX(n.bounds.height))):-1!==c.indexOf("bottom")?(a.top=t-s.height,!n.hasHeight&&t>e&&n.android("layout_height",bn.formatPX(n.bounds.height))):"center"!==c&&-1===c.indexOf("center_vertical")||(a.top=Math.floor((t-s.height)/2),d=bn.formatPX(s.height),!n.hasHeight&&t>e&&n.android("layout_height",bn.formatPX(n.bounds.height)))}}}if(g)if(n.of(t.IMAGE,2048)&&1===f.length){n.android("src",`@drawable/${o[0]}`),a.left>0&&n.modifyBox(16,a.left),a.top>0&&n.modifyBox(2,a.top);let t="";switch(c){case"left|top":case"left|center_vertical":case"left|bottom":t="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":t="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":t="center"}if(n.android("scaleType",t),!p)return;o.length=0}else{const t={top:0!==a.top?bn.formatPX(a.top):"",right:0!==a.right?bn.formatPX(a.right):"",bottom:0!==a.bottom?bn.formatPX(a.bottom):"",left:0!==a.left?bn.formatPX(a.left):"",gravity:c,tileMode:u,tileModeX:_,tileModeY:S,width:h,height:d,src:o[e]};if("auto"!==l[e]&&"auto auto"!==l[e]&&"initial"!==l[e])switch(l[e]){case"cover":case"contain":case"100% 100%":h="",d="",u="",_="",S="",c="";break;default:const a=l[e].split(" ");"100%"===a[0]?_="":"100%"===a[1]&&(S=""),a.forEach((a,o)=>{"auto"!==a&&"100%"!==a&&(t[0===o?"width":"height"]=n.convertPX(l[e],0===o,!1))})}""!==c||""!==u||""!==_||""!==S?w.push(t):E.push(t)}}w.sort((t,n)=>"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?1:"repeat"!==n.tileModeX&&"repeat"!==n.tileModeY&&"repeat"!==n.tileMode?-1:"repeat"===t.tileMode?-1:"repeat"===n.tileMode?1:"repeat"===n.tileModeX||"repeat"===n.tileModeY?1:-1);const C=jn(e,"backgroundColor"),T=jn(e,"radius"),x=!!squared.svg.SvgPath&&c.length>0&&c.some(t=>t.colorStop.length>0);if(x){const t=n.bounds.width,e=n.bounds.height,a=vn.createTemplate(vn.parseTemplate(Yn),{namespace:q("aapt"),width:bn.formatPX(t),height:bn.formatPX(e),viewportWidth:""+t,viewportHeight:""+e,alpha:"",1:[{2:[{clipPaths:!1,d:squared.svg.SvgPath.getRect(t,e),fill:[{gradients:c}]}]}]});let o=I.getStoredName("drawables",a);""===o&&(o=`${n.tagName.toLowerCase()}_${n.controlId}_gradient`,I.STORED.drawables.set(o,a)),s.push({vectorName:o})}let A;if(e.border&&!("double"===e.border.style&&parseInt(e.border.width)>2||("groove"===e.border.style||"ridge"===e.border.style)&&parseInt(e.border.width)>1))!g&&c.length<=1&&!x?(T&&void 0===T[0].radius&&(T[0].radius="1px"),A=vn.parseTemplate(Zn),_={1:jn(e,"stroke"),2:C,3:T,4:!!c.length&&c}):(A=vn.parseTemplate(Kn),_={1:C,2:!(x||!c.length)&&c,3:s,4:!1,5:!!E.length&&E,6:!!w.length&&w,7:!(!I.isBorderVisible(e.border)&&!T)&&[{stroke:jn(e,"stroke"),corners:T}]});else{A=vn.parseTemplate(Kn),_={1:C,2:!(x||!c.length)&&c,3:s,4:!1,5:!!E.length&&E,6:!!w.length&&w,7:[]};const t=new Set(d.map(t=>t.width)),n=new Set(d.map(t=>Vn(t))),e=d[0],o=u[1]&&u[2];function a(t){return t+(o?0:1===t?1:2)}if(1===t.size&&1===n.size&&"groove"!==e.style&&"ridge"!==e.style){const t=parseInt(e.width);if(t>2&&"double"===e.style)$n(e,...u,_,T);else{const n=`-${bn.formatPX(a(t))}`,o=!u[0]&&!u[3],s=!u[0]&&u[1]&&u[2]&&u[3],i=u[0]&&u[1]&&u[2]&&!u[3];_[7].push({top:u[0]?"":n,right:u[1]?u[3]||o||i?"":e.width:n,bottom:u[2]?u[0]||o||s?"":e.width:n,left:u[3]?"":n,stroke:jn({border:e},"stroke"),corners:T})}}else for(let t=0;t<h.length;t++)if(u[t]){const n=h[t],e=parseInt(n.width);if(e>2&&"double"===n.style)$n(n,0===t,1===t,2===t,3===t,_,T);else{const s=e>1&&("groove"===n.style||"ridge"===n.style),i=a(s?Math.ceil(e/2):e);let r=`-${bn.formatPX(i)}`,c=`-${bn.formatPX(i+(o?1:0))}`;_[7].push({top:0===t?"":c,right:1===t?o||"1px"!==n.width?"":n.width:r,bottom:2===t?o||"1px"!==n.width?"":n.width:r,left:3===t?"":r,stroke:jn({border:n},"stroke",t,s),corners:T}),s&&(r=`-${bn.formatPX(a(e))}`,c=`-${bn.formatPX(e+(o?1:0))}`,_[7].unshift({top:0===t?"":c,right:1===t?o||"1px"!==n.width?"":n.width:r,bottom:2===t?o||"1px"!==n.width?"":n.width:r,left:3===t?"":r,stroke:jn({border:n},"stroke",t,!0,!0),corners:!1}))}}}if(A){const t=vn.createTemplate(A,_);""===(S=I.getStoredName("drawables",t))&&(S=`${n.tagName.toLowerCase()}_${n.controlId}`,I.STORED.drawables.set(S,t))}if(n.android("background",`@drawable/${S}`,!1),g&&(n.data("RESOURCE","backgroundImage",!0),this.options.autoSizeBackgroundImage&&!n.documentRoot&&!n.imageElement&&!n.svgElement&&n.renderParent&&!n.renderParent.tableElement&&!n.hasBit("excludeProcedure",Qn.NODE_PROCEDURE.AUTOFIT))){const e={width:0,height:0};if(r.forEach(t=>{t&&(e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height))}),0===e.width){let t=n;for(;t&&!t.documentBody&&(t.hasWidth&&(e.width=t.bounds.width),t.hasHeight&&(e.height=t.bounds.height),t.pageFlow&&!(e.width>0&&e.height>0));)t=t.documentParent}if(!n.has("width",2)){const a=n.bounds.width+(n.is(t.LINE)?0:n.borderLeftWidth+n.borderRightWidth);(0===e.width||a>0&&a<e.width)&&n.css("width",bn.formatPX(a),!0)}if(!n.has("height",2)){const a=n.bounds.height+(n.is(t.LINE)?0:n.borderTopWidth+n.borderBottomWidth);(0===e.height||a>0&&a<e.height)&&(n.css("height",bn.formatPX(a),!0),n.marginTop<0&&n.modifyBox(2,null),n.marginBottom<0&&n.modifyBox(8,null))}}}else!n.data(I.KEY_NAME,"fontStyle")&&bn.hasValue(e.backgroundColor)&&n.android("background",`@color/${e.backgroundColor}`,!1)}})}}var ee=squared.lib.util;function ae(t,n,e){for(const[a,o]of t.entries())if(a.startsWith(n)&&e===o)return a;return t.has(n)&&t.get(n)!==e?I.generateId("dimen",n,1):n}function oe(t){return ee.convertUnderscore(t).replace("layout_","")}function se(t){return ee.lastIndexOf(t,".")}class ie extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const n of this.application.session.cache.visible){const e=n.tagName.toLowerCase();void 0===t[e]&&(t[e]={}),["android","app"].forEach(a=>{const o=n.namespace(a);for(const s in o){const i=o[s].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(i)){const o=`${a},${s},${i}`;void 0===t[e][o]&&(t[e][o]=[]),t[e][o].push(n)}}})}const n=I.STORED.dimens;for(const e in t){const a=t[e];for(const t in a){const[o,s,i]=t.split(","),r=ae(n,`${se(e)}_${oe(s)}`,i);a[t].forEach(t=>t[o](s,`@dimen/${r}`)),n.set(r,i)}}}afterFinalize(){const t=I.STORED.dimens;for(const n of this.application.viewData){const e=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/;let a,o=n.content;for(;null!==(a=e.exec(o));){const n=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(a[0]);if(n){const e=ae(t,`${se(n[1]).toLowerCase()}_${oe(a[2])}`,a[3]);t.set(e,a[3]),o=o.replace(a[0],a[0].replace(a[3],`@dimen/${e}`))}}n.content=o}}}var re=squared.lib.dom,ce=squared.base.lib.enumeration,le=squared.lib.util;const he={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},de={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},fe={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"};re.isUserAgent(8)&&(fe.consolas="monospace");const ue={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},pe={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};function ge(t,n,e){n.split(";").forEach(n=>{for(let a=0;a<t.length;a++)if(t[a]){let o=-1,s="";for(const e in t[a])if(e===n){o=a,s=e,a=t.length;break}if(-1!==o){t[o][s]=t[o][s].filter(t=>!e.includes(t)),0===t[o][s].length&&delete t[o][s];break}}})}class Ee extends squared.base.Extension{constructor(){super(...arguments),this.options={fontResourceValue:!0},this.eventOnly=!0}afterParseDocument(){const t=this.application.userSettings,n={},e={};for(const t of this.application.session.cache)t.visible&&t.data(I.KEY_NAME,"fontStyle")&&!t.hasBit("excludeResource",ce.NODE_RESOURCE.FONT_STYLE)&&(void 0===n[t.tagName]&&(n[t.tagName]=[]),n[t.tagName].push(t));for(const t in n){const a=[];for(let e of n[t]){const t=e.id,n=e.companion;n&&!n.visible&&"LABEL"===n.tagName&&(e=n);const o=Object.assign({},e.data(I.KEY_NAME,"fontStyle"));let s=!1;if(o.backgroundColor=I.addColor(o.backgroundColor),o.fontFamily){let t=o.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),n="",a="";if(o.color=I.addColor(o.color),this.options.fontResourceValue&&fe[t]&&(t=fe[t]),he[t]&&e.localSettings.targetAPI>=he[t]||this.options.fontResourceValue&&de[t]&&e.localSettings.targetAPI>=he[de[t]]?(s=!0,o.fontFamily=t,"normal"===o.fontStyle&&delete o.fontStyle,"400"===o.fontWeight&&delete o.fontWeight):(t=le.convertWord(t),o.fontFamily=`@font/${t+("normal"!==o.fontStyle?`_${o.fontStyle}`:"")+("400"!==o.fontWeight?`_${ue[o.fontWeight]||o.fontWeight}`:"")}`,n=o.fontStyle,a=o.fontWeight,delete o.fontStyle,delete o.fontWeight),!s){const e=I.STORED.fonts.get(t)||{};e[`${n}-${ue[a]||a}`]=!0,I.STORED.fonts.set(t,e)}}const i=Object.keys(pe);for(let n=0;n<i.length;n++){void 0===a[n]&&(a[n]={});const s=o[i[n]];if(le.hasValue(s)&&e.supported("android",i[n])){const e=le.formatString(pe[i[n]],s);void 0===a[n][e]&&(a[n][e]=[]),a[n][e].push(t)}}}e[t]=a}const a={},o={};for(const t in e){a[t]={},o[t]={};const s=n[t].length;let i=e[t].filter(t=>Object.keys(t).length).sort((t,n)=>{let e=0,a=0,o=0,s=0;for(const n in t)e=Math.max(t[n].length,e),o+=t[n].length;for(const t in n)n[t]&&(a=Math.max(n[t].length,a),s+=n[t].length);return e!==a?e>a?-1:1:o!==s?o>s?-1:1:0});do{if(1===i.length){for(const n in i[0]){const e=i[0][n];1===e.length?o[t][n]=e:e.length>1&&(a[t][n]=e)}i.length=0}else{const n={},e={};for(let o=0;o<i.length;o++){if(!i[o])continue;const r={},c={},l=new Set;for(const t in i[o]){const a=i[o][t];let c=!1;if(a&&0!==a.length&&(a.length===s?(n[t]=a.slice(),i[o]={},c=!0):1===a.length&&(e[t]=a.slice(),i[o][t]=[],c=!0),!c)){const n={};let e=!1;for(let t=0;t<i.length;t++)if(o!==t&&i[t])for(const e in i[t]){const o=i[t][e];if(o.length)for(const t of a)o.includes(t)&&(void 0===n[e]&&(n[e]=[]),n[e].push(t))}for(const a in n)n[a].length>1&&(r[[t,a].sort().join(";")]=n[a],e=!0);e||(r[t]=a)}}for(const t in r)for(const n in r)if(t!==n&&r[t].join("")===r[n].join("")){const e=r[t].join(",");c[e]=c[e]?new Set([...c[e],...n.split(";")]):new Set([...t.split(";"),...n.split(";")]),l.add(t).add(n)}l.forEach(t=>delete r[t]);for(const n in r)ge(i,n,r[n]),a[t][n]=r[n];for(const n in c){const e=Array.from(c[n]).sort().join(";"),o=n.split(",").map(t=>parseInt(t));ge(i,e,o),a[t][e]=o}}const r=Object.keys(n);r.length&&(r.length>1||n[r[0]].length>1?a[t][r.join(";")]=n[r[0]]:Object.assign(e,n));for(const n in e)o[t][n]=e[n];for(let t=0;t<i.length;t++)i[t]&&0===Object.keys(i[t]).length&&delete i[t];i=i.filter(t=>{if(t)for(const n in t)if(t[n]&&t[n].length)return!0;return!1})}}while(i.length)}const s={},i={},r=new Set;for(const t in a){const n=a[t],e=[];for(const t in n)e.push({name:"",attrs:t,ids:n[t]});e.sort((t,n)=>{let[e,a]=[t.ids.length,n.ids.length];return e===a&&([e,a]=[t.attrs.split(";").length,n.attrs.split(";").length]),e<=a?1:-1}),e.forEach((n,e)=>n.name=le.capitalize(t)+(e>0?`_${e}`:"")),s[t]=e}for(const t in s){for(const n of s[t])for(const t of n.ids)void 0===i[t]&&(i[t]={styles:[],attrs:[]}),i[t].styles.push(n.name);const n=o[t];if(n)for(const t in n)for(const e of n[t])void 0===i[e]&&(i[e]={styles:[],attrs:[]}),i[e].attrs.push(t)}for(const n in i){const e=this.application.session.cache.find("id",parseInt(n));if(e){const a=i[n].styles;a.length&&(r.add(a.join(".")),e.attr("_","style",`@style/${a.pop()}`)),i[n].attrs.sort().forEach(n=>e.formatted(M(n,t.resolutionDPI,t.convertPixels,!0),!1))}}for(const t of r){let n="";t.split(".").forEach(t=>{const e=t.match(/^(\w*?)(?:_(\d+))?$/);if(e){const a=Object.assign({name:t,parent:n},s[e[1].toUpperCase()][void 0===e[2]?0:parseInt(e[2])]);I.STORED.styles.set(t,a),n=t}})}}}var we=squared.lib.util,_e=squared.lib.xml;class Se extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterDepthLevel(){const t=this.application.processing;for(const n of t.cache){const e=[],a=[];if(n.each((t,n)=>{const o=we.hasValue(t.dataset.androidInclude),s="true"===t.dataset.androidIncludeEnd;if(o||s){const i="true"===t.dataset.androidIncludeMerge,r={item:t,name:(t.dataset.androidInclude||"").trim(),index:n,merge:i};o&&e.push(r),s&&a.push(r)}},!0),e.length&&a.length){e.length=Math.min(e.length,a.length);for(let t=e.length;t<a.length;t++)a.shift();for(let o=e.length-1;o>=0;o--){const s=e[o];for(let e=0;e<a.length;e++){const o=a[e];if(o.index>=s.index){const i=new Map;let r=!0;for(let e=s.index;e<=o.index;e++){const a=n.renderChildren[e],o=t.depthMap.get(n.id);if(o&&o.has(a.renderPositionId)){const t=i.get(n.id)||[];t.push(a),i.set(n.id,t)}else r=!1}if(r){const n=new Map,e=[];let a=0;for(const[o,r]of t.depthMap.entries()){const t=i.get(o);if(t){const o=[];for(const[i,c]of r.entries()){const l=t.find(t=>t.renderPositionId===i);if(l){if(0===a){const t=this.application.controllerHandler.renderNodeStatic("include",l.renderDepth,{layout:`@layout/${s.name}`});r.set(i,t),a++}else o.push(i);n.set(i,c),e.push(l)}}o.forEach(t=>r.delete(t))}}if(n.size){const t=this.application.controllerHandler,a=s.merge||n.size>1,o=a?1:0;for(const a of e)if(a.renderDepth!==o){const e=a.renderPositionId,s=n.get(e);s&&n.set(e,t.replaceIndent(s,o,t.cache.children))}let i=Array.from(n.values()).join("");if(a)i=t.getEnclosingTag("merge",0,0,i);else if(!s.item.documentRoot){const t=_e.formatPlaceholder(s.item.id,"@");i=i.replace(t,`{#0}${t}`)}this.application.addIncludeFile(s.name,i)}}a.splice(e,1);break}}}}}}}var Ce=squared.lib.dom,Ie=squared.base.lib.enumeration,Te=squared.lib.util,xe=squared.lib.xml;class Ae extends squared.base.Extension{constructor(){super(...arguments),this.options={numberResourceValue:!1},this.eventOnly=!0}afterResources(){for(const t of this.application.processing.cache)if(!t.hasBit("excludeResource",Ie.NODE_RESOURCE.VALUE_STRING))if(t.element instanceof HTMLSelectElement){const[n,e]=I.getOptionArray(t.element),a=[];if(!this.options.numberResourceValue&&e&&e.length?a.push(...e):a.push(...Te.flatMap(n||e||[],t=>""!==(t=I.addString(xe.replaceCharacter(t),"",this.options.numberResourceValue))?`@string/${t}`:"")),a.length){const n=a.join("-");let e="";for(const[t,a]of I.STORED.arrays.entries())if(n===a.join("-")){e=t;break}""===e&&I.STORED.arrays.set(e=`${t.controlId}_array`,a),t.android("entries",`@array/${e}`,!1)}}else{const n=t.data(I.KEY_NAME,"valueString");if(n){const e=t.renderParent;if(e&&e.layoutRelative&&t.alignParent("left")&&!Ce.cssParent(t.element,"whiteSpace","pre","pre-wrap")){const e=t.textContent;let a=0;for(let t=0;t<e.length;t++)switch(e.charCodeAt(t)){case 160:a++;case 32:continue}0===a&&(n.value=n.value.replace(/^(\s|&#160;)+/,""))}n.value=xe.replaceCharacter(n.value),t.htmlElement&&"small-caps"===t.css("fontVariant")&&(n.value=n.value.toUpperCase());const a=t.actualParent;if(a){let e=0;(a.blockDimension||t.blockDimension)&&(e=t.toInt("textIndent")||a.toInt("textIndent")),0===e||!t.blockDimension&&a.firstChild!==t||(e>0?n.value="&#160;".repeat(Math.floor(e/7))+n.value:t.toInt("textIndent")+t.bounds.width<0&&(n.value=""))}const o=I.addString(n.value,n.name,this.options.numberResourceValue);""!==o&&t.android("text",isNaN(parseInt(o))||""+parseInt(o)!==o?`@string/${o}`:o,!1)}}}}var Re=squared.lib.util;class Le extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const n of this.application.session.cache.visible){const e=n.renderChildren;if(n.controlId&&e.length>1){const a=new Map;let o="",s=!0;for(let t=0;t<e.length;t++){let n=!1;if(e[t].combine("_","android").some(e=>{if(e.startsWith("style=")){if(0===t)o=e;else if(""===o||e!==o)return s=!1,!0;n=!0}else a.set(e,(a.get(e)||0)+1);return!1}),!s||""!==o&&!n){s=!1;break}}if(s){for(const[t,n]of a.entries())n!==e.length&&a.delete(t);if(a.size>1){""!==o&&(o=Re.trimString(o.substring(o.indexOf("/")+1),'"'));const s=[];for(const t of a.keys()){const n=t.match(/(\w+):(\w+)="(.*?)"/);n&&(e.forEach(t=>t.delete(n[1],n[2])),s.push(n[0]))}s.sort();let i="";for(const n in t)if(t[n].join(";")===s.join(";")){i=n;break}""!==i&&""!==o&&i.startsWith(`${o}.`)||(t[i=Re.convertCamelCase((""!==o?`${o}.`:"")+Re.capitalize(n.controlId),"_")]=s),e.forEach(t=>t.attr("_","style",`@style/${i}`))}}}}for(const n in t)I.STORED.styles.set(n,{name:n,attrs:t[n].join(";"),ids:[]})}}var ye='<?xml version="1.0" encoding="utf-8"?>\n<animated-vector xmlns:android="http://schemas.android.com/apk/res/android" xmlns:aapt="http://schemas.android.com/aapt" android:drawable="@drawable/{&vectorName}">\n!1\n!targetSet\n\t<target android:name="{&name}">\n\t\t<aapt:attr name="android:animation">\n\t\t\t<set android:ordering="{~ordering}">\n!objectAnimators\n\t\t\t\t<objectAnimator\n\t\t\t\t\tandroid:propertyName="{~propertyName}"\n\t\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\t\tandroid:valueTo="{~valueTo}"\n\t\t\t\t\tandroid:duration="{~duration}"\n\t\t\t\t\tandroid:repeatCount="{&repeatCount}"\n\t\t\t\t\tandroid:repeatMode="{~repeatMode}"\n\t\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\t\tandroid:fillAfter="{~fillAfter}"\n\t\t\t\t\tandroid:fillBefore="{~fillBefore}"\n\t\t\t\t\tandroid:fillEnabled="{~fillEnabled}">\n!propertyValues\n\t\t\t\t\t<propertyValuesHolder android:propertyName="{&propertyName}">\n!keyframes\n\t\t\t\t\t\t<keyframe android:fraction="{~fraction}" android:valueType="{~valueType}" android:value="{~value}" />\n!keyframes\n\t\t\t\t\t</propertyValuesHolder>\n!propertyValues\n\t\t\t\t</objectAnimator>\n!objectAnimators\n\t\t\t</set>\n\t\t</aapt:attr>\n\t</target>\n!targetSet\n!1\n</animated-vector>',Me=squared.lib.color,Ne=squared.lib.dom,Xe=squared.lib.util,Be=squared.lib.xml;void 0===squared.svg&&(squared.svg={lib:{}});var qe=squared.svg.SvgAnimate,Oe=squared.svg.SvgAnimateMotion,ze=squared.svg.SvgAnimateTransform,Ge=squared.svg.SvgBuild,He=squared.svg.SvgGroupViewBox,Fe=squared.svg.SvgImage,Ue=squared.svg.SvgPath,me=squared.svg.SvgUse,We=squared.svg.lib.util;const De={ACCELERATE_DECELERATE:"@android:anim/accelerate_decelerate_interpolator",ACCELERATE:"@android:anim/accelerate_interpolator",ANTICIPATE:"@android:anim/anticipate_interpolator",ANTICIPATE_OVERSHOOT:"@android:anim/anticipate_overshoot_interpolator",BOUNCE:"@android:anim/bounce_interpolator",CYCLE:"@android:anim/cycle_interpolator",DECELERATE:"@android:anim/decelerate_interpolator",LINEAR:"@android:anim/linear_interpolator",OVERSHOOT:"@android:anim/overshoot_interpolator"},ke={stroke:"strokeColor",fill:"fillColor",opacity:"alpha","stroke-opacity":"strokeAlpha","fill-opacity":"fillAlpha","stroke-width":"strokeWidth",d:"pathData"};function Ke(t,n,e,a,o=""){const s=e.animate.filter(a).filter(t=>t.begin.length>0);s.length&&t.set(n,{element:e.element,animate:s,pathData:o})}function Ze(t,n,e=[]){const a=`group_${n.name}`,o={name:a,2:[]};let s=n instanceof He?n.x:0,i=n instanceof He?n.y:0;if(n.transform.numberOfItems){const t=We.createTransformData(n.element);if(t.operations.length){s+=t.translateX,i+=t.translateY,1!==t.scaleX&&(o.scaleX=""+t.scaleX),1!==t.scaleY&&(o.scaleY=""+t.scaleY),0!==t.rotateAngle&&(o.rotation=""+t.rotateAngle);let n=t.rotateOriginX||0,e=t.rotateOriginY||0;t.origin&&(n+=t.origin.x,e+=t.origin.y),0!==n&&(o.pivotX=""+n),0!==e&&(o.pivotY=""+e)}}return 0!==s&&(o.translateX=""+s),0!==i&&(o.translateY=""+i),Ke(t,a,n,t=>t instanceof ze||e.includes(t.attributeName),n instanceof me&&n.path?n.path.d:""),o}function Ye(t,n){let e=t.parentElement,a=0,o=0;for(;e instanceof SVGSVGElement&&e!==n;){const t=We.createTransformData(e);a+=e.x.baseVal.value+t.translateX,o+=e.y.baseVal.value+t.translateY,e=e.parentElement}return{x:a,y:o}}class Je extends squared.base.Extension{constructor(){super(...arguments),this.options={vectorAnimateOrdering:"together",vectorAnimateInterpolator:De.LINEAR,vectorAnimateAlwaysUseKeyframes:!0},this.eventOnly=!0}beforeInit(){this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg")}afterResources(){for(const n of this.application.processing.cache)if(n.svgElement){const e=new squared.svg.Svg(n.element),a=new Set,o=new Map,s=`${n.tagName.toLowerCase()}_${n.controlId}`,i=[];let r="",c="";if(e.length){function t(t,s,i=[]){const r=t.name,c=[];if(""!==s.clipPath){const t=e.defs.clipPath.get(s.clipPath);t&&t.each(t=>{t.path&&(c.push({name:t.name,d:t.path.d}),Ke(o,t.name,t,t=>!(t instanceof ze||t instanceof Oe),t.path.d))})}const l=Object.assign({},s,{name:r,clipPaths:c});if(["fill","stroke"].forEach(o=>{if(Xe.isString(l[o])){if("@"===l[o].charAt(0)){const s=e.defs.gradient.get(l[o]);if(s)switch(t.element.tagName){case"path":if(!/[zZ]\s*$/.test(l.d))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":const e=I.createBackgroundGradient(n,[s],l);return l[o]=[{gradients:e}],void a.add("aapt")}else l[o]=l.color}const s=I.addColor(l[o]);""!==s&&(l[o]=`@color/${s}`)}}),l.fillRule)switch(l.fillRule){case"evenodd":l.fillRule="evenOdd";break;default:l.fillRule="nonZero"}return Ke(o,r,t,t=>!(t instanceof ze||t instanceof Oe||i.includes(t.attributeName)),l.d),l}Ke(o,e.name,e,t=>"opacity"===t.attributeName);let r,l=[];for(let n=0;n<e.children.length;n++){const a=e.children[n];if(n>0&&(a.synchronize(!1),r=Ze(o,a,a instanceof He?["x","y"]:[])),a instanceof me)r&&a.path&&r[2].push(t(a,a.path,["x","y","width","height"]));else for(const e of a.children)if(e instanceof Fe)e.externalize(),i.push(e);else if(e.visible&&e.path){let s=!1;e.synchronize(!1),0===n&&((e.transform.numberOfItems>0&&!e.path.transformed||e.animate.some(t=>t instanceof ze))&&(r=Ze(o,e),l.push(r),s=!0),void 0===r&&(r=Ze(o,a),l.push(r))),r&&r[2].push(t(e,e.path)),s&&(r=void 0)}n>0&&r&&l.push(r)}if((l=l.filter(t=>t[2].length>0)).length){let t=Be.createTemplate(Be.parseTemplate(Yn),{namespace:a.size?q(...Array.from(a)):"",name:e.name,width:Xe.formatPX(e.width),height:Xe.formatPX(e.height),viewportWidth:e.viewBoxWidth>0&&""+e.viewBoxWidth,viewportHeight:e.viewBoxHeight>0&&""+e.viewBoxHeight,alpha:e.opacity<1&&""+e.opacity,1:l});if(""===(c=I.getStoredName("drawables",t))&&I.STORED.drawables.set(c=s+(i.length?"_vector":""),t),o.size){const e={vectorName:c,1:[]};for(const[t,a]of o.entries()){const o={targetSet:[]},s=new Map,i=[],r=[],c=new Map,l=[];for(const t of a.animate)if(t.sequential){let n=c.get(t.sequential.name);void 0===n&&c.set(t.sequential.name,n=[]),n.push(t)}else t.fillFreeze?i.push(t):r.push(t);i.length&&l.push(i);for(const t of r)l.push([t]);for(const t of c.values())l.push(t.sort((t,n)=>t.sequential&&n.sequential&&t.sequential.index>=n.sequential.index?1:-1));for(const e of l){let i;const r={name:t,ordering:i=e.some(t=>t instanceof ze&&void 0!==t.sequential)?"together":e.some(t=>t instanceof qe&&void 0!==t.sequential)?"sequentially":e.some(t=>t instanceof qe&&!t.fillFreeze)?"sequentially":Ne.getDataSet(a.element,"android").ordering||this.options.vectorAnimateOrdering,objectAnimators:[]};for(const t of e){const e={startOffset:t.begin.length&&t.begin[0]>0?""+t.begin[0]:"",duration:-1!==t.duration?""+t.duration:"1"};if(t instanceof qe){e.repeatCount=t instanceof qe?-1!==t.repeatCount?""+Math.ceil(t.repeatCount-1):"-1":"0";const o=Ne.getDataSet(t.element,"android");let i,c;switch(t.attributeName){case"transform":case"stroke":case"fill":break;case"opacity":case"stroke-opacity":case"fill-opacity":e.valueType="floatType";break;case"stroke-width":e.valueType="intType";break;case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":e.valueType="pathType";break;default:continue}if(t instanceof ze){let n="true"===o.fillbefore||"true"===o.fillBefore,a="true"===o.fillafter||"true"===o.fillAfter;if(n&&a){const t=!("false"===o.fillenabled||"false"===o.fillEnabled);n=t,a=!t}switch(n&&(e.fillBefore="true"),a&&(e.fillAfter="true"),t.attributeName){case"transform":switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:c=ze.toRotateList(t.values),i=["rotation","pivotX","pivotY"];break;case SVGTransform.SVG_TRANSFORM_SCALE:c=ze.toScaleList(t.values),i=["scaleX","scaleY"];break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:c=ze.toTranslateList(t.values),i=["translateX","translateY"]}e.valueType="floatType"}}else{const n=ke[t.attributeName];switch(e.valueType){case"intType":c=t.values.map(t=>""+Xe.convertInt(t)),n&&(i=[n]);case"floatType":c=t.values.map(t=>""+Xe.convertFloat(t)),n&&(i=[n]);break;case"pathType":if(a.pathData)t:{if(c=t.values.slice(),"points"===t.attributeName)for(let n=0;n<c.length;n++){const e=c[n];if(""!==e){const a=Ge.fromCoordinateList(Ge.toCoordinateList(e));if(!a.length)break t;c[n]="polygon"===t.parentElement.tagName?Ue.getPolygon(a):Ue.getPolyline(a)}}else if("d"!==t.attributeName)for(let n=0;n<c.length;n++){const e=c[n];if(""!==e){const o=Ge.toPathCommandList(a.pathData);if(o.length<=1)break t;let s,i,r,l,h,d;switch(t.attributeName){case"x":case"x1":case"x2":case"cx":if(isNaN(s=parseFloat(e)))break t;break;case"y":case"y1":case"y2":case"cy":if(isNaN(i=parseFloat(e)))break t;break;case"r":if(isNaN(r=parseFloat(e)))break t;l=r;break;case"rx":if(isNaN(r=parseFloat(e)))break t;break;case"ry":if(isNaN(l=parseFloat(e)))break t;case"width":if(isNaN(h=parseFloat(e))||h<0)break t;break;case"height":if(isNaN(d=parseFloat(e))||d<0)break t}if(void 0!==s||void 0!==i){const n=o[0],e=o[o.length-1],[a,r]=[n.points[0],e.points[e.points.length-1]];let c=!1;if(void 0!==s)switch(t.attributeName){case"x":s-=a.x,c=!0;break;case"x1":case"cx":a.x=s,n.coordinates[0]=s;break;case"x2":r.x=s,e.coordinates[0]=s}if(void 0!==i)switch(t.attributeName){case"y":i-=a.y,c=!0;break;case"y1":case"cy":a.y=i,n.coordinates[1]=i;break;case"y2":r.y=i,e.coordinates[1]=i}if(c)for(const t of o)if(!t.relative)for(let n=0,e=0;n<t.coordinates.length;n+=2,e++){const a=t.points[e];void 0!==s&&(t.coordinates[n]+=s,a.x+=s),void 0!==i&&(t.coordinates[n+1]+=i,a.y+=i)}}else if(void 0!==r||void 0!==l)for(const t of o)"A"===t.command.toUpperCase()&&(void 0!==r&&(t.radiusX=r,t.coordinates[0]=2*r*(t.coordinates[0]<0?-1:1)),void 0!==l&&(t.radiusY=l));else{if(void 0===h&&void 0===d){c[n]=c[n-1]||a.pathData;continue}for(const t of o)switch(t.command){case"h":void 0!==h&&(t.coordinates[0]=h*(t.coordinates[0]<0?-1:1));break;case"v":void 0!==d&&(t.coordinates[1]=d)}}c[n]=Ge.fromPathCommandList(o)}}i=["pathData"]}break;default:if(c=t.values.slice(),n&&(i=[n]),i)for(let t=0;t<c.length;t++){const n=Me.parseRGBA(c[t]);n&&(c[t]=`@color/${I.addColor(n)}`)}}}if(c&&i){if(0!==Xe.convertInt(e.repeatCount))switch(o.repeatmode||o.repeatMode){case"restart":e.repeatMode="restart";break;case"reverse":e.repeatMode="reverse"}e.interpolator=o.interpolator?De[o.interpolator]||o.interpolator:this.options.vectorAnimateInterpolator;const a=JSON.stringify(e);for(let o=0;o<i.length;o++){const l=Object.assign({},e);let h="";if(n.localSettings.targetAPI>=23&&"pathType"!==l.valueType&&void 0===t.sequential&&t.keyTimes.length>1&&t.duration>0&&(this.options.vectorAnimateAlwaysUseKeyframes||"0-1"!==t.keyTimes.join("-"))){const n=s.get(a)||[],e=[];for(let n=0;n<t.keyTimes.length;n++){let a;if(Array.isArray(c[n])){const t=c[n][o];void 0!==t&&(a=null!==t?""+t:"")}else a=""+c[n];void 0!==a&&e.push({fraction:""+t.keyTimes[n],value:a})}n.push({propertyName:i[o],keyframes:e}),s.has(a)||(s.set(a,n),l.propertyValues=n,r.objectAnimators.push(l)),h=e[e.length-1].value}else{if(l.propertyName=i[o],Array.isArray(c[0])){let n=null;if(t.duration>0){if(c.length>1){const t=c[0][o];null!==t&&(l.valueFrom=""+t,h=l.valueFrom)}n=c[c.length-1][o]}else 0===t.duration&&0===t.keyTimes[0]&&(n=c[0][o],l.repeatCount="0");if(null===n)continue;l.valueTo=""+n}else{if(t.duration>0)c.length>1&&(l.valueFrom=""+c[0]),l.valueTo=""+c[c.length-1];else{if(0!==t.duration||0!==t.keyTimes[0])continue;l.valueTo=""+c[0],l.repeatCount="0"}h=l.valueTo}l.propertyValues=!1,r.objectAnimators.push(l)}if(t instanceof qe&&!t.fillFreeze&&void 0===t.sequential){let n;if(t.parentPath){let e="";for(const t in ke)if(ke[t]===i[o]){e=Xe.convertCamelCase(t);break}""!==e&&(n=t.parentPath[e])}else if(t instanceof ze){const e=We.createTransformData(t.parentElement);switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:switch(i[o]){case"rotation":n=""+e.rotateAngle;break;case"pivotX":case"pivotY":n=""+(e.rotateOriginX||0)}break;case SVGTransform.SVG_TRANSFORM_SCALE:switch(i[o]){case"scaleX":n=""+e.scaleX;break;case"scaleY":n=""+e.scaleY}break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:switch(i[o]){case"translateX":n=""+e.translateX;break;case"translateY":n=""+e.translateY}}}void 0!==n&&r.objectAnimators.push({propertyName:i[o],valueType:e.valueType,duration:"1",repeatCount:"0",valueFrom:"pathType"===e.valueType?h:"",valueTo:n})}}}}else t.to&&(e.propertyName=ke[t.attributeName],e.propertyName&&(e.repeatCount="0",e.valueTo=""+t.to,r.objectAnimators.push(e)))}r.objectAnimators.length&&o.targetSet.push(r)}o.targetSet.length&&e[1].push(o)}e[1].length&&(t=Be.createTemplate(Be.parseTemplate(ye),e),""===(c=I.getStoredName("drawables",t))&&I.STORED.drawables.set(c=`${s}_animated${i.length?"_vector":""}`,t))}}}if(i.length){const t=[],n=[];for(const a of i){const o=e.width/e.viewBoxWidth,s=e.height/e.viewBoxHeight;let i=(a.x||0)*o,r=(a.y||0)*s;a.width*=o,a.height*=s;const c=Ye(a.element,e.element);i+=c.x,r+=c.y;const l={width:a.width>0?Xe.formatPX(a.width):"",height:a.height>0?Xe.formatPX(a.height):"",left:0!==i?Xe.formatPX(i):"",top:0!==r?Xe.formatPX(r):"",src:I.addImage({mdpi:a.uri})},h=We.createTransformData(a.element);0!==h.rotateAngle?(l.fromDegrees=""+h.rotateAngle,l.visible=a.visible?"true":"false",t.push(l)):n.push(l)}const a=Be.createTemplate(Be.parseTemplate(Kn),{1:!1,2:!1,3:[{vectorName:c}],4:t,5:n,6:!1,7:!1});""===(r=I.getStoredName("drawables",a))&&I.STORED.drawables.set(r=s,a)}else r=c;""!==r&&n.android("src",`@drawable/${r}`),n.hasWidth||n.android("layout_width","wrap_content"),n.hasHeight||n.android("layout_height","wrap_content")}}afterFinalize(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}}function Pe(t){return Ve&&!!t&&(t.closed||!(!Qe||!Qe.userSettings.autoCloseOnWrite||Qe.initialized||Qe.closed||(Qe.finalize(),0)))}let Qe,be,ve,Ve=!1;const je={base:{Controller:rt,File:Tt,Resource:I,View:D},extensions:{Accessibility:Lt,CssGrid:Ot,External:zt,Flexbox:Wt,Grid:Zt,List:vt,Relative:Vt,Sprite:en,Table:cn,VerticalAlign:dn,WhiteSpace:fn,constraint:{Guideline:En},delegate:{Fixed:Rn,MaxWidthHeight:yn,Percent:Xn,RadioGroup:Gn,ScrollBar:kn},resource:{Background:ne,Dimens:ie,Fonts:Ee,Includes:Se,Strings:Ae,Styles:Le,Svg:Je}},lib:{constant:h,enumeration:n,util:O},system:{customize(t,n,e){if(f[t]){const a=f[t].customizations;void 0===a[n]&&(a[n]={}),Object.assign(a[n],e)}},addXmlNs(t,n){c[t]=n},writeLayoutAllXml:(t=!1)=>be&&Pe(Qe)?be.layoutAllToXml(Qe.sessionData,t):"",writeResourceAllXml:(t=!1)=>be&&Pe(Qe)?be.resourceAllToXml(t):"",writeResourceStringXml:(t=!1)=>be&&Pe(Qe)?be.resourceStringToXml(t):"",writeResourceArrayXml:(t=!1)=>be&&Pe(Qe)?be.resourceStringArrayToXml(t):"",writeResourceFontXml:(t=!1)=>be&&Pe(Qe)?be.resourceFontToXml(t):"",writeResourceColorXml:(t=!1)=>be&&Pe(Qe)?be.resourceColorToXml(t):"",writeResourceStyleXml:(t=!1)=>be&&Pe(Qe)?be.resourceStyleToXml(t):"",writeResourceDimenXml:(t=!1)=>be&&Pe(Qe)?be.resourceDimenToXml(t):"",writeResourceDrawableXml:(t=!1)=>be&&Pe(Qe)?be.resourceDrawableToXml(t):""},create(){const t=squared.base.lib.constant.EXT_NAME,n=e;return Qe=new squared.base.Application(2,rt,I,ct,D),be=new Tt(Qe.resourceHandler),ve=Object.assign({},p),Object.assign(Qe.builtInExtensions,{[t.EXTERNAL]:new zt(t.EXTERNAL,2),[t.SUBSTITUTE]:new an(t.SUBSTITUTE,2),[t.SPRITE]:new en(t.SPRITE,2),[t.CSS_GRID]:new Ot(t.CSS_GRID,2),[t.FLEXBOX]:new Wt(t.FLEXBOX,2),[t.TABLE]:new cn(t.TABLE,2,["TABLE"]),[t.LIST]:new vt(t.LIST,2,["UL","OL","DL","DIV"]),[t.GRID]:new Zt(t.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"]),[t.RELATIVE]:new Vt(t.RELATIVE,2),[t.VERTICAL_ALIGN]:new dn(t.VERTICAL_ALIGN,2),[t.WHITESPACE]:new fn(t.WHITESPACE,2),[t.ACCESSIBILITY]:new Lt(t.ACCESSIBILITY,2),[n.CONSTRAINT_GUIDELINE]:new En(n.CONSTRAINT_GUIDELINE,2),[n.DELEGATE_FIXED]:new Rn(n.DELEGATE_FIXED,2),[n.DELEGATE_MAXWIDTHHEIGHT]:new yn(n.DELEGATE_MAXWIDTHHEIGHT,2),[n.DELEGATE_PERCENT]:new Xn(n.DELEGATE_PERCENT,2),[n.DELEGATE_RADIOGROUP]:new Gn(n.DELEGATE_RADIOGROUP,2),[n.DELEGATE_SCROLLBAR]:new kn(n.DELEGATE_SCROLLBAR,2),[n.RESOURCE_INCLUDES]:new Se(n.RESOURCE_INCLUDES,2),[n.RESOURCE_BACKGROUND]:new ne(n.RESOURCE_BACKGROUND,2),[n.RESOURCE_SVG]:new Je(n.RESOURCE_SVG,2),[n.RESOURCE_STRINGS]:new Ae(n.RESOURCE_STRINGS,2),[n.RESOURCE_FONTS]:new Ee(n.RESOURCE_FONTS,2),[n.RESOURCE_DIMENS]:new ie(n.RESOURCE_DIMENS,2),[n.RESOURCE_STYLES]:new Le(n.RESOURCE_STYLES,2)}),Ve=!0,{application:Qe,framework:2,userSettings:ve}},cached:()=>Ve?{application:Qe,framework:2,userSettings:ve}:je.create()};return je}();
