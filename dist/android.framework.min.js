var android=function(){"use strict";var t;!function(t){t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(t||(t={}));var e=Object.freeze({get CONTAINER_NODE(){return t}});const n={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},o={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},a={PLAINTEXT:t.TEXT,HR:t.LINE,SVG:t.SVG,IMG:t.IMAGE,SELECT:t.SELECT,RANGE:t.RANGE,TEXT:t.EDIT,PASSWORD:t.EDIT,NUMBER:t.EDIT,EMAIL:t.EDIT,SEARCH:t.EDIT,URL:t.EDIT,CHECKBOX:t.CHECKBOX,RADIO:t.RADIO,BUTTON:t.BUTTON,SUBMIT:t.BUTTON,RESET:t.BUTTON,TEXTAREA:t.EDIT},i={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},r={HORIZONTAL:"horizontal",VERTICAL:"vertical"},s={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},l={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},d=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var c=Object.freeze({EXT_ANDROID:n,CONTAINER_ANDROID:o,ELEMENT_ANDROID:a,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:i,AXIS_ANDROID:r,LAYOUT_ANDROID:s,XMLNS_ANDROID:l,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:d});function h(t,e,n,o=0){return(!n||n>=o)&&(t.attr=e),!0}const u={28:{android:{},app:{},customizations:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},customizations:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},customizations:{}},25:{android:{fontWeight:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},customizations:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},customizations:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},customizations:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>h(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>h(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},customizations:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},customizations:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},customizations:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},customizations:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},customizations:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},customizations:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>h(t,"layout_alignRight"),layout_alignParentEnd:t=>h(t,"layout_alignParentRight"),layout_alignParentStart:t=>h(t,"layout_alignParentLeft"),layout_alignStart:t=>h(t,"layout_alignLeft"),layout_marginEnd:t=>h(t,"layout_marginRight"),layout_marginStart:t=>h(t,"layout_marginLeft"),layout_toEndOf:t=>h(t,"layout_toRightOf"),layout_toStartOf:t=>h(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>h(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>h(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>h(t,"paddingRight"),paddingStart:t=>h(t,"paddingLeft"),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},customizations:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},customizations:{}},14:{android:{},app:{},customizations:{}},0:{android:{},app:{},customizations:{Button:{android:{textAllCaps:"false"}}}}},p={android:{amPmBackgroundColor:(t,e)=>h(t,"headerBackground",e,23),amPmTextColor:(t,e)=>h(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>h(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>h(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>h(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>h(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>h(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>h(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>h(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}},m={builtInExtensions:["android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","squared.external","squared.substitute","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30};var g='<?xml version="1.0" encoding="utf-8"?>\n{:0}';const f=squared.base.Resource,b=squared.lib.color,y=squared.lib.dom,T=squared.lib.util,E=squared.lib.xml,A=f.STORED;function w(t){return T.isPercent(t)?parseInt(t)/100:.5}class v extends squared.base.Resource{constructor(t,e){super(t,e),A.styles=new Map,A.themes=new Map,A.dimens=new Map,A.drawables=new Map,A.animators=new Map}static createBackgroundGradient(t,e,n){const o=[],a=t.svgElement||e.some(t=>t.colorStop.filter(t=>parseInt(t.offset)>0).length>0);for(const i of e){const e={type:i.type,startColor:a?"":v.addColor(i.colorStop[0].color),centerColor:!a&&i.colorStop.length>2?v.addColor(i.colorStop[1].color):"",endColor:a?"":v.addColor(i.colorStop[i.colorStop.length-1].color),colorStops:[]};switch(i.type){case"radial":if(t.svgElement){if(n){const t=i,o=[],a=squared.svg&&squared.svg.SvgBuild;let r,s,l,d;switch(n.element.tagName){case"path":a&&a.toPathCommandList(n.value).forEach(t=>o.push(...t.points));case"polygon":if(a&&n.element instanceof SVGPolygonElement&&o.push(...a.clonePoints(n.element.points)),!o.length)break;r=T.minArray(o.map(t=>t.x)),s=T.minArray(o.map(t=>t.y)),l=T.maxArray(o.map(t=>t.x))-r,d=T.maxArray(o.map(t=>t.y))-s;break;case"rect":{const t=n.element;r=t.x.baseVal.value,s=t.y.baseVal.value,l=t.width.baseVal.value,d=t.height.baseVal.value;break}case"circle":{const t=n.element;r=t.cx.baseVal.value-t.r.baseVal.value,s=t.cy.baseVal.value-t.r.baseVal.value,d=l=2*t.r.baseVal.value;break}case"ellipse":{const t=n.element;r=t.cx.baseVal.value-t.rx.baseVal.value,s=t.cy.baseVal.value-t.ry.baseVal.value,l=2*t.rx.baseVal.value,d=2*t.ry.baseVal.value;break}}if(void 0!==r&&void 0!==s&&void 0!==l&&void 0!==d){const n=w(t.cxAsString),o=w(t.cyAsString);e.centerX=""+(r+l*n),e.centerY=""+(s+d*o),e.gradientRadius=""+(l+d)/2*(T.isPercent(t.rAsString)?parseInt(t.rAsString)/100:1)}}}else{const n=i;let o;n.position&&n.position.length>1&&(o=y.getBackgroundPosition(n.position[1],t.bounds,t.dpi,t.fontSize,!0,!a)),a?(e.gradientRadius=""+t.bounds.width,o&&(e.centerX=""+o.left,e.centerY=""+o.top)):(e.gradientRadius=T.formatPX(t.bounds.width),o&&(e.centerX=T.convertPercent(o.left),e.centerY=T.convertPercent(o.top)))}break;case"linear":if(t.svgElement){const t=i;e.startX=""+t.x1,e.startY=""+t.y1,e.endX=""+t.x2,e.endY=""+t.y2}else{const n=i;if(a){const o=Math.round(t.bounds.width/2),a=Math.round(t.bounds.height/2),i=squared.svg.lib.util;i&&(e.startX=""+Math.round(i.getRadiusX(n.angle+180,o)+o),e.startY=""+Math.round(i.getRadiusY(n.angle+180,a)+a),e.endX=""+Math.round(i.getRadiusX(n.angle,o)+o),e.endY=""+Math.round(i.getRadiusY(n.angle,a)+a))}else e.angle=""+45*Math.floor(n.angle/45)}}if(a)for(let n=0;n<i.colorStop.length;n++){const o=i.colorStop[n],a=`@color/${v.addColor(o.color)}`;let r=parseInt(o.offset);0===n?t.svgElement||0===r||e.colorStops.push({color:a,offset:"0",opacity:o.opacity}):0===r&&(r=n<i.colorStop.length-1?Math.round((parseInt(i.colorStop[n-1].offset)+parseInt(i.colorStop[n+1].offset))/2):100),e.colorStops.push({color:a,offset:(r/100).toFixed(2),opacity:o.opacity})}o.push(e)}return o}static formatOptions(t,e=!1){for(const n in t)if(t.hasOwnProperty(n)){const o=t[n];if("object"==typeof o)for(const t in o)if(o.hasOwnProperty(t)){let n=""+o[t];switch(t){case"text":if(!n.startsWith("@string/")&&""!==(n=this.addString(n,"",e))){o[t]=`@string/${n}`;continue}break;case"src":case"srcCompat":if(T.REGEXP_PATTERN.URI.test(n)&&""!==(n=this.addImage({mdpi:n}))){o[t]=`@drawable/${n}`;continue}}const a=b.parseRGBA(n);if(a){const e=this.addColor(a);""!==e&&(o[t]=`@color/${e}`)}}}return t}static getOptionArray(t){const e=[];let n=[],o=-1;for(;++o<t.children.length;){const a=t.children[o].text.trim();if(""!==a)if(n&&0===e.length&&T.isNumber(a))n.push(a);else{if(n&&n.length){o=-1,n=null;continue}""!==a&&e.push(E.replaceEntity(a))}}return[e.length?e:null,n&&n.length?n:null]}static addTheme(...t){for(const e of t){const t=T.isString(e.output.path)?e.output.path:"",n=T.isString(e.output.file)?e.output.file:"themes.xml",o=`${T.trimString(t.trim(),"/")}/${T.trimString(n.trim(),"/")}`,a=A.themes.get(o)||new Map;let i="";if(""===e.name||"."===e.name.charAt(0)){t:for(const t of A.themes.values())for(const e of t.values())if(e.name){i=e.name;break t}""===i&&(i="AppTheme")}else i=e.name;if(e.name=i+("."===e.name.charAt(0)?e.name:""),v.formatOptions(e.items),a.has(e.name)){const t=a.get(e.name);for(const n in e.items)t.items[n]=e.items[n]}else a.set(e.name,e);A.themes.set(o,a)}}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const o=T.isNumber(t);if(!o||n){for(const[e,n]of A.strings.entries())if(n===t)return e;e=e.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),o||/^\d/.test(e)||d.includes(e)?e=`__${e}`:""===e&&(e=`__symbol${Math.ceil(1e5*Math.random())}`),A.strings.has(e)&&(e=v.generateId("string",e,1)),A.strings.set(e,t)}return e}return""}static addImageSrcSet(t,e=""){const n={},o=t.srcset.trim();if(""!==o){const e=t.src.substring(0,t.src.lastIndexOf("/")+1);o.split(",").forEach(t=>{const o=/^(.*?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(o){T.hasValue(o[2])||(o[2]="1x");const t=e+T.lastIndexOf(o[1]);switch(o[2]){case"0.75x":n.ldpi=t;break;case"1x":n.mdpi=t;break;case"1.5x":n.hdpi=t;break;case"2x":n.xhdpi=t;break;case"3x":n.xxhdpi=t;break;case"4x":n.xxxhdpi=t}}})}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}static addImage(t,e=""){let n="";if(t&&t.mdpi){n=T.lastIndexOf(t.mdpi);const o=T.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),o){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=v.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}static addImageUrl(t,e=""){const n=y.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}static addColor(t){if("string"==typeof t&&(t=b.parseRGBA(t)),t&&"#00000000"!==t.valueRGBA){const e=function(t){return t?t.opaque?t.valueARGB:t.valueRGB:""}(t);let n=A.colors.get(e)||"";if(""===n){const o=b.getColorByShade(t.valueRGB);o&&(o.name=T.convertUnderscore(o.name),n=t.opaque||o.value!==t.valueRGB?v.generateId("color",o.name,1):o.name,A.colors.set(e,n))}return n}return""}get userSettings(){return this.application.userSettings}}const x=squared.lib.util,S=squared.lib.xml;function R(t){return t?t.replace(/@\+?id\//,""):""}function _(t){return Object.assign({android:{},app:{}},t&&"object"==typeof t?t:{})}function I(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(t&&"object"==typeof t)for(const n in e)typeof t[n]==typeof e[n]&&(e[n]=t[n]);return e}function N(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function C(t,e=160,n=!1){if(t){let o=parseFloat(t);if(!isNaN(o))return(t=(o/=e/160)>=1||0===o?""+Math.floor(o):o.toFixed(2))+(n?"sp":"dp")}return"0dp"}function O(t,e=160,n="dp",o=!1){return"dp"===n||o?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,(t,...n)=>n[0]+(n[1]||"")+C(n[2],e,o)+n[3]):t}function P(t,e=4,n=!1){return S.replaceTab(t,e,n)}function L(t,e,n=4){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toFixed(n))}function D(t,e=!0,n=26){return t=t?t.trim():"",e&&n>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function B(...t){return x.flatMap(t,t=>l[t]?`xmlns:${t}="${l[t]}"`:"").join(" ")}var k=Object.freeze({stripId:R,createViewAttribute:_,createStyleAttribute:I,validateString:N,convertUnit:C,replaceUnit:O,replaceTab:P,calculateBias:L,replaceRTL:D,getXmlNs:B}),M=squared.base.NodeList,X=squared.base.Resource;const G=squared.base.lib.enumeration,V=squared.lib.dom,F=squared.lib.util;function z(t,e){const n=e-(t.hasHeight?t.height:t.bounds.height);n>0&&(t.modifyBox(2,Math.floor(n/2)-(t.inlineVertical?F.convertInt(t.verticalAlign):0)),t.modifyBox(8,Math.ceil(n/2)))}var H=e=>(class n extends e{constructor(t=0,e,n){super(t,e),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=new Set(["android","app"]),this._controlName="",this._fontSize=0,this._boxAdjustment=V.newBoxModel(),this._boxReset=V.newBoxModel(),this._containerType=0,this._localSettings={targetAPI:28,resolutionDPI:160,supportRTL:!1},this.__android={},this.__app={},n&&n(this)}static documentBody(){if(void 0===n._documentBody){const t=new n(0,document.body);t.hide(),t.setBounds(),n._documentBody=t}return n._documentBody}static getCustomizationValue(t,e,n,o){for(const a of[u[t],u[0]]){const t=F.optionalAsString(a,`customizations.${e}.${n}.${o}`);if(F.isString(t))return t}return""}static getControlName(e){return o[t[e]]}attr(t,e,n="",o=!0){const a={};return this.supported(t,e,a)?(Object.keys(a).length&&(F.isString(a.obj)&&(t=a.obj),F.isString(a.attr)&&(e=a.attr),F.isString(a.value)&&(n=a.value),"boolean"==typeof a.overwrite&&(o=a.overwrite)),super.attr(t,e,n,o)):""}android(t,e="",n=!0){return this.attr("android",t,e,n),this.__android[t]||""}app(t,e="",n=!0){return this.attr("app",t,e,n),this.__app[t]||""}apply(t){if(t&&"object"==typeof t){const e=Object.assign({},t);super.apply(e);for(const t in e)this.formatted(`${t}="${e[t]}"`)}}formatted(t,e=!0){const n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const o=this.renderParent;if(o)if(o.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);const o=s.constraint[t];if(o){if(this.app(this.localizeString(o),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:e,horizontal:-1!==F.indexOf(t.toLowerCase(),"left","right")},!0}}}else if(o.layoutRelative){return e&&void 0===n&&(n="true"===e),this.android(this.localizeString(s["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}anchorParent(t,e=!1,n=!1){const o=this.renderParent;if(o){const a=t===r.HORIZONTAL;if(o.layoutConstraint){if(e||!this.constraint[t])return this.anchor(a?"left":"top","parent"),this.anchor(a?"right":"bottom","parent"),this.constraint[t]=!0,n&&this.app(`layout_constraint${F.capitalize(t)}_bias`,this[`${t}Bias`]),!0}else if(o.layoutRelative)return this.anchor(a?"left":"top","true"),this.anchor(a?"right":"bottom","true"),!0}return!1}anchorDelete(...t){const e=this.renderParent;if(e)if(e.layoutConstraint)this.delete("app",...t.map(t=>this.localizeString(s.constraint[t])));else if(e.layoutRelative)for(const e of t)this.alignSibling(e)?this.delete("android",s.relative[e],this.localizeString(s.relative[e])):s.relativeParent[e]&&this.delete("android",this.localizeString(s.relativeParent[e]))}anchorClear(){const t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete(...Object.keys(s.constraint)):t.layoutRelative&&(this.anchorDelete(...Object.keys(s.relativeParent)),this.anchorDelete(...Object.keys(s.relative))))}alignParent(t){const e=this.renderParent;if(e)if(e.layoutConstraint){const e=s.constraint[t];if(e)return"parent"===this.app(this.localizeString(e))||"parent"===this.app(e)}else if(e.layoutRelative){const e=s.relativeParent[t];if(e)return"true"===this.android(this.localizeString(e))||"true"===this.android(e)}return!1}alignSibling(t){const e=this.renderParent;if(e){if(e.layoutConstraint){const n=s.constraint[t],o=this.app(this.localizeString(n))||this.app(n);return""!==o&&"parent"!==o&&o!==e.documentId}if(e.layoutRelative){const e=s.relative[t];return""!==(this.android(this.localizeString(e))||this.android(e))}}return!1}horizontalBias(){const t=this.documentParent;if(t!==this){return L(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy)}return.5}verticalBias(){const t=this.documentParent;if(t!==this){return L(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy)}return.5}supported(t,e,n={}){if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){const o=p[t];if(o&&"function"==typeof o[e]){const t=o[e](n,this.localSettings.targetAPI,this);if(!t||Object.keys(n).length)return t}for(let o=this.localSettings.targetAPI;o<=28;o++){const a=u[o];if(a&&a[t]&&void 0!==a[t][e]){const o=a[t][e];if("boolean"==typeof o)return o;if("function"==typeof o)return o(n,this.localSettings.targetAPI,this)}}}return!0}combine(...t){const e=[];for(const n of this._namespaces.values()){const o=this[`__${n}`];if(0===t.length||t.includes(n))for(const t in o)e.push("_"!==n?`${n}:${t}="${o[t]}"`:`${t}="${o[t]}"`)}return e.sort((t,e)=>t>e||e.startsWith("android:id=")?1:-1)}localizeString(t){return this.hasBit("excludeProcedure",G.NODE_PROCEDURE.LOCALIZATION)?t:D(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!1,o=!1){const a=new n(t||this.id,this.element);if(Object.assign(a.localSettings,this.localSettings),a.tagName=this.tagName,t?a.setControlType(this.controlName,this.containerType):(a.controlId=this.controlId,a.controlName=this.controlName,a.containerType=this.containerType),a.alignmentType=this.alignmentType,a.depth=this.depth,a.visible=this.visible,a.excluded=this.excluded,a.rendered=this.rendered,a.renderDepth=this.renderDepth,a.renderParent=this.renderParent,a.documentParent=this.documentParent,a.documentRoot=this.documentRoot,this.length&&a.retain(this.duplicate()),e){Object.assign(a.unsafe("boxReset"),this._boxReset),Object.assign(a.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces.values()){const e=this[`__${t}`];for(const n in e)a.attr(t,n,"android"===t&&"id"===n?a.documentId:e[n])}}return o&&(a.anchorClear(),a.anchor("left",this.documentId)&&(Object.assign(a.unsafe("boxReset"),{marginLeft:1}),Object.assign(a.unsafe("boxAdjustment"),{marginLeft:0})),a.anchor("top",this.documentId)&&(Object.assign(a.unsafe("boxReset"),{marginTop:1}),Object.assign(a.unsafe("boxAdjustment"),{marginTop:0}))),a.inherit(this,"initial","base","alignment","styleMap"),Object.assign(a.unsafe("cached"),this.unsafe("cached")),a}setControlType(e,n){if(n)this.containerType=n;else if(0===this.containerType)for(const n in o)if(o[n]===e){for(const e in t)if(t[t[e]]===n){this.containerType=t[e];break}break}if(this.controlName=e,""!==this.android("id")&&(this.controlId=R(this.android("id"))),""===this.controlId){const t=this.element;let e="";t&&("parent"===(e=N(t.id||t.name))||d.includes(e))&&(e=`_${e}`),this.controlId=F.convertWord(X.generateId("android",e||F.lastIndexOf(this.controlName,".").toLowerCase(),e?0:1)),this.android("id",this.documentId)}}setLayout(){const e=this.absoluteParent,n=this.renderParent,o=this.renderChildren;this.documentBody&&(!this.hasWidth&&o.some(t=>t.alignParent("right"))&&this.android("layout_width","match_parent",!1),!this.hasHeight&&o.some(t=>t.alignParent("bottom"))&&this.android("layout_height","match_parent",!1));let a=!1;if(!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){const o=this.css("width");if(F.isUnit(o)){const t=n?F.convertInt(n.android("layout_width")):0,i=this.convertPX(o);e===n&&t>0&&F.convertInt(i)>=t?this.android("layout_width","match_parent"):this.android("layout_width",i),a=!0}else F.isPercent(o)&&(n&&n.is(t.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(o)/100).toFixed(2),!1)):this.android("layout_width","100%"===o?"match_parent":this.convertPercent(o,!0)),a=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){const t=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",t,!1),a=!0}if(!a){const a=this.blockStatic&&!this.has("maxWidth")&&(this.htmlElement||this.svgElement);if(this.plainText)this.android("layout_width",n&&this.bounds.width>n.box.width&&this.multiline&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(o.some(t=>(t.inlineStatic&&!t.plainText||F.isUnit(t.cssInitial("width")))&&!t.autoMargin.horizontal&&Math.ceil(t.bounds.width)>=this.box.width))this.android("layout_width","wrap_content",!1);else if(this.flexElement&&n&&n.hasWidth||this.groupParent&&o.some(t=>!(t.plainText&&t.multiline)&&t.linear.width>=this.documentParent.box.width)||a&&(this.documentBody||e&&(e.documentBody||e.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings()))))||this.layoutFrame&&(2===M.floated(o).size||o.some(t=>t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned))))this.android("layout_width","match_parent",!1);else{(this.containerType<t.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||!!e&&(e.flexElement||e.gridElement)||!!n&&n.is(t.GRID))&&!a||!(e&&this.linear.width>=e.box.width||this.layoutVertical&&!this.autoMargin.horizontal||!this.documentRoot&&o.some(t=>t.layoutVertical&&!t.autoMargin.horizontal&&!t.hasWidth&&!t.floating))?this.android("layout_width","wrap_content",!1):this.android("layout_width","match_parent",!1)}}let i=!1;if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){const t=this.css("height");if(F.isUnit(t)){const e=this.convertPX(t,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(e)<Math.floor(this.box.height)?"wrap_content":e),i=!0}else F.isPercent(t)&&("100%"===t?(this.android("layout_height","match_parent"),i=!0):this.documentParent.has("height")&&(this.android("layout_height",F.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),i=!0))}if(this.has("minHeight")&&!this.constraint.minHeight){const t=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",t,!1),i=!0}i||this.android("layout_height","wrap_content",!1)}setAlignment(){const e=this.renderParent;if(e){const a=this.localizeString("left"),i=this.localizeString("right");function n(t){if(!t.blockWidth){const e=[],n=t.documentRoot&&t.layoutFrame&&1===t.length&&t.has("maxWidth");if(t.autoMargin.leftRight?n?t.renderChildren[0].mergeGravity("layout_gravity","center_horizontal"):e.push("center_horizontal"):t.autoMargin.left?n?t.renderChildren[0].mergeGravity("layout_gravity",i):e.push(i):t.autoMargin.right&&e.push(a),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity(t.blockWidth?"gravity":"layout_gravity",...e),!0}return!1}function o(t){switch(t){case"left":case"start":return a;case"right":case"end":return i;case"center":return"center_horizontal";default:return""}}let r=this.cssInitial("textAlign",!0)||"";if(this.pageFlow){let o="";if(this.inlineVertical&&(e.layoutHorizontal&&!e.support.container.positionRelative||e.is(t.GRID))){const t="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":this.mergeGravity(t,"top");break;case"middle":this.mergeGravity(t,"center_vertical");break;case"bottom":this.mergeGravity(t,"bottom")}}!this.blockWidth&&(e.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?this.mergeGravity("layout_gravity","right"===this.float?i:a):n(this)),this.hasAlign(64)&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(t=>t.rightAligned)?o=i:this.groupParent&&!this.renderChildren.some(t=>"right"===t.float)&&(o=a)),e.layoutFrame&&!n(this)&&""!==(o=this.floating?this.float:o)&&(e.inlineWidth||this.singleChild&&!e.documentRoot)&&e.mergeGravity("layout_gravity",o),""!==o&&(this.blockWidth?""!==r&&o!==i||(r=o):this.mergeGravity("layout_gravity",o))}const s=this.cssParent("textAlign");""!==s&&this.localizeString(s)!==a&&(!e.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",o(s)),this.imageElement||""!==r||(r=s)),this.layoutConstraint||this.mergeGravity("gravity",o(r))}}mergeGravity(t,...e){const n=new Set([...this.android(t).split("|"),...e].filter(t=>""!==t.trim()).map(t=>this.localizeString(t)));let o="";switch(n.size){case 0:break;case 1:o=n.values().next().value;default:let t="",e="",a="";["center","fill"].forEach(t=>{const e=`${t}_horizontal`,o=`${t}_vertical`;(n.has(t)||n.has(e)&&n.has(o))&&(n.delete(e),n.delete(o),n.add(t))});for(const o of n.values())switch(o){case"left":case"start":case"right":case"end":case"center_horizontal":t=o;break;case"top":case"bottom":case"center_vertical":e=o;break;default:a+=(""!==a?"|":"")+o}const i=""!==t&&""!==e?`${t}|${e}`:t||e;o=i+(""!==a?(""!==i?"|":"")+a:"")}return""!==o?this.android(t,o):(this.delete("android",t),"")}applyOptimizations(){if(this.renderParent)switch(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout(),this.cssParent("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}}applyCustomizations(){for(const t of[u[0],u[this.localSettings.targetAPI]])if(t&&t.customizations)for(const e of[this.tagName,this.controlName]){const n=t.customizations[e];if(n)for(const t in n)for(const e in n[t])this.attr(t,e,n[t][e],this.localSettings.customizationsOverwritePrivilege)}}setBoxSpacing(){const e={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};["margin","padding"].forEach((n,o)=>{["Top","Left","Right","Bottom"].forEach(t=>{const o=n+t;let a;a=1===this._boxReset[o]||"marginRight"===o&&this.bounds.right>=this.documentParent.box.right&&this.inline?0:this[o],e[o]=a+=this._boxAdjustment[o]});const a=0===o?"layout_margin":"padding",i=`${n}Top`,r=`${n}Right`,s=`${n}Bottom`,l=`${n}Left`,d=this.localizeString("Left"),c=this.localizeString("Right"),h=this.renderParent;let u,p,m;!this.supported("android","layout_marginHorizontal")||0===o&&h&&h.is(t.GRID)||(e[i]===e[r]&&e[r]===e[s]&&e[s]===e[l]?u=e[i]:(e[l]===e[r]&&(p=e[l]),e[i]===e[s]&&(m=e[i]))),void 0!==u?0!==u&&this.android(a,F.formatPX(u)):(void 0!==p?0!==p&&this.android(`${a}Horizontal`,F.formatPX(p)):(0!==e[l]&&this.android(a+d,F.formatPX(e[l])),0!==e[r]&&this.android(a+c,F.formatPX(e[r]))),void 0!==m?0!==m&&this.android(`${a}Vertical`,F.formatPX(m)):(0!==e[i]&&this.android(`${a}Top`,F.formatPX(e[i])),0!==e[s]&&this.android(`${a}Bottom`,F.formatPX(e[s]))))})}autoSizeBoxModel(){if(!this.hasBit("excludeProcedure",G.NODE_PROCEDURE.AUTOFIT)){const e=this.renderParent;let n=F.convertInt(this.android("layout_width")),o=F.convertInt(this.android("layout_height"));if(this.is(t.BUTTON)&&0===o)this.has("minHeight")||this.android("layout_height",F.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?F.convertInt(this.css("borderWidth")):0)));else if(this.is(t.LINE))"HR"!==this.tagName&&o>0&&this.toInt("height",!0)>0&&this.android("layout_height",F.formatPX(o+this.borderTopWidth+this.borderBottomWidth));else if(e){let t=!1;this.tableElement?t="content-box"===this.css("boxSizing")||V.isUserAgent(24):this.styleElement&&!this.hasBit("excludeResource",G.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||e.tableElement||(n>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",F.formatPX(n+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(n=F.convertInt(e.android("layout_width")))>0&&e.android("layout_width",F.formatPX(n+this.marginLeft+this.contentBoxWidth)),o>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",F.formatPX(o+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(o=F.convertInt(e.android("layout_height")))>0&&e.android("layout_height",F.formatPX(o+this.marginTop+this.contentBoxHeight))),t=!0),t&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}alignHorizontalLayout(){if(this.layoutHorizontal){if(this.layoutLinear){const t=this.renderChildren;let e;t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline)?this.android("baselineAligned","false"):(e=M.baseline(t.filter(t=>t.baseline&&!t.layoutRelative&&!t.layoutConstraint),!0)[0])&&this.android("baselineAlignedChildIndex",""+t.indexOf(e));const n=Math.max(this.lineHeight,F.maxArray(this.renderChildren.map(t=>t.lineHeight)));n>0&&z(this,n)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){const t=this.find(t=>"left"===t.float)||this.renderChildren[0];if(t&&t.marginLeft<0){const e=Math.abs(t.marginLeft);e===this.marginLeft?(this.modifyBox(16,null),t.modifyBox(16,null)):e<this.marginLeft?(this.modifyBox(16,t.marginLeft),t.modifyBox(16,null)):(this.modifyBox(16,null),t.modifyBox(16,this.marginLeft))}}}}alignVerticalLayout(){const t=this.renderParent;if(t&&!t.layoutHorizontal){const t=this.lineHeight;if(t){const e=()=>{const e=this.android("minHeight"),n=t+this.contentBoxHeight;F.convertInt(e)<n&&(this.android("minHeight",F.formatPX(n)),this.mergeGravity("gravity","center_vertical"))};0===this.length?this.layoutHorizontal||(this.inlineStatic&&this.visibleStyle.background?z(this,t):e()):this.layoutVertical&&this.each(e=>!e.layoutHorizontal&&z(e,t),!0)}}}get documentId(){return this.controlId?`@+id/${this.controlId}`:""}set anchored(t){this.constraint.horizontal=t,this.constraint.vertical=t}get anchored(){return this.constraint.horizontal&&this.constraint.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=a[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}get layoutFrame(){return this.is(t.FRAME)}get layoutLinear(){return this.is(t.LINEAR)}get layoutRelative(){return this.is(t.RELATIVE)}get layoutConstraint(){return this.is(t.CONSTRAINT)}get support(){return{container:{positionRelative:this.layoutRelative||this.layoutConstraint}}}get inlineWidth(){return"wrap_content"===this.android("layout_width")}get inlineHeight(){return"wrap_content"===this.android("layout_height")}get blockWidth(){return"match_parent"===this.android("layout_width")}get blockHeight(){return"match_parent"===this.android("layout_height")}get singleChild(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}get dpi(){return this.localSettings.resolutionDPI}get fontSize(){return 0===this._fontSize&&(this._fontSize=parseInt(F.convertPX(this.css("fontSize"),this.dpi,0))||16),this._fontSize}set localSettings(t){Object.assign(this._localSettings,t)}get localSettings(){return this._localSettings}});class W extends(H(squared.base.Node)){}class $ extends(H(squared.base.NodeGroup)){constructor(t,e,n,o){super(t,void 0,o),this.tagName=`${e.tagName}_GROUP`,this.documentParent=e.documentParent,this.retain(n)}}var q=squared.base.NodeList;const U=squared.base.lib.enumeration,Y=squared.lib.color,j=squared.lib.dom,K=squared.lib.util,Z=squared.lib.xml;function J(t){if(t.some(t=>t.floating)){const e=t.slice(0).sort((t,e)=>{if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return-1}return 0});if(e.map(t=>t.id).join("-")!==t.map(t=>t.id).join("-"))return t.length=0,t.push(...e),!0}return!1}function Q(t,e){for(const n of e)n!==t&&(n.imageElement&&n.actualHeight>t.actualHeight?n.renderParent&&K.withinFraction(n.linear.top,n.renderParent.box.top)&&n.anchor("top","true"):(n.element&&0===n.length||n.layoutHorizontal&&n.renderChildren.every(t=>t.baseline))&&n.anchor("baseline",t.documentId))}function tt(e){return e.filter(t=>"text-bottom"===t.verticalAlign).sort((e,n)=>e.bounds.height===n.bounds.height?e.is(t.SELECT)?1:-1:e.bounds.height>n.bounds.height?-1:1)[0]}function et(t,e=!1){t.textElement&&"center"!==t.cssParent("textAlign",!0)&&!t.hasWidth&&!t.multiline&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function nt(t,e,n,o=!1){return t>0?(o||(t-=e[`padding${n}`]),e.documentBody&&(t-=e[`margin${n}`]),Math.max(t,0)):t}function ot(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.bounds.width+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft);return n<e.bounds.width&&t.modifyBox(4,e.bounds.width-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1}function at(t,e){const n=t.cssInitial(`min${e}`),o=t.cssInitial(`max${e}`);K.isUnit(n)&&(t.app(`layout_constraint${e}_min`,n),t.constraint.minWidth=!0),K.isUnit(o)&&(t.app(`layout_constraint${e}_max`,o),t.constraint.minHeight=!0)}function it(t,e,n,o){if(K.isPercent(n))if(o)t.android(`layout_${e.toLowerCase()}`,t.convertPercent(n,"Width"===e));else if("100%"!==n){t.app(`layout_constraint${e}_percent`,(parseInt(n)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0)).toFixed(t.localSettings.constraintPercentAccuracy||4)),t.android(`layout_${e.toLowerCase()}`,"0px")}}function rt(t,e=!1){const n=t.has("width")?t.css("width"):"";it(t,"Width",n,e)}function st(t,e=!1){if(t.documentParent.hasHeight){const n=t.has("height")?t.css("height"):"";it(t,"Height",n,e)}}function lt(t){let e="";for(const n in l)RegExp(`\\s+${n}:`).test(t)&&(e+=`\n\t${B(n)}`);return e}function dt(t){"rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl");const e=j.getDataSet(t.element,"android");for(const n in e)if(/^attr[A-Z]/.test(n)){const o=K.capitalize(n.substring(4),!1);e[n].split(";").forEach(e=>{const[n,a]=e.split("::");n&&a&&t.attr(o,n,a)})}const n=K.repeat(t.renderDepth+1);return t.combine().map(t=>`\n${n+t}`).join("")}class ct extends squared.base.Controller{constructor(){super(...arguments),this.localSettings={baseTemplate:g,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}}}static evaluateAnchors(t){const e=t.filter(t=>t.constraint.horizontal),n=t.filter(t=>t.constraint.vertical);let o=-1;for(;++o<t.length;){const a=t[o];if(!a.constraint.horizontal)for(const t in a.constraint.current){const n=a.constraint.current[t];if(n.horizontal&&e.find(t=>t.documentId===n.documentId)){a.constraint.horizontal=!0,e.push(a),o=-1;break}}if(!a.constraint.vertical)for(const t in a.constraint.current){const e=a.constraint.current[t];if(!e.horizontal&&n.find(t=>t.documentId===e.documentId)){a.constraint.vertical=!0,n.push(a),o=-1;break}}}}static setConstraintDimension(t){rt(t),st(t),at(t,"Width"),at(t,"Height")}static setFlexDimension(t,e){const n=e?"width":"height",o=e?"height":"width";let a=t.flexbox.basis;if("auto"!==a&&(K.isPercent(a)?"0%"!==a&&(t.app(`layout_constraint${e?"Width":"Height"}_percent`,(parseInt(a)/100).toFixed(2)),a=""):K.isUnit(a)&&(t.android(`layout_${n}`,t.convertPX(a)),a="")),""!==a){const o=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android(`layout_${n}`,"0px"),t.app(`layout_constraint${e?"Horizontal":"Vertical"}_weight`,""+t.flexbox.grow)):K.isUnit(o)?t.android(`layout_${n}`,o):t.flexbox.shrink>1?t.android(`layout_${n}`,"wrap_content"):e?rt(t):st(t),t.flexbox.shrink<1&&t.app(`layout_constrained${e?"Width":"Height"}`,"true")}const i=t.has(o)?t.css(o):"";K.isUnit(i)?t.android(`layout_${o}`,i):e?st(t,!0):rt(t,!0),at(t,"Width"),at(t,"Height")}finalize(t){const e=this.userSettings;if(e.showAttributes){const e=t.cache.visible.map(t=>({pattern:Z.formatPlaceholder(t.id,"@"),attributes:dt(t)}));for(const n of[...t.views,...t.includes])e.forEach(t=>n.content=n.content.replace(t.pattern,t.attributes)),n.content=n.content.replace("{#0}",lt(n.content))}for(const n of[...t.views,...t.includes])n.content=O(n.content,e.resolutionDPI,e.convertPixels),n.content=P(n.content,e.insertSpaces),n.content=this.removePlaceholders(n.content).replace(/\n\n/g,"\n")}processUnknownParent(e){const n=e.node;let o,a=!1;if(n.has("columnCount"))e.columnCount=n.toInt("columnCount"),e.setType(t.CONSTRAINT,256,4);else if(e.some(t=>!t.pageFlow))e.setType(t.CONSTRAINT,32,2);else if(1===e.length){const i=n.item(0);n.documentRoot&&function(t,e){if(e.element&&t.dataset.target){const n=document.getElementById(t.dataset.target);return null!==n&&n!==e.element}return!1}(i,n)?(n.hide(),a=!0):!(this.userSettings.collapseUnattributedElements&&n.element&&n.positionStatic)||K.hasValue(n.element.id)||K.hasValue(n.dataset.use)||K.hasValue(n.dataset.target)||n.hasWidth||n.hasHeight||n.has("maxWidth")||n.has("maxHeight")||n.visibleStyle.background||n.has("textAlign")||n.has("verticalAlign")||!(n.toInt("lineHeight")>0)||n.rightAligned||n.autoMargin.horizontal||n.groupParent||n.companion||this.hasAppendProcessing(n.id)?e.setType(t.FRAME,2048):(i.documentRoot=n.documentRoot,i.siblingIndex=n.siblingIndex,i.parent=e.parent,n.renderAs=i,n.resetBox(510,i,!0),n.hide(),o=i)}else e.init(),j.hasLineBreak(n.element,!0)?e.setType(t.LINEAR,16,2):this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):e.linearX?(this.checkFrameHorizontal(e)?e.renderType=72:this.checkConstraintHorizontal(e)?e.setType(t.CONSTRAINT):this.checkRelativeHorizontal(e)?e.setType(t.RELATIVE):(e.setType(t.LINEAR),e.floated.size&&(e.renderPosition=J(e.children))),e.add(8)):e.linearY?e.setType(t.LINEAR,16,n.documentRoot?2:0):e.every(t=>t.inlineFlow)?this.checkFrameHorizontal(e)?e.renderType=72:e.setType(t.RELATIVE,8,2):e.some(t=>t.alignedVertically(t.previousSiblings(),e.children,e.cleared))?e.setType(t.LINEAR,16,2):e.setType(t.CONSTRAINT,2);return{layout:e,next:a,renderAs:o}}processUnknownChild(e){const n=e.node,o=n.visibleStyle;let a=!1;return n.inlineText||o.borderWidth&&n.textContent.length?e.setType(t.TEXT):o.backgroundImage&&!o.backgroundRepeat&&(!n.inlineText||n.toInt("textIndent")+n.bounds.width<0)?(e.setType(t.IMAGE,2048),n.exclude({resource:U.NODE_RESOURCE.FONT_STYLE|U.NODE_RESOURCE.VALUE_STRING})):n.block&&(o.borderWidth||o.backgroundImage||o.paddingVertical)?e.setType(t.LINE):n.documentRoot||(!this.userSettings.collapseUnattributedElements||!n.element||0!==n.bounds.height||o.background||K.hasValue(n.element.id)||K.hasValue(n.dataset.use)?e.setType(o.background?t.TEXT:t.FRAME):(n.hide(),a=!0)),{layout:e,next:a}}processTraverseHorizontal(t,e){const n=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===e||t.length!==e.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):n.alignmentType|=8,{layout:t}}processTraverseVertical(e,n){const o=e.parent;return!e.floated.size||!e.cleared.size||1===e.floated.size&&e.every((t,n)=>0===n||n===e.length-1||e.cleared.has(t))?void 0===n||e.length!==n.length?o.layoutVertical||(e.node=this.createNodeGroup(e.node,e.children,o),e.setType(t.LINEAR,16)):o.alignmentType|=16:(e.node=this.createNodeGroup(e.node,e.children,o),e.renderType|=80),{layout:e}}processLayoutHorizontal(e,n=!1){let o=0;return this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):this.checkConstraintHorizontal(e)?o=t.CONSTRAINT:this.checkRelativeHorizontal(e)?o=t.RELATIVE:(!n||e.linearX&&!e.floated.has("right"))&&(o=t.LINEAR,e.floated.size&&(e.renderPosition=J(e.children))),0!==o&&e.setType(o,8),{layout:e}}sortRenderPosition(t,e){if(t.layoutConstraint&&e.some(t=>!t.pageFlow)){const n=[],o=[],a=[],i=[];for(const n of e)n.pageFlow||n.actualParent!==t?a.push(n):n.zIndex>=0?i.push(n):o.push(n);return n.push(...K.sortArray(o,!0,"zIndex","id")),n.push(...a),n.push(...K.sortArray(i,!0,"zIndex","id")),n}return[]}checkFrameHorizontal(t){const[e,n]=t.partition(t=>t.floating);if(2===t.floated.size||t.cleared.size||t.some(t=>t.pageFlow&&t.autoMargin.horizontal))return!0;if(n.length){if(t.floated.has("right"))return!0;if(!this.userSettings.floatOverlapDisabled&&t.floated.has("left")){const t=K.minArray(n.map(t=>t.siblingIndex));return e.map(t=>t.siblingIndex).some(e=>e<t)&&n.some(t=>t.blockStatic)}}return!1}checkConstraintFloat(t){return 1===t.floated.size&&t.every(t=>t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0))}checkConstraintHorizontal(t){return!t.parent.hasHeight&&1!==new Set(t.map(t=>t.bounds.height)).size&&t.some(t=>"bottom"===t.verticalAlign)&&t.every(t=>t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign))}checkRelativeHorizontal(t){return 2!==t.floated.size&&t.some(t=>t.positionRelative||t.textElement||t.imageElement||!t.baseline)}setConstraints(){for(const t of this.cache.visible)if(!t.hasBit("excludeProcedure",U.NODE_PROCEDURE.CONSTRAINT)){const e=t.renderChildren.filter(t=>!t.positioned);if(e.length)if(t.layoutConstraint){const[n,o]=K.partitionArray(e,t=>t.pageFlow),a=Math.max(o.length?K.maxArray(t.renderChildren.map(t=>t.linear.bottom)):0,t.box.bottom);for(const e of o)if(!e.positionAuto&&(e.documentParent===e.absoluteParent||"fixed"===e.position)){if(e.hasWidth&&e.autoMargin.horizontal?e.has("left")&&e.autoMargin.right?(e.anchor("left","parent"),e.modifyBox(16,e.left)):e.has("right")&&e.autoMargin.left?(e.anchor("right","parent"),e.modifyBox(4,e.right)):(e.anchorParent(r.HORIZONTAL),e.modifyBox(16,e.left),e.modifyBox(4,e.right)):(e.has("left")&&(e.anchor("left","parent"),e.modifyBox(16,nt(e.left,t,"Left"))),!e.has("right")||e.hasWidth&&e.has("left")||(e.anchor("right","parent"),e.modifyBox(4,nt(e.right,t,"Right")))),e.hasHeight&&e.autoMargin.vertical)e.has("top")&&e.autoMargin.bottom?(e.anchor("top","parent"),e.modifyBox(2,e.top)):e.has("bottom")&&e.autoMargin.top?(e.anchor("bottom","parent"),e.modifyBox(8,e.bottom)):(e.anchorParent(r.VERTICAL),e.modifyBox(2,e.top),e.modifyBox(8,e.bottom));else{if(e.has("top")){const n=t.valueBox(32);e.anchor("top","parent"),e.modifyBox(2,nt(e.top,t,"Top",1===n[0]))}if(e.has("bottom")&&(!e.hasHeight||!e.has("top"))){const n=t.valueBox(128);e.anchor("bottom","parent"),e.modifyBox(8,nt(e.bottom,t,"Bottom",1===n[0]))}}e.positioned=!0}if(t.layoutHorizontal)this.processConstraintHorizontal(t,n);else if(t.hasAlign(256))this.processConstraintColumn(t,n);else if(n.length>1)this.processConstraintChain(t,n,a);else for(const e of n)e.autoMargin.leftRight||e.inlineStatic&&"center"===e.cssParent("textAlign",!0)?e.anchorParent(r.HORIZONTAL):e.rightAligned?e.anchor("right","parent"):(K.withinFraction(e.linear.left,t.box.left)||e.linear.left<t.box.left)&&e.anchor("left","parent"),(K.withinFraction(e.linear.top,t.box.top)||e.linear.top<t.box.top)&&e.anchor("top","parent"),this.withinParentBottom(e.linear.bottom,a)&&e.actualParent&&!e.actualParent.documentBody&&e.anchor("bottom","parent"),ct.setConstraintDimension(e);ct.evaluateAnchors(n),e.forEach(e=>{e.anchored||(this.addGuideline(e,t),e.pageFlow&&ct.evaluateAnchors(n)),!e.hasWidth&&e.alignParent("left")&&e.alignParent("right")&&e.android("layout_width","match_parent"),!e.hasHeight&&e.alignParent("top")&&e.alignParent("bottom")&&e.android("layout_height","match_parent")})}else t.layoutRelative&&this.processRelativeHorizontal(t,e)}}renderNodeGroup(e){const n=e.node,o=e.parent,a=e.containerType,i=e.alignmentType,s=_();let l=!1;switch(a){case t.LINEAR:K.hasBit(i,16)?(s.android.orientation=r.VERTICAL,l=!0):K.hasBit(i,8)&&(s.android.orientation=r.HORIZONTAL,l=!0);break;case t.GRID:s.android.rowCount=e.rowCount?""+e.rowCount:"",s.android.columnCount=e.columnCount?""+e.columnCount:"2",l=!0;break;case t.FRAME:case t.RELATIVE:case t.CONSTRAINT:l=!0}if(l){const t=K.hasValue(n.dataset.target)&&!K.hasValue(n.dataset.use),e=W.getControlName(a);return n.alignmentType|=i,n.setControlType(e,a),n.render(t?n:o),n.apply(s),this.getEnclosingTag(e,n.id,t?-1:n.renderDepth,Z.formatPlaceholder(n.id))}return""}renderNode(e){const n=e.node,a=e.parent;n.alignmentType|=e.alignmentType;const i=W.getControlName(e.containerType);n.setControlType(i,e.containerType);const s=K.hasValue(n.dataset.target)&&!K.hasValue(n.dataset.use);switch(n.element?n.element.tagName:""){case"IMG":if(!n.hasBit("excludeResource",U.NODE_RESOURCE.IMAGE_SOURCE)){const e=n.element,r=n.has("width",32),l=n.has("height",32);let d=n.toInt("width"),c=n.toInt("height"),h="";if(r||l)h=r&&l?"fitXY":"fitCenter";else{if(0===d){const t=/width="(\d+)"/.exec(e.outerHTML);t&&(d=parseInt(t[1]),n.css("width",K.formatPX(t[1]),!0))}if(0===c){const t=/height="(\d+)"/.exec(e.outerHTML);t&&(c=parseInt(t[1]),n.css("height",K.formatPX(t[1]),!0))}switch(n.css("objectFit")){case"contain":h="centerInside";break;case"cover":h="centerCrop";break;case"scale-down":h="fitCenter";break;case"none":h="matrix";break;default:h="fitXY"}}n.android("scaleType",h),(d>0&&0===c||0===d&&c>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");const u=v.addImageSrcSet(e);if(""!==u&&n.android("src",`@drawable/${u}`),!n.pageFlow&&n.left<0||n.top<0){const e=n.absoluteParent;if(e&&"hidden"===e.css("overflow")){const e=new W(this.cache.nextId,j.createElement(n.actualParent?n.actualParent.element:null),this.afterInsertNode);return e.setControlType(o.FRAME,t.FRAME),e.inherit(n,"base"),e.exclude({procedure:U.NODE_PROCEDURE.ALL,resource:U.NODE_RESOURCE.ALL}),e.css({position:n.position,zIndex:n.zIndex}),a.appendTry(n,e),this.cache.append(e),e.android("layout_width",d>0?d<a.box.width?K.formatPX(d):"match_parent":"wrap_content"),e.android("layout_height",c>0?c<a.box.height?K.formatPX(c):"match_parent":"wrap_content"),e.render(s?e:a),e.companion=n,e.saveAsInitial(),n.modifyBox(2,n.top),n.modifyBox(16,n.left),n.render(e),this.getEnclosingTag(o.FRAME,e.id,s?-1:e.renderDepth,this.getEnclosingTag(i,n.id,s?0:n.renderDepth))}}}break;case"TEXTAREA":{const t=n.element;n.android("minLines","2"),t.rows>2&&n.android("lines",""+t.rows),t.maxLength>0&&n.android("maxLength",""+t.maxLength),!n.hasWidth&&t.cols>0&&n.css("width",K.formatPX(8*t.cols),!0),n.android("hint",t.placeholder),n.android("scrollbars",r.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break}case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"INPUT":{const t=n.element;switch(t.type){case"password":n.android("inputType","textPassword");break;case"text":n.android("inputType","text");break;case"range":K.hasValue(t.min)&&n.android("min",t.min),K.hasValue(t.max)&&n.android("max",t.max),K.hasValue(t.value)&&n.android("progress",t.value);break;case"image":if(!n.hasBit("excludeResource",U.NODE_RESOURCE.IMAGE_SOURCE)){const e=v.addImage({mdpi:t.src});""!==e&&n.android("src",`@drawable/${e}`,!1)}}switch(t.type){case"text":case"search":case"tel":case"url":case"email":case"password":!n.hasWidth&&t.size>0&&n.css("width",K.formatPX(8*t.size),!0)}break}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(n.controlName){case o.TEXT:const t=[];n.overflowX&&t.push(r.HORIZONTAL),n.overflowY&&t.push(r.VERTICAL),t.length&&n.android("scrollbars",t.join("|")),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");const e=n.css("textShadow");"none"!==e&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some((t,o)=>{const a=e.match(t);if(a){const t=Y.parseRGBA(a[0===o?1:4]);if(t){const e=v.addColor(t);""!==e&&n.android("shadowColor",`@color/${e}`)}return n.android("shadowDx",""+K.convertInt(a[0===o?2:1])),n.android("shadowDy",""+K.convertInt(a[0===o?3:2])),n.android("shadowRadius",""+K.convertInt(a[0===o?4:3])),!0}return!1});break;case o.BUTTON:n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case o.LINE:n.hasHeight||n.android("layout_height",K.formatPX(n.contentBoxHeight||1))}if(n.textElement||n.imageElement||n.svgElement){if(n.has("maxWidth")){const t=n.convertPX(n.css("maxWidth"));n.android("maxWidth",t)}if(n.has("maxHeight")){const t=n.convertPX(n.css("maxHeight"),!1);n.android("maxHeight",t)}}return n.render(s?n:a),this.getEnclosingTag(i,n.id,s?-1:n.renderDepth)}renderNodeStatic(t,e,n={},o="",a="",i,r){const s=Math.max(0,e);void 0===i?i=new W(0,void 0,this.afterInsertNode):(i.renderDepth=s,i.rendered=!0),i.apply(n),i.android("layout_width",o,!1),i.android("layout_height",a,!1),0!==i.containerType&&""!==i.controlName||i.setControlType(t);let l=this.getEnclosingTag(t,i.id,i.documentRoot||0!==e?e:-1,r?Z.formatPlaceholder(i.id):"");if(this.userSettings.showAttributes&&0===i.id){const t=K.repeat(s+1),e=i.combine().map(e=>`\n${t+e}`).join("");l=l.replace(Z.formatPlaceholder(i.id,"@"),e)}return n.documentId=i.documentId,l}renderSpace(t,e,n="",a=0,i=0,r){r=_(r);let s="",l="";return K.isPercent(e)&&(r.android.layout_columnWeight=s=(parseInt(e)/100).toFixed(2),e="0px"),K.isPercent(n)&&(r.android.layout_rowWeight=l=(parseInt(n)/100).toFixed(2),n="0px"),a>0&&(r.android.layout_columnSpan=""+a),i>0&&(r.android.layout_rowSpan=""+i),this.renderNodeStatic(o.SPACE,t,r,e,K.hasValue(n)?n:"wrap_content")}addGuideline(t,e,n="",a=!1,i=!1){const s=e.groupParent?e:t.documentParent;[r.HORIZONTAL,r.VERTICAL].forEach((l,d)=>{if(!t.constraint[l]&&(""===n||l===n)){const n=0===d;let c,h,u,p;if(n?(c=i?"right":"left",h=i?"left":"right",u=i?"rightLeft":"leftRight",p=i?"leftRight":"rightLeft"):(c=i?"bottom":"top",h=i?"top":"bottom",u=i?"bottomTop":"topBottom",p=i?"topBottom":"bottomTop"),K.withinFraction(t.linear[c],s.box[c]))return void t.anchor(c,"parent",!0);const m=t.positionStatic?"bounds":"linear";let g,f="layout_constraintGuide_",b=!1;if(!t.pageFlow&&K.isPercent(t.css(c)))g=parseInt(t.css(c))/100,b=!0,f+="percent";else{if(!a&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[l]){const o=t.pageFlow&&e.pageFlow;let a=!1;if(o&&(K.withinFraction(t.linear[c],e.linear[h])?(t.anchor(u,e.documentId,!0),a=!0):K.withinFraction(t.linear[h],e.linear[c])&&(t.anchor(p,e.documentId,!0),a=!0)),(o||!t.pageFlow&&!e.pageFlow)&&(K.withinFraction(t.bounds[c],e.bounds[c])?(t.anchor(!n&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":c,e.documentId,!0),a=!0):K.withinFraction(t.bounds[h],e.bounds[h])&&(t.anchor(h,e.documentId,!0),a=!0)),a)return e.constraint[l]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.previousSiblings();if(e.length&&!t.alignedVertically(e)){const o=e[e.length-1];if(o.renderParent===t.renderParent)return t.anchor(n?"rightLeft":"top",o.documentId,!0),void(t.constraint[l]=o.constraint[l])}}if(a){g=parseFloat(Math.abs(Math.abs(t[m][c]-s.box[c])/s.box[n?"width":"height"]-(i?1:0)).toFixed(this.localSettings.constraint.percentAccuracy)),b=!0,f+="percent"}else g=t[m][c]-s.box[i?h:c],f+="begin"}const y=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=K.convertInt(t.verticalAlign);e<0&&(g+=e)}}else if(t.absoluteParent===t.documentParent)if(n)g=nt(g,s,"Left");else{const t=s.valueBox(32);g=nt(g,s,"Top",1===t[0])}if(g<=0)t.anchor(c,"parent",!0);else if(n&&s.hasWidth&&!t.has("right")&&g+t[m].width>=s.box.right||!n&&s.hasHeight&&!t.has("bottom")&&g+t[m].height>=s.box.bottom)t.anchor(h,"parent",!0);else{const a=K.optionalAsObject(y,`${l}.${f}.${c}`);let i=!1;if(a)for(const e in a)if(parseInt(a[e])===g){t.anchor(c,e,!0),t.anchorDelete(h),i=!0;break}if(!i){const a=_({android:{orientation:0===d?r.VERTICAL:r.HORIZONTAL},app:{[f]:b?""+g:K.formatPX(g)}});this.appendAfter(t.id,this.renderNodeStatic(o.GUIDELINE,t.renderDepth,a,"wrap_content","wrap_content"));const i=a.documentId;t.anchor(c,i,!0),t.anchorDelete(h),K.defaultWhenNull(y,l,f,c,i,""+g),e.constraint.guideline=y,t.constraint[n?"guidelineHorizontal":"guidelineVertical"]=i}}t.constraint[l]=!0}})}createNodeGroup(t,e,n,o){const a=new $(this.cache.nextId,t,e,this.afterInsertNode);return a.siblingIndex=t.siblingIndex,n&&(n.appendTry(o||t,a),a.init()),this.cache.append(a),a}createNodeWrapper(t,e,n,o){const a=new W(this.application.nextId,j.createElement(t.actualParent?t.actualParent.element:null,t.block),this.application.controllerHandler.afterInsertNode);return t.documentRoot&&(a.documentRoot=!0,t.documentRoot=!1),a.inherit(t,"base","alignment"),n&&a.setControlType(n,o),a.exclude({section:U.APP_SECTION.ALL,procedure:U.NODE_PROCEDURE.CUSTOMIZATION,resource:U.NODE_RESOURCE.ALL}),a.siblingIndex=t.siblingIndex,e&&(e.appendTry(t,a),t.siblingIndex=0,-1!==t.renderPosition&&(a.renderPositionId=t.renderPositionId,t.renderPosition=-1),t.parent=a),a.saveAsInitial(),this.application.processing.cache.append(a,!e),t.unsetCache(),a}processRelativeHorizontal(t,e){const n=q.cleared(e),o=Math.ceil((()=>{const n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(n.has("width",2))return n.toInt("width",!0);if(n.has("width",32))return n.bounds.width-n.contentBoxWidth}else{const o=n.children.filter(e=>"left"===e.float&&e.siblingIndex<t.siblingIndex).map(t=>t.linear.right);if(o.length){const n=K.maxArray(o);if(e.some(t=>t.linear.left===n))return t.box.right-n}}return t.box.width})()),a=o*this.localSettings.relative.boxWidthWordWrapPercent,i="nowrap"!==t.css("whiteSpace"),r=j.isUserAgent(24),s=[],l=new Set;let d,c,h=!1,u=0;const[p,m]=K.partitionArray(e,t=>"right"===t.float);J(m),[m,p].forEach((e,h)=>{const p=0===h?"left":"right";for(let g=0;g<e.length;g++){const f=e[g],b=e[g-1];let y=f.bounds;if(f.element&&!f.hasWidth&&f.inlineText){const t=j.getRangeClientRect(f.element);(t.multiline||t.width<f.box.width)&&(y=t,0===f.multiline&&(f.multiline=t.multiline),r&&t.multiline&&!/^\s*\n+/.test(f.textContent)&&l.add(f))}let T=0===h?"leftRight":"rightLeft",E=[];if(0===g)f.anchor(p,"true"),s.push([f]);else{function m(){const t=(d&&s.length>1?d.linear.width:0)+u+f.marginLeft+("left"!==b.float||n.has(f)?y.width:0)-(r?f.borderRightWidth:0);return!f.rightAligned&&Math.floor(t)-(f.styleElement&&f.inlineStatic?f.paddingLeft+f.paddingRight:0)>o}ot(f,b)&&(T="");const e=f.groupParent&&!f.hasAlign(128);E=!e&&f.element&&f.inlineVertical&&b.inlineVertical?j.getElementsBetween(b.element,f.element,!0):[];const a=(()=>{if(f.textElement){let t=!1;if(b.textElement&&(1===g&&f.plainText&&!b.rightAligned&&(t=0===E.length&&!/\s+$/.test(b.textContent)&&!/^\s+/.test(f.textContent)),i&&!t&&(l.has(b)||b.multiline&&j.hasLineBreak(b.element,!1,!0))))return!0;if(i&&!t&&(m()||f.multiline&&j.hasLineBreak(f.element)||f.preserveWhiteSpace&&/^\n+/.test(f.textContent)))return!0}return!1})(),h=s[s.length-1],A=f.previousSiblings();if(a||e||!f.textElement&&m()||f.linear.top>=b.linear.bottom&&(f.blockStatic||f.floating&&b.float===f.float)||!f.floating&&(b.blockStatic||A.length&&A.some(t=>t.lineBreak||t.excluded&&t.blockStatic)||E.some(t=>j.isLineBreak(t)))||n.has(f)){c=h.filter(t=>!t.floating)[0]||h[0];for(let t=0;t<h.length;t++)h[t]!==c&&h[t].linear.bottom>c.linear.bottom&&(!h[t].floating||h[t].floating&&c.floating)&&(c=h[t]);f.anchor("topBottom",c.documentId),d&&f.linear.bottom<=d.bounds.bottom?f.anchor(T,d.documentId):(f.anchor(p,"true"),d=void 0),a&&f.multiline&&et(b,i),u=Math.min(0,a&&!b.multiline&&f.multiline&&!n.has(f)?f.linear.right-t.box.right:0),s.push([f])}else""!==T&&f.anchor(T,b.documentId),c&&f.anchor("topBottom",c.documentId),h.push(f)}"left"===f.float&&(d=f);let A=0;if(E.length&&!E.some(t=>!!j.getElementAsNode(t)||j.isLineBreak(t))){const t=j.getRangeClientRect(E[0]),e=E.length>1?j.getRangeClientRect(E[E.length-1]):null;t.multiline||null!==e&&e.multiline||(A=e?t.left-e.right:t.width)}Math.ceil(u+=A+f.marginLeft+y.width+f.marginRight)>=a&&!f.alignParent(p)&&et(f,i)}}),s.length>1&&(t.alignmentType|=4096,h=!0);for(let e=0;e<s.length;e++){const n=s[e],o=q.baseline(n),a=o[0],i=q.baseline(n,!0)[0];let r=tt(n);a&&r&&r.bounds.height>a.bounds.height?a.anchor("bottom",r.documentId):r=void 0;const l=[];let d=0===e?"true":a?a.documentId:"";const c=e=>{if(!h){if(o.includes(e)||e.actualParent&&e.actualHeight>=e.actualParent.box.height)return!0;t.hasHeight||t.css("height",K.formatPX(t.bounds.height),!0)}return!1};for(const t of n)if(t!==a)if(t.baseline)l.push(t);else if(t.inlineVertical)switch(t.verticalAlign){case"text-top":i&&t.anchor("top",i.documentId);break;case"super":case"top":d&&t.anchor("top",d);break;case"middle":if(h){if(a){const e=Math.max(t.bounds.height,t.lineHeight),n=Math.max(a.bounds.height,a.lineHeight);e<n&&(t.anchor("top",a.documentId),t.modifyBox(2,Math.round((n-e)/2)))}}else t.anchor("centerVertical","true");break;case"text-bottom":i&&t!==r&&t.anchor("bottom",i.documentId);break;case"sub":case"bottom":c(t)&&(d=""),d&&t.anchor("bottom",d);break;default:"0px"===t.verticalAlign||t.svgElement||l.push(t)}if(a&&(a.baselineActive=!0,l.length&&(Q(a,l),t.lineHeight||a.lineHeight))){let e=0;(e=a.lineHeight?a.lineHeight-a.bounds.height:t.lineHeight-(a.bounds.height-(a.paddingTop+a.paddingBottom)))>0&&(a.modifyBox(2,Math.floor(e/2)),a.modifyBox(8,Math.ceil(e/2)))}}}processConstraintHorizontal(t,e){const n=q.baseline(e)[0],o=q.baseline(e,!0)[0];let a=tt(e);const i=t.hasAlign(512);n&&(n.baselineActive=!0,a&&n.bounds.height<a.bounds.height?n.anchor("bottom",a.documentId):a=void 0);for(let t=0;t<e.length;t++){const s=e[t],l=e[t-1];if(0===t?s.anchor(i?"right":"left","parent"):l&&s.anchor(i?"rightLeft":"leftRight",l.documentId),s.inlineVertical)switch(s.verticalAlign){case"text-top":o&&s!==o&&s.anchor("top",o.documentId);break;case"super":case"top":s.anchor("top","parent");break;case"middle":s.anchorParent(r.VERTICAL);break;case"text-bottom":o&&s!==o&&s!==a&&s.anchor("bottom",o.documentId);break;case"sub":case"bottom":s.anchor("bottom","parent");break;case"baseline":n&&s!==n&&s.anchor("baseline",n.documentId)}}}processConstraintColumn(t,e){const n=t.toInt("columnCount"),o=Math.ceil(e.length/Math.min(n,e.length)),a=[];for(let t=0,n=0;t<e.length;t++){const i=e[t];t%o==0&&(t>0&&n++,void 0===a[n]&&(a[n]=[])),a[n].push(i)}const r=K.convertInt(t.css("columnGap"))||16,s=a.map(t=>K.maxArray(t.map(t=>t.marginLeft+t.marginRight))).reduce((t,e)=>t+e,0),l=Math.max((s+r*(n-1))/t.box.width/n,.01),d=[],c=[],h=[];for(let t=0;t<a.length;t++){const e=a[t],o=e[0];t>0&&o.android(o.localizeString(i.MARGIN_LEFT),K.formatPX(o.marginLeft+r)),h.push(o),e.forEach(t=>{let e=0;(e=t.has("width",32)?t.toInt("width")/100:1/n-l)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toFixed(2)))}),c.push(e)}d.push(h),[d,c].forEach((t,e)=>{const n=0===e;t.forEach(t=>{const e=t[0],o=t[t.length-1];e.anchor(n?"left":"top","parent"),o.anchor(n?"right":"bottom","parent");for(let o=0;o<t.length;o++){const a=t[o],i=t[o-1],r=t[o+1];n?a.app("layout_constraintVertical_bias","0"):o>0&&a.anchor("left",e.documentId),r&&a.anchor(n?"rightLeft":"bottomTop",r.documentId),i&&a.anchor(n?"leftRight":"topBottom",i.documentId),ct.setConstraintDimension(a),a.anchored=!0}n?e.app("layout_constraintHorizontal_chainStyle","spread_inside"):e.app("layout_constraintVertical_chainStyle","packed")})})}processConstraintChain(t,e,n){const o=q.partitionRows(e),a=q.actualParent(e)||t,i=t.hasAlign(64),s=o.length>1&&t.hasAlign(1024)?q.clearedAll(a):new Map;let l=!1;o.length>1&&(t.alignmentType|=4096),i&&(l=t.hasAlign(512),e.some(t=>t.has("width",32))&&t.android("layout_width","match_parent"));for(const r of e)i||(r.rightAligned?(K.withinFraction(r.linear.right,a.box.right)||r.linear.right>a.box.right)&&r.anchor("right","parent"):(K.withinFraction(r.linear.left,a.box.left)||r.linear.left<a.box.left)&&r.anchor("left","parent")),(K.withinFraction(r.linear.top,t.box.top)||r.linear.top<t.box.top||r.floating&&1===o.length)&&r.anchor("top","parent"),!this.withinParentBottom(r.linear.bottom,n)||a.documentBody||!a.hasHeight&&r.alignParent("top")||r.anchor("bottom","parent");const d=[];let c,h,u,p;l?(c="right",h="left",u="rightLeft",p="leftRight"):(c="left",h="right",u="leftRight",p="rightLeft"),o.forEach((t,e)=>{const n=t[0],m=t[t.length-1];let g;if(n.anchor(c,"parent"),"center"===a.css("textAlign")?n.app("layout_constraintHorizontal_chainStyle","spread"):t.length>1&&(l?(m.app("layout_constraintHorizontal_chainStyle","packed"),m.app("layout_constraintHorizontal_bias","1")):(n.app("layout_constraintHorizontal_chainStyle","packed"),n.app("layout_constraintHorizontal_bias","0"))),t.length>1&&m.anchor(h,"parent"),e>0){const t=o[e-1];g=t[0];for(let e=1;e<t.length;e++)t[e].linear.bottom>g.linear.bottom&&(g=t[e])}for(let f=0;f<t.length;f++){const b=t[f],y=t[f-1],T=t[f+1];if(b.autoMargin.leftRight?b.anchorParent(r.HORIZONTAL):(y&&b.anchor(u,y.documentId),T&&b.anchor(p,T.documentId)),ct.setConstraintDimension(b),e>0){const t=o[e-1],r=t[t.length-1],y=l?m:n,T=[];if(r?(T.push(r),b.element&&T.push(...K.flatMap(j.getElementsBetween(r.element,b.element),t=>j.getElementAsNode(t)))):T.push(y),!i||0!==s.size&&T.some(t=>s.has(t)))g&&(f>0?(b.anchor("top",n.documentId),b.modifyBox(2,-1*n.marginTop)):(b.anchor("topBottom",g.documentId),g.anchor("bottomTop",b.documentId)));else if(t.length){b.anchor("topBottom",r.documentId),r.alignSibling("bottomTop")||r.anchor("bottomTop",b.documentId);for(let t=d.length-2;t>=0;t--){const e=d[t];if(e.linear.bottom>r.linear.bottom){if((l?Math.ceil(e.linear[h])-Math.floor(a.box[h]):Math.ceil(a.box[h])-Math.floor(e.linear[h]))>=b.linear.width){b.anchor(u,e.documentId),b.anchorDelete(p),b===n?(b.anchorDelete(c),b.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):b===m&&b.anchorDelete(h);break}}}}}d.push(b)}}),ct.evaluateAnchors(e)}withinParentBottom(t,e){return K.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}get userSettings(){return this.application.userSettings}get containerTypeHorizontal(){return{containerType:t.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:t.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:t.FRAME,alignmentType:256,renderType:0}}get afterInsertNode(){const t=this.userSettings;return e=>{e.localSettings={targetAPI:void 0!==t.targetAPI?t.targetAPI:28,resolutionDPI:void 0!==t.resolutionDPI?t.resolutionDPI:160,supportRTL:void 0===t.supportRTL||t.supportRTL,constraintPercentAccuracy:this.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===t.customizationsOverwritePrivilege||t.customizationsOverwritePrivilege}}}}class ht extends squared.base.ExtensionManager{}var ut='\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<color name="{&value}">{&name}</color>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e',pt='\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<dimen name="{&name}">{&value}</dimen>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e',mt="\n{&value}\n\x3c!-- filename: {&name} --\x3e",gt='\n<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n<<A>>\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n<<A>>\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e',ft='\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<string name="{&name}">{~value}</string>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e',bt='\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<string-array name="{&name}">\n\t<<AA>>\n\t\t<item>{&value}</item>\n\t<<AA>>\n\t</string-array>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e',yt='\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<style name="{&name}" parent="{~parent}">\n\t<<items>>\n\t\t<item name="{&name}">{&value}</item>\n\t<<items>>\n\t</style>\n<<A>>\n</resources>\n\x3c!-- filename: {0} --\x3e';const Tt=squared.lib.util,Et=squared.lib.xml;function At(t){const e=[],n=/^<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->$/;for(const o of t){const t=n.exec(o);t&&e.push({uri:t[1],pathname:t[2],filename:t[3],content:""})}return e}function wt(t){const e=[],n=/^[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)$/;for(const o of t){const t=n.exec(o);t&&e.push({content:t[0].replace(t[1],"").trim(),pathname:t[2],filename:t[3]})}return e}function vt(t,e,n){return{pathname:t,filename:e,content:n}}function xt(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}class St extends squared.base.File{saveAllToDisk(t){const e=[],n=[...t.views,...t.includes];for(let t=0;t<n.length;t++){const o=n[t];e.push(vt(o.pathname,0===t?this.userSettings.outputMainFileName:`${o.filename}.xml`,o.content))}e.push(...wt(this.resourceStringToXml())),e.push(...wt(this.resourceStringArrayToXml())),e.push(...wt(this.resourceFontToXml())),e.push(...wt(this.resourceColorToXml())),e.push(...wt(this.resourceStyleToXml())),e.push(...wt(this.resourceDimenToXml())),e.push(...wt(this.resourceDrawableToXml())),e.push(...At(this.resourceDrawableImageToXml())),e.push(...wt(this.resourceAnimToXml())),this.saveToDisk(e)}layoutAllToXml(t,e=!1){const n={},o=[],a=[...t.views,...t.includes];for(let t=0;t<a.length;t++){const i=a[t];n[i.filename]=[i.content],e&&o.push(vt(i.pathname,0===t?this.userSettings.outputMainFileName:`${i.filename}.xml`,i.content))}return e&&this.saveToDisk(o),n}resourceAllToXml(t=!1){const e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in e)0===e[t].length&&delete e[t];if(t){const t=[];for(const n in e)"image"===n?t.push(...At(e[n])):t.push(...wt(e[n]));this.saveToDisk(t)}return e}resourceStringToXml(t=!1){const e=[],n={A:[]};this.stored.strings=new Map([...this.stored.strings.entries()].sort(xt)),""===this.appName||this.stored.strings.has("app_name")||n.A.push({name:"app_name",value:this.appName});for(const[t,e]of this.stored.strings.entries())n.A.push({name:t,value:e});return e.push(P(Et.createTemplate(Et.parseTemplate(ft),n),this.userSettings.insertSpaces,!0)),t&&this.saveToDisk(wt(e)),e}resourceStringArrayToXml(t=!1){const e=[];if(this.stored.arrays.size){const n={A:[]};this.stored.arrays=new Map([...this.stored.arrays.entries()].sort());for(const[t,e]of this.stored.arrays.entries())n.A.push({name:t,AA:e.map(t=>({value:t}))});e.push(P(Et.createTemplate(Et.parseTemplate(bt),n),this.userSettings.insertSpaces,!0)),t&&this.saveToDisk(wt(e))}return e}resourceFontToXml(t=!1){const e=[];if(this.stored.fonts.size){const n=this.userSettings;this.stored.fonts=new Map([...this.stored.fonts.entries()].sort());const o=n.targetAPI<26?"app":"android";for(const[t,a]of this.stored.fonts.entries()){const i={name:t,namespace:B(o),A:[]};let r="";for(const e in a){const[n,o]=e.split("-");i.A.push({style:n,weight:o,font:`@font/${t+("normal"===n&&"normal"===o?`_${n}`:("normal"!==n?`_${n}`:"")+("normal"!==o?`_${o}`:""))}`})}r+=Et.createTemplate(Et.parseTemplate(gt),i),n.targetAPI<26&&(r=r.replace(/android/g,"app")),e.push(P(r,n.insertSpaces))}t&&this.saveToDisk(wt(e))}return e}resourceColorToXml(t=!1){const e=[];if(this.stored.colors.size){const n={A:[]};this.stored.colors=new Map([...this.stored.colors.entries()].sort());for(const[t,e]of this.stored.colors.entries())n.A.push({name:t,value:e});e.push(P(Et.createTemplate(Et.parseTemplate(ut),n),this.userSettings.insertSpaces)),t&&this.saveToDisk(wt(e))}return e}resourceStyleToXml(t=!1){const e=[];if(this.stored.styles.size){const n=this.userSettings,o=Et.parseTemplate(yt),a=[];{const t=Array.from(this.stored.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1),e={A:[]};for(const n of t)Array.isArray(n.items)&&(n.items.sort((t,e)=>t.name>=e.name?1:-1),e.A.push(n));a.push({filename:"res/values/styles.xml",data:e})}const i={};for(const[t,e]of this.stored.themes.entries()){const n={A:[]};for(const[o,a]of e.entries()){const e=[];for(const t in a.items)e.push({name:t,value:a.items[t]});(!i[t]||"AppTheme"!==o||e.length>0)&&n.A.push({name:o,parent:a.parent,items:e}),"AppTheme"===o&&(i[t]=!0)}a.push({filename:t,data:n})}for(const t of a)e.push(P(O(Et.createTemplate(o,t.data).replace("filename: {0}",`filename: ${t.filename}`),n.resolutionDPI,n.convertPixels,!0),n.insertSpaces));t&&this.saveToDisk(wt(e))}return e}resourceDimenToXml(t=!1){const e=[];if(this.stored.dimens.size){const n=this.userSettings,o={A:[]};this.stored.dimens=new Map([...this.stored.dimens.entries()].sort());for(const[t,e]of this.stored.dimens.entries())o.A.push({name:t,value:e});e.push(P(O(Et.createTemplate(Et.parseTemplate(pt),o),n.resolutionDPI,n.convertPixels),n.insertSpaces)),t&&this.saveToDisk(wt(e))}return e}resourceDrawableToXml(t=!1){const e=[];if(this.stored.drawables.size){const n=this.userSettings,o=Et.parseTemplate(mt);for(const[t,a]of this.stored.drawables.entries())e.push(P(O(Et.createTemplate(o,{name:`res/drawable/${t}.xml`,value:a}),n.resolutionDPI,n.convertPixels),n.insertSpaces));t&&this.saveToDisk(wt(e))}return e}resourceDrawableImageToXml(t=!1){const e=[];if(this.stored.images.size){const n=this.userSettings,o=Et.parseTemplate(mt);for(const[t,a]of this.stored.images.entries())if(Object.keys(a).length>1)for(const i in a)e.push(P(Et.createTemplate(o,{name:`res/drawable-${i}/${t}.${Tt.lastIndexOf(a[i],".")}`,value:`\x3c!-- image: ${a[i]} --\x3e`}),n.insertSpaces));else a.mdpi&&e.push(P(Et.createTemplate(o,{name:`res/drawable/${t}.${Tt.lastIndexOf(a.mdpi,".")}`,value:`\x3c!-- image: ${a.mdpi} --\x3e`}),n.insertSpaces));t&&this.saveToDisk(At(e))}return e}resourceAnimToXml(t=!1){const e=[];if(this.stored.animators.size){const n=Et.parseTemplate(mt);for(const[t,o]of this.stored.animators.entries())e.push(P(Et.createTemplate(n,{name:`res/anim/${t}.xml`,value:o}),this.userSettings.insertSpaces));t&&this.saveToDisk(wt(e))}return e}get userSettings(){return this.resource.userSettings}get stored(){return this.resource.stored}}const Rt=squared.base.lib.enumeration,_t=squared.lib.dom,It=squared.lib.util;class Nt extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache.elements){const e=t.element;if(e&&!t.hasBit("excludeProcedure",Rt.NODE_PROCEDURE.ACCESSIBILITY))switch(t.controlName){case o.EDIT:t.companion||[_t.getPreviousElementSibling(e),_t.getNextElementSibling(e)].some(n=>{if(n){const o=_t.getElementAsNode(n),a=n&&n.parentElement&&"LABEL"===n.parentElement.tagName?_t.getElementAsNode(n.parentElement):void 0;if(o&&o.visible&&o.pageFlow){if(It.hasValue(n.htmlFor)&&n.htmlFor===e.id)return o.android("labelFor",t.documentId),!0;if(o.textElement&&a)return a.android("labelFor",t.documentId),!0}}return!1});case o.SELECT:case o.CHECKBOX:case o.RADIO:case o.BUTTON:e.disabled&&t.android("focusable","false")}}}}var Ct=squared.base.Layout;const Ot=squared.base.lib.constant,Pt=squared.base.lib.enumeration,Lt=squared.lib.dom,Dt=squared.lib.util;function Bt(t,e,n,o){const a="column"===o?16:2,i="column"===o?4:8,r="column"===o?256:32,s=t[o],l=n.startsWith("space")?function(t,e){const n=[];if("column"===e)for(let e=0;e<t.column.count;e++){n[e]=[];for(let o=0;o<t.row.count;o++)n[e].push(t.rowData[o][e])}else for(let e=0;e<t.row.count;e++)n.push(t.rowData[e]);return n}(t,o):[],d=function(t,e,n){const o="column"===e?"width":"height";let a=0;for(let n=0;n<t[e].count;n++){const i=t[e].unit[n];a+=i.endsWith("px")?parseInt(i):Dt.minArray(t.rowData[n].map(t=>t&&t.length?t[0].bounds[o]:0))}return a=n[o]-(a+=(t[e].count-1)*t[e].gap)}(t,o,e);if(d>0){const c="column"===o?"width":"height",h=t[o].count,u=new Set;switch(n){case"center":e.modifyBox(r,Math.floor(d/2)),s.normal=!1;break;case"right":if("row"===o)break;case"end":case"flex-end":e.modifyBox(r,d),s.normal=!1;break;case"space-around":{const t=Math.floor(d/(2*h));for(let e=0;e<h;e++)new Set(Dt.flatArray(l[e])).forEach(n=>{u.has(n)?n.cssPX(c,2*t):(n.modifyBox(a,t),e<h-1&&n.modifyBox(i,t),u.add(n))});s.normal=!1;break}case"space-between":{const t=Math.floor(d/(2*(h-1))),e=Dt.flatArray(l[h-1]);for(let n=0;n<h;n++)new Set(Dt.flatArray(l[n])).forEach(o=>{u.has(o)?o.cssPX(c,2*t):(n>0&&o.modifyBox(a,t),n<h-1&&!e.some(t=>t===o)&&o.modifyBox(i,t),u.add(o))});s.normal=!1;break}case"space-evenly":{const t=Math.floor(d/(h+1)),e=Dt.flatArray(l[h-1]);for(let n=0;n<h;n++){const o=Math.floor(t/2);new Set(Dt.flatArray(l[n])).forEach(r=>{u.has(r)?r.cssPX(c,t):(r.modifyBox(a,0===n?t:o),n<h-1&&!e.some(t=>t===r)&&r.modifyBox(i,o),u.add(r))})}s.normal=!1;break}}}}class kt extends squared.base.extensions.CssGrid{processNode(e,n){super.processNode(e,n);const o=e.data(Ot.EXT_NAME.CSS_GRID,"mainData");let a="";if(o){const i=new Ct(n,e,t.GRID,4,e.length,e.children);i.rowCount=o.row.count,i.columnCount=o.column.count,a=this.application.renderNode(i)}return{output:a,complete:""!==a}}processChild(e,n){const a=n.data(Ot.EXT_NAME.CSS_GRID,"mainData"),i=e.data(Ot.EXT_NAME.CSS_GRID,"cellData");let r,s="";if(a&&i){function l(t,o,r){const s=a[o],l=`${o}Start`,d=`${o}Span`,c=i[d]-i[l],h=`min${Dt.capitalize(r)}`;let u=0,p=0,m=0,g=0;s.unit.every(t=>"auto"===t)&&("width"===r?s.unit=s.unit.map(()=>"1fr"):s.unit.length=0);for(let t=0,o=0;t<i[d];t++){m+=parseInt(n.convertPX(s.unitMin[i[l]+t]));let a=s.unit[i[l]+t];if(!Dt.hasValue(a)){if(!s.auto[o])continue;a=s.auto[o],s.auto[o+1]&&o++}if(Dt.hasValue(a)){if("auto"===a||"min-content"===a||"max-content"===a){c<s.unit.length&&(!n.has(r)||s.unit.some(t=>Dt.isUnit(t))||"min-content"===a)?(u=e.bounds[r],p=0,g=0):(u=0,p=0,g=.01);break}if(Dt.isPercent(a))g+=parseInt(a)/100,p=u,u=0;else if(a.endsWith("fr"))g+=parseInt(a),p=u,u=0;else if(a.endsWith("px")){const t=parseInt(a);0===p?u+=t:p+=t}}}if(i[d]>1){const t=(i[d]-1)*s.gap;u>0&&0===p?u+=t:p>0&&(p+=t),m>0&&(m+=t)}m>0&&(s.autoFill&&0===u&&1===a["column"===o?"row":"column"].count?(u=Math.max(e.bounds.width,m),g=0):p=m),t.android(`layout_${o}`,""+i[l]),i[d]>1&&t.android(`layout_${o}Span`,""+i[d]),p>0&&!t.has(h)&&t.css(h,Dt.formatPX(p),!0),g>0?(t.android(`layout_${r}`,"0px"),t.android(`layout_${o}Weight`,""+g),t.mergeGravity("layout_gravity","column"===o?"fill_horizontal":"fill_vertical")):u>0&&!t.has(r)&&t.css(r,Dt.formatPX(u),!0)}const d=e.has("alignSelf")?e.css("alignSelf"):a.alignItems,c=e.has("justifySelf")?e.css("justifySelf"):a.justifyItems;if(/(start|end|center|baseline)/.test(d)||/(start|end|center|baseline|left|right)/.test(c)){(r=new W(this.application.nextId,Lt.createElement(e.actualParent?e.actualParent.element:null),this.application.controllerHandler.afterInsertNode)).tagName=e.tagName,r.setControlType(o.FRAME,t.FRAME),r.inherit(e,"initial","base"),r.resetBox(510),r.exclude({procedure:Pt.NODE_PROCEDURE.AUTOFIT|Pt.NODE_PROCEDURE.CUSTOMIZATION,resource:Pt.NODE_RESOURCE.BOX_STYLE|Pt.NODE_RESOURCE.ASSET}),n.appendTry(e,r),r.render(n),this.application.processing.cache.append(r,!1),e.inheritBox(30,r),l(r,"column","width"),l(r,"row","height");let a=!1;c.endsWith("start")||c.endsWith("left")||c.endsWith("baseline")?(e.mergeGravity("layout_gravity","left"),a=!0):c.endsWith("end")||c.endsWith("right")?(e.mergeGravity("layout_gravity","right"),a=!0):c.endsWith("center")&&(e.mergeGravity("layout_gravity","center_horizontal"),a=!0),e.hasWidth||e.android("layout_width",a?"wrap_content":"match_parent",!1),d.endsWith("start")||d.endsWith("baseline")?e.mergeGravity("layout_gravity","top"):d.endsWith("end")?e.mergeGravity("layout_gravity","bottom"):d.endsWith("center")?e.mergeGravity("layout_gravity","center_vertical"):e.hasHeight||e.android("layout_height","match_parent",!1),e.parent=r;const i=new Ct(n,r,t.FRAME,2048,1,r.children);s=this.application.renderLayout(i)}const h=r||e;l(h,"column","width"),l(h,"row","height"),h.has("height")||(n.hasHeight&&(h.android("layout_height","0px"),h.android("layout_rowWeight","1")),h.mergeGravity("layout_gravity","fill_vertical")),h.has("width")||h.mergeGravity("layout_gravity","fill_horizontal")}return{output:s,parent:r,complete:""!==s}}postBaseLayout(t){const e=t.data(Ot.EXT_NAME.CSS_GRID,"mainData");if(e&&(t.hasWidth&&"normal"!==e.justifyContent&&Bt(e,t,e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&Bt(e,t,e.alignContent,"row"),e.column.normal&&!e.column.unit.includes("auto"))){const n=e.column.gap*(e.column.count-1);n>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",n),t.cssPX("width",n,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Dt.formatPX(t.bounds.width+n),!0))}}postProcedure(t){const e=t.data(Ot.EXT_NAME.CSS_GRID,"mainData");if(e){const n=this.application.controllerHandler,o=Array.from(e.children)[e.children.size-1];if(e.column.unit.every(t=>Dt.isPercent(t))){const a=e.column.unit.reduce((t,e)=>t+parseInt(e),0);if(a<100){t.android("columnCount",""+(e.column.count+1));for(let r=0;r<e.row.count;r++)n.appendAfter(o.id,n.renderSpace(t.renderDepth+1,Dt.formatPercent(100-a),"wrap_content",0,0,_({android:{[t.localizeString(i.MARGIN_LEFT)]:Dt.formatPX(e.column.gap),layout_row:""+r,layout_column:""+e.column.count}})))}}for(let a=0;a<e.emptyRows.length;a++){const i=e.emptyRows[a];if(i)for(let r=0;r<i.length;r++)if(1===i[r]){n.appendAfter(o.id,n.renderSpace(t.renderDepth+1,"wrap_content",Dt.formatPX(e.row.gap),0,0,_({android:{layout_row:""+a,layout_column:""+r}})));break}}}}}class Mt extends squared.base.extensions.External{constructor(){super(...arguments),this.eventOnly=!0}}var Xt=squared.base.Layout,Gt=squared.base.NodeList;const Vt=squared.base.lib.constant,Ft=(squared,squared.lib.util),zt={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]};class Ht extends squared.base.extensions.Flexbox{processNode(e,n){super.processNode(e,n);const o=e.data(Vt.EXT_NAME.FLEXBOX,"mainData"),a=new Xt(n,e,0,4,e.length);return a.rowCount=o.rowCount,a.columnCount=o.columnCount,e.filter(t=>!t.pageFlow).length>0||o.rowDirection&&(1===o.rowCount||e.hasHeight)||o.columnDirection&&1===o.columnCount?a.containerType=t.CONSTRAINT:a.setType(t.LINEAR,o.columnDirection?8:16),{output:this.application.renderNode(a),complete:!0}}processChild(e,n){let o="";if(e.hasAlign(128)){const a=new Xt(n,e,t.CONSTRAINT,4,e.length,e.children);o=this.application.renderNode(a)}return{output:o,complete:""!==o}}postBaseLayout(e){const n=e.data(Vt.EXT_NAME.FLEXBOX,"mainData");if(n){const o=[],a=[],i=[],s=[];if(n.wrap){let r;e.filter(t=>t.hasAlign(128)).forEach(t=>{const l=t.renderChildren.filter(t=>t.pageFlow);if(n.rowDirection)t.android("layout_width","match_parent"),e.hasHeight&&(t.android("layout_height","0px"),t.app("layout_constraintVertical_weight","1")),o.push(l),s.push(t);else{if(t.android("layout_height","match_parent"),a.push(l),r){let e=r[0];for(let t=1;t<r.length;t++)r[t].linear.right>e.linear.right&&(e=r[t]);const n=t.linear.left-e.actualRight();n>0&&t.modifyBox(16,n),t.constraint.horizontal=!0}i.push(t),r=l}}),e.is(t.LINEAR)?n.columnDirection&&n.wrapReverse&&e.mergeGravity("gravity","right"):(s.length&&a.push(s),i.length&&o.push(i))}else n.rowDirection?o[0]=n.directionReverse?n.children.reverse():n.children:(e.hasHeight||e.android("layout_height","match_parent"),a[0]=n.directionReverse?n.children.reverse():n.children);[o,a].forEach((t,o)=>{const a=0===o,l=a?1:0;t.forEach(t=>{const d=zt.widthHeight[l],c=d.toLowerCase(),h=zt.leftTop[o],u=zt.leftTop[l],p=zt.rightBottom[o],m=zt.rightBottom[l],g=Ft.maxArray(t.map(t=>t.flexElement?0:t.bounds[d.toLowerCase()]));let f;for(let e=0;e<t.length;e++){const l=t[e],h=t[e-1],p=t[e+1];if(p&&l.anchor(zt.rightLeftBottomTop[o],p.documentId),h&&l.anchor(zt.leftRightTopBottom[o],h.documentId),t!==i&&t!==s){switch(l.flexbox.alignSelf){case"start":case"flex-start":l.anchor(u,"parent");break;case"end":case"flex-end":l.anchor(m,"parent");break;case"baseline":a&&(void 0===f&&(f=Gt.baseline(t)[0]),f&&(l!==f?(l.anchor("baseline",f.documentId),l.constraint.vertical=!0):l.anchor("top","parent")));break;case"center":l.anchorParent(a?r.VERTICAL:r.HORIZONTAL);break;default:if(l.anchor(n.wrapReverse?m:u,"parent"),!l[`has${d}`]&&!l.has(c,32)){const t=l.unsafe("initial");t.bounds&&t.bounds[c]<g&&(l.android(`layout_${d.toLowerCase()}`,"0px"),l.anchor(n.wrapReverse?u:m,"parent"))}}ct.setFlexDimension(l,a)}l.positioned=!0}const b=zt.horizontalVertical[o],y=t[0],T=t[t.length-1],E=`layout_constraint${b}_chainStyle`;if(y.anchor(h,"parent"),T.anchor(p,"parent"),t.every(t=>t.flexbox.grow<1))switch(n.justifyContent){case"left":if(!a)break;case"start":case"flex-start":y.app(E,"packed"),y.app(`layout_constraint${b}_bias`,"0");break;case"center":y.app(E,"packed"),y.app(`layout_constraint${b}_bias`,"0.5");break;case"right":if(!a)break;case"end":case"flex-end":y.app(E,"packed"),y.app(`layout_constraint${b}_bias`,"1");break;case"space-between":y.app(E,"spread_inside");break;case"space-evenly":y.app(E,"spread"),t.forEach(t=>t.app(`layout_constraint${b}_weight`,""+(t.flexbox.grow||1)));break;case"space-around":const e=this.application.controllerHandler,o=b.toLowerCase();y.app(E,"spread_inside"),y.constraint[o]=!1,T.constraint[o]=!1,e.addGuideline(y,y.parent,o,!0,!1),e.addGuideline(T,y.parent,o,!0,!0)}t.length>1&&(a&&Ft.withinFraction(e.box.left,y.linear.left)&&Ft.withinFraction(T.linear.right,e.box.right)||!a&&Ft.withinFraction(e.box.top,y.linear.top)&&Ft.withinFraction(T.linear.bottom,e.box.bottom))?y.app(E,"spread_inside",!1):(y.app(E,"packed",!1),y.app(`layout_constraint${b}_bias`,n.directionReverse?"1":"0",!1))})})}}}var Wt=squared.base.Layout;const $t=squared.base.lib.constant,qt=(squared,squared.lib.util);class Ut extends squared.base.extensions.Grid{processNode(e,n){super.processNode(e,n);const o=e.data($t.EXT_NAME.GRID,"mainData");let a="";if(o){const i=new Wt(n,e,t.GRID,4,e.length,e.children);i.columnCount=o.columnCount,a=this.application.renderNode(i)}return{output:a,complete:""!==a}}processChild(e,n){const o=n.data($t.EXT_NAME.GRID,"mainData"),a=e.data($t.EXT_NAME.GRID,"cellData");if(o&&a){a.rowSpan>1&&e.android("layout_rowSpan",""+a.rowSpan),a.columnSpan>1&&e.android("layout_columnSpan",""+a.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");const o=a.siblings?a.siblings.slice(0):[];if(o.length){const a=this.application.controllerHandler;o.unshift(e);const i=new Wt(n,e,0,0,o.length,o);if(i.linearY)i.node=a.createNodeGroup(e,o,n),i.setType(t.LINEAR,16);else{i.init();const t=a.processTraverseHorizontal(i);i.node=t.layout.node}if(0!==i.containerType){return function(t,e){let n;for(let t=0;t<e.length;t++){const o=e[t];if(void 0===n)n=o.data($t.EXT_NAME.GRID,"cellData");else if(n){const t=o.data($t.EXT_NAME.GRID,"cellData");if(t)for(const e in t)switch(typeof t[e]){case"number":n[e]+=t[e];break;case"boolean":!0===t[e]&&(n[e]=!0)}}o.siblingIndex=t,o.data($t.EXT_NAME.GRID,"cellData",null)}t.data($t.EXT_NAME.GRID,"cellData",n)}(i.node,o),{output:this.application.renderNode(i),parent:i.node,complete:!0}}}}return{output:""}}postBaseLayout(t){if(!t.tableElement||"collapse"!==t.css("borderCollapse")){const e=t.data($t.EXT_NAME.GRID,"mainData");e&&t.each(t=>{const n=t.data($t.EXT_NAME.GRID,"cellData");if(n){const o=t.actualParent;if(o&&!o.visible&&(n.cellStart&&(e.paddingTop=o.paddingTop+o.marginTop),n.rowStart&&(e.paddingLeft=Math.max(o.marginLeft+o.paddingLeft,e.paddingLeft)),n.rowEnd)){const a=o.marginBottom+o.paddingBottom+(n.cellEnd?0:o.marginTop+o.paddingTop);a>0&&(n.cellEnd?e.paddingBottom=a:this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",qt.formatPX(a),e.columnCount))),e.paddingRight=Math.max(o.marginRight+o.paddingRight,e.paddingRight)}}},!0),t.modifyBox(32,e.paddingTop),t.modifyBox(64,e.paddingRight),t.modifyBox(128,e.paddingBottom),t.modifyBox(256,e.paddingLeft)}!t.hasWidth&&qt.withinFraction(t.box.right,qt.maxArray(t.renderChildren.filter(t=>t.inlineFlow||!t.blockStatic).map(t=>t.linear.right)))&&t.android("layout_width","wrap_content")}}var Yt=squared.base.Layout,jt=squared.base.NodeList;const Kt=squared.base.lib.constant,Zt=(squared,squared.lib.dom),Jt=squared.lib.util;class Qt extends squared.base.extensions.List{processNode(e,n){super.processNode(e,n);const o=new Yt(n,e,0,0,e.length,e.children);let a="";return jt.linearY(o.children)?(o.rowCount=e.length,o.columnCount=e.some(t=>"inside"===t.css("listStylePosition"))?3:2,o.setType(t.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(o)&&(o.rowCount=1,o.columnCount=o.length,o.setType(t.RELATIVE,8)),0!==o.containerType&&(a=this.application.renderNode(o)),{output:a,complete:""!==a}}processChild(e,n){const a=e.data(Kt.EXT_NAME.LIST,"mainData");let r="";if(a){const s=this.application.controllerHandler,l=Jt.convertInt(n.css("paddingLeft"))+Jt.convertInt(n.css("marginLeft"));let d=0,c=e.marginLeft;e.modifyBox(16,null),n.is(t.GRID)?(d=Jt.convertInt(n.android("columnCount")),c+=l):n.item(0)===e&&(c+=l);const h=e.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=Jt.convertInt(t.documentParent.cssInitial("marginLeft")));if(h&&""===a.ordinal){const o=new Yt(n,h);h.inlineText||0===h.length?o.containerType=t.TEXT:(o.retain(h.children),s.checkRelativeHorizontal(o)?o.setType(t.RELATIVE,8):o.setType(t.CONSTRAINT,2)),h.parent=n,s.prependBefore(e.id,this.application.renderNode(o)),3===d&&e.android("layout_columnSpan","2"),(c+=h.marginLeft)>0&&!h.hasWidth&&h.android("minWidth",Jt.formatPX(c)),h.modifyBox(16,null)}else{const t=d>0?"0":"",r="inside"===e.css("listStylePosition");let h=0,u=0,p="";if(""!==a.imageSrc){const t=Zt.getBackgroundPosition(a.imagePosition,e.bounds,e.dpi,e.fontSize);h=t.left,u=t.top,p=v.addImageUrl(a.imageSrc)}const m=""!==p&&!e.has("listStyleImage")||0===l&&0===e.marginLeft?"":"right";""===m&&(c+=e.paddingLeft,e.modifyBox(256,null)),h>0&&c>h&&(c-=h),c=Math.max(c,20);const g=(()=>c<=24?6:c<=32?8:10)(),f=h>0?Jt.formatPX(h):"",b=c>0?Jt.formatPX(c):"",y=_({android:{layout_columnWeight:t}});if(r){const a=s.renderNodeStatic(o.SPACE,n.renderDepth+1,{android:{minWidth:b,layout_columnWeight:t,[e.localizeString(i.MARGIN_LEFT)]:f}},"wrap_content","wrap_content");s.prependBefore(e.id,a),y.android.minWidth=Jt.formatPX("24")}else Object.assign(y.android,{minWidth:b,gravity:c>20?e.localizeString(m):"",[i.MARGIN_TOP]:e===n.children[0]&&e.marginTop>0?Jt.formatPX(e.marginTop):"",[e.localizeString(i.MARGIN_LEFT)]:f,[e.localizeString(i.PADDING_LEFT)]:""===m&&""===p?Jt.formatPX(g):20===c?"2px":"",[e.localizeString(i.PADDING_RIGHT)]:"right"===m&&c>20?Jt.formatPX(g):"",[i.PADDING_TOP]:e.paddingTop>0?Jt.formatPX(e.paddingTop):""}),3===d&&e.android("layout_columnSpan","2");if("DT"===e.tagName&&""===p)e.android("layout_columnSpan",""+d);else{""!==p?Object.assign(y.android,{src:`@drawable/${p}`,[i.MARGIN_TOP]:u>0?Jt.formatPX(u):"",scaleType:r||"right"!==m?"fitStart":"fitEnd"}):y.android.text=a.ordinal;const t=new W(this.application.nextId,Zt.createElement(e.actualParent?e.actualParent.element:null),this.application.controllerHandler.afterInsertNode);t.tagName=`${e.tagName}_ORDINAL`,t.inherit(e,"textStyle"),""!==a.ordinal&&!/[A-Za-z\d]+\./.test(a.ordinal)&&t.toInt("fontSize")>12&&t.css("fontSize","12px"),this.application.processing.cache.append(t,!1);const l=s.renderNodeStatic(""!==p?o.IMAGE:""!==a.ordinal?o.TEXT:o.SPACE,n.renderDepth+1,y,"wrap_content","wrap_content",t);s.prependBefore(e.id,l)}}d>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight","1"));const u=jt.linearX(e.children);if(u||jt.linearY(e.children)){const o=new Yt(n,e,t.LINEAR,u?8:16,e.length,e.children);r=this.application.renderNode(o)}}return{output:r,next:""!==r}}postBaseLayout(t){super.postBaseLayout(t);const e=t.android("columnCount");for(let n=0;n<t.renderChildren.length;n++){const a=t.renderChildren[n],r=t.renderChildren[n-1];let s=0;if(r){const t=Jt.convertInt(r.android(i.MARGIN_BOTTOM));t>0&&(s+=t,r.delete("android",i.MARGIN_BOTTOM),r.modifyBox(8,null))}const l=Jt.convertInt(a.android(i.MARGIN_TOP));if(l>0&&(s+=l,a.delete("android",i.MARGIN_TOP),a.modifyBox(2,null)),s>0){const t=_({android:{layout_columnSpan:""+e}}),n=this.application.controllerHandler.renderNodeStatic(o.SPACE,a.renderDepth,t,"match_parent",Jt.formatPX(s));this.application.controllerHandler.prependBefore(a.id,n,0)}}}postProcedure(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}class te extends squared.base.extensions.Relative{}var ee=squared.base.Layout;const ne=squared.base.lib.constant,oe=squared.base.lib.enumeration,ae=squared.lib.util;class ie extends squared.base.extensions.Sprite{processNode(e,n){const a=e.data(ne.EXT_NAME.SPRITE,"mainData");let i,r="";if(a&&a.uri&&a.position){(i=new W(this.application.nextId,e.element,this.application.controllerHandler.afterInsertNode)).inherit(e,"initial","base","styleMap"),i.setControlType(o.FRAME),i.exclude({procedure:oe.NODE_PROCEDURE.CUSTOMIZATION,resource:oe.NODE_RESOURCE.IMAGE_SOURCE}),n.appendTry(e,i),this.application.processing.cache.append(i,!1),e.setControlType(o.IMAGE,t.IMAGE),e.exclude({procedure:oe.NODE_PROCEDURE.AUTOFIT,resource:oe.NODE_RESOURCE.FONT_STYLE|oe.NODE_RESOURCE.BOX_STYLE}),e.css({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:ae.formatPX(a.width),height:ae.formatPX(a.height),marginTop:ae.formatPX(a.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:ae.formatPX(a.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),e.unsetCache(),e.android("src",`@drawable/${v.addImage({mdpi:a.uri})}`),e.parent=i;const s=new ee(n,i,t.FRAME,2048,1,i.children);r=this.application.renderLayout(s)}return{output:r,parent:i,complete:!0}}}class re extends squared.base.extensions.Substitute{processNode(e,n){return e.containerType=e.blockStatic?t.BLOCK:t.INLINE,super.processNode(e,n)}postProcedure(t){const e=_(t.element?this.options[t.element.id]:void 0);t.apply(v.formatOptions(e,this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")))}}var se=squared.base.Layout;const le=squared.base.lib.constant,de=(squared,squared.lib.util);class ce extends squared.base.extensions.Table{processNode(e,n){super.processNode(e,n);const o=e.data(le.EXT_NAME.TABLE,"mainData");let a="";if(o){if(o.columnCount>1){let t=!!e.data(le.EXT_NAME.TABLE,"expand");if(e.each(e=>{if("0px"===e.css("width"))e.android("layout_width","0px"),e.android("layout_columnWeight",""+(e.element.colSpan||1));else{const n=e.data(le.EXT_NAME.TABLE,"expand"),o=!!e.data(le.EXT_NAME.TABLE,"exceed"),a=!!e.data(le.EXT_NAME.TABLE,"downsized");if("boolean"==typeof n)if(n){const n=de.convertFloat(e.data(le.EXT_NAME.TABLE,"percent"))/100;n>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight",de.trimEnd(n.toFixed(3),"0")),t=!0)}else e.android("layout_columnWeight","0");a&&(o?(e.android("layout_width","0px"),e.android("layout_columnWeight","0.01")):(e.textElement&&!/[\s\n\-]/.test(e.textContent.trim())&&e.android("maxLines","1"),e.has("width")&&e.toInt("width")<e.bounds.width&&e.android("layout_width",de.formatPX(e.bounds.width))))}}),t&&!e.hasWidth){let t=0;e.ascend().some(e=>!!e.hasWidth&&(t=e.bounds.width,!0)),e.bounds.width>=t?e.android("layout_width","match_parent"):e.css("width",de.formatPX(e.bounds.width),!0)}}const i=new se(n,e,t.GRID,4,e.length,e.children);i.rowCount=o.rowCount,i.columnCount=o.columnCount,a=this.application.renderNode(i)}return{output:a,complete:""!==a}}processChild(t,e){const n=de.convertInt(t.data(le.EXT_NAME.TABLE,"rowSpan")),o=de.convertInt(t.data(le.EXT_NAME.TABLE,"colSpan")),a=de.convertInt(t.data(le.EXT_NAME.TABLE,"spaceSpan"));return n>1&&t.android("layout_rowSpan",""+n),o>1&&t.android("layout_columnSpan",""+o),t.mergeGravity("layout_gravity","fill"),a>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(e.renderDepth+1,"wrap_content","wrap_content",a)),{output:""}}postProcedure(t){const e=de.convertInt(t.android("layout_width"));if(e>0&&(t.bounds.width>e&&t.android("layout_width",de.formatPX(t.bounds.width)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)))for(const e of t.renderChildren)e.android("layout_width","0px"),e.android("layout_columnWeight","1")}}var he=squared.base.Layout;const ue=squared.base.lib.constant;squared;class pe extends squared.base.extensions.VerticalAlign{processNode(e,n){super.processNode(e,n);let o="";if(e.data(ue.EXT_NAME.VERTICAL_ALIGN,"mainData")){const a=new he(n,e,t.RELATIVE,8,e.length,e.children);a.floated=a.getFloated(!0),o=this.application.renderNode(a)}return{output:o}}}class me extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var ge=squared.base.Layout;const fe=squared.base.lib.enumeration,be=squared.lib.util;class ye extends squared.base.Extension{constructor(){super(...arguments),this.options={circlePosition:!1}}condition(t){return this.included(t.element)&&t.length>0}processNode(e,n){e.exclude({procedure:fe.NODE_PROCEDURE.CONSTRAINT});const o=new ge(n,e,t.CONSTRAINT,32,e.length,e.children);return{output:this.application.renderNode(o)}}afterConstraints(){const t=this.application.controllerHandler;for(const e of this.subscribers){const n=new Map;if(e.each(t=>{const o=[];be.withinFraction(t.linear.left,e.box.left)&&o.push("left"),be.withinFraction(t.linear.top,e.box.top)&&o.push("top"),n.set(t,o)}),this.options.circlePosition){const o=Array.from(n.values()).some(t=>2===t.length);let a;for(const[i,s]of n.entries())if(o){if(2===s.length){i.anchor("left","parent"),i.anchor("top","parent"),a=i;break}}else if(1===s.length){s.includes("left")?(i.anchor("left","parent"),t.addGuideline(i,e,r.VERTICAL),a=i):(i.anchor("top","parent"),t.addGuideline(i,e,r.HORIZONTAL),a=i);break}void 0===a&&(a=e.item(0),t.addGuideline(a,e)),e.each(t=>{if(a&&t!==a){const e=t.center,n=a.center,o=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y),r=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)));let s=Math.round(Math.atan(Math.min(o,i)/Math.max(o,i))*(180/Math.PI));e.y>n.y?e.x>n.x?o>i?s+=90:s=180-s:o>i?s=270-s:s+=180:e.y<n.y?n.x>e.x?o>i?s+=270:s=360-s:o>i&&(s=90-s):s=e.x>n.x?90:270,t.app("layout_constraintCircle",a.documentId),t.app("layout_constraintCircleRadius",be.formatPX(r)),t.app("layout_constraintCircleAngle",""+s)}})}else for(const[o,a]of n.entries())a.includes("left")&&o.anchor("left","parent"),a.includes("top")&&o.anchor("top","parent"),a.length<2&&t.addGuideline(o,e)}}}var Te=squared.base.Layout,Ee=squared.base.NodeList;const Ae=squared.base.lib.enumeration,we=squared.lib.dom,ve=squared.lib.util;function xe(t){return t.filter(e=>!e.pageFlow&&("fixed"===e.position||e.absoluteParent===t))}function Se(t,e){return t.some(t=>t<e)}function Re(t,e,n){if(ve.isPercent(e)){const o=t.actualParent;if(o){const t=parseInt(e)-n/o.box.width*100;if(t>0)return ve.formatPercent(t)}}else if(ve.isUnit(e)){const t=parseInt(e)-n;if(t>0)return ve.formatPX(t)}return e}class _e extends squared.base.Extension{condition(t){const e=xe(t);if(e.length>0){const n=e.filter(t=>t.has("top")&&t.top>=0).map(t=>t.top),o=e.filter(t=>t.has("right")&&t.right>=0).map(t=>t.right),a=e.filter(t=>t.has("bottom")&&t.bottom>=0).map(t=>t.bottom),i=e.filter(t=>t.has("left")&&t.left>=0).map(t=>t.left);return Se(n,t.paddingTop+(t.documentBody?t.marginTop:0))||Se(o,t.paddingRight+(t.documentBody?t.marginRight:0))||Se(a,t.paddingBottom+(t.documentBody?t.marginBottom:0))||Se(i,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&o.length>0&&t.hasWidth}return!1}processNode(e,n){const o=new W(this.application.nextId,we.createElement(e.element,e.block),this.application.controllerHandler.afterInsertNode);o.inherit(e,"initial","base"),o.exclude({procedure:Ae.NODE_PROCEDURE.NONPOSITIONAL,resource:Ae.NODE_RESOURCE.BOX_STYLE|Ae.NODE_RESOURCE.ASSET});const[a,i]=ve.partitionArray(xe(e),t=>t.absoluteParent===e);a.push(o);const r=[...ve.sortArray(a,!0,"zIndex","id"),...ve.sortArray(i,!0,"zIndex","id")];e.duplicate().forEach(t=>{r.includes(t)||(t.parent=o)}),o.parent=e,this.application.processing.cache.append(o),r.forEach((t,e)=>t.siblingIndex=e),e.sort(Ee.siblingIndex),e.resetBox(480|(e.documentBody?30:0),o,!0),e.companion=o;const s=new Te(n,e,t.CONSTRAINT,32,r.length,r);return{output:this.application.renderLayout(s)}}postBaseLayout(t){if(t.hasWidth&&t.companion){const e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);if(t.documentBody&&t.some(t=>t.has("right")))t.css({width:"auto",minWidth:"auto"},"",!0),t.companion.css({width:e,minWidth:n},"",!0),t.android("layout_width","match_parent");else{const o=t.paddingLeft+t.paddingRight+(t.documentBody?t.marginLeft+t.marginRight:0);t.companion.css({width:Re(t,e,o),minWidth:Re(t,n,o)},"",!0)}}}}var Ie=squared.base.Layout;squared;class Ne extends squared.base.Extension{condition(t){return!t.textElement&&!t.imageElement&&!t.svgElement&&(t.has("maxWidth")||t.has("maxHeight"))}processNode(e,n){const o=this.application.controllerHandler.createNodeWrapper(e,n);if(o.css("display","block",!0),e.has("maxWidth")){const t=e.css("maxWidth");o.css({width:t,maxWidth:t},"",!0)}if(e.has("maxHeight")){const t=e.css("maxHeight");o.css({height:t,maxHeight:t},"",!0)}const a=new Ie(n,o,t.FRAME,2048,1,o.children);return{output:"",parent:o,renderAs:o,outputAs:this.application.renderLayout(a)}}}var Ce=squared.base.Layout;squared;const Oe=squared.lib.util;class Pe extends squared.base.Extension{condition(t,e){return e.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}processNode(e,n){const o=this.application.controllerHandler.createNodeWrapper(e,n);o.android("layout_width","match_parent"),o.android("layout_height","wrap_content"),e.has("height",2)||e.css("height",Oe.formatPX(e.bounds.height),!0);const a=new Ce(n,o,t.CONSTRAINT,2048,1,o.children);return{output:"",parent:o,renderAs:o,outputAs:this.application.renderLayout(a)}}}var Le=squared.base.NodeList;squared;const De=squared.lib.util,Be=squared.lib.xml,ke="RadioGroup";class Me extends squared.base.Extension{condition(t){const e=t.element;return"INPUT"===e.tagName&&"radio"===e.type&&De.hasValue(e.name)}processNode(e,n){const a=De.hasValue(e.dataset.target)&&!De.hasValue(e.dataset.use),i=e.element,s=[];let l;const d=n.flatMap(t=>{t.renderAs&&(t.renderAs===e?l=t:s.push(t),t=t.renderAs);const n=t.element;return"radio"!==n.type||n.name!==i.name||t.rendered?null:t});if(d.length>1){const i=this.application.controllerHandler.createNodeGroup(e,d,n,l);i.alignmentType|=8|(n.length!==d.length?128:0),n.layoutConstraint&&(i.companion=l||e),i.setControlType(ke,t.INLINE),i.inherit(e,"alignment"),i.css("verticalAlign","text-bottom"),i.each((n,a)=>{n!==e&&n.setControlType(o.RADIO,t.RADIO),n.positioned=!0,n.parent=i,n.siblingIndex=a}),s.forEach(t=>t.hide()),i.android("orientation",Le.linearX(d)?r.HORIZONTAL:r.VERTICAL),i.render(a?i:n),this.subscribers.add(i);const c=this.application.controllerHandler.getEnclosingTag(ke,i.id,a?-1:i.renderDepth,Be.formatPlaceholder(i.id));return{output:"",complete:!0,parent:i,renderAs:i,outputAs:c}}return{output:""}}postBaseLayout(t){t.some(e=>!!e.element.checked&&(t.android("checkedButton",e.documentId),!0))}}const Xe=squared.base.lib.enumeration,Ge=squared.lib.dom,Ve=squared.lib.util,Fe=squared.lib.xml,ze="HorizontalScrollView",He="android.support.v4.widget.NestedScrollView";class We extends squared.base.Extension{condition(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}processNode(e,n){const o=Ve.hasValue(e.dataset.target)&&!Ve.hasValue(e.dataset.use),a=[];if(e.overflowX&&e.overflowY)a.push(ze,He);else if(e.overflowX)a.push(ze);else if(e.overflowY)a.push(He);else{let t=0;e.hasWidth&&(t|=8,a.push(ze)),e.hasHeight&&(t|=16,a.push(He)),e.overflow=t}const i=a.map((o,a)=>{const i=new W(this.application.nextId,0===a?e.element:Ge.createElement(e.actualParent?e.actualParent.element:null,e.block),this.application.controllerHandler.afterInsertNode);return i.setControlType(o,t.BLOCK),0===a?(i.inherit(e,"initial","base","styleMap"),n.appendTry(e,i)):(i.inherit(e,"base"),i.exclude({resource:Xe.NODE_RESOURCE.BOX_STYLE})),i.exclude({resource:Xe.NODE_RESOURCE.ASSET}),i.resetBox(480),i});let r="";for(let t=0;t<i.length;t++){const a=i[t],s=i[t-1];switch(a.controlName){case He:{const t=e.css("height");e.android("layout_width","wrap_content"),a.android("layout_height",e.convertPX(t,!1)),a.css({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break}case ze:{const t=e.css("width");a.android("layout_width",e.convertPX(t)),e.android("layout_height","wrap_content"),a.css({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"});break}}a.unsetCache(),this.application.processing.cache.append(a),a.render(0===t?o?a:n:s);const l=this.application.controllerHandler.getEnclosingTag(a.controlName,a.id,o?0===t?-1:0:a.renderDepth,Fe.formatPlaceholder(a.id));r=0===t?l:Fe.replacePlaceholder(r,s.id,l)}2===i.length?(e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")):e.overflowX?(e.android("layout_width","wrap_content"),e.android("layout_height","match_parent")):(e.android("layout_width","match_parent"),e.android("layout_height","wrap_content"));const s=i[i.length-1];return e.parent=s,n.layoutConstraint&&(s.companion=e),e.overflow=0,e.resetBox(30),e.exclude({resource:Xe.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:e.parent,renderAs:i[0],outputAs:r}}}var $e='\n<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n<<A>>\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n<<A>>\n<<B>>\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n<<B>>\n<<C>>\n\t<item android:drawable="@drawable/{&src}" />\n<<C>>\n<<D>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{~src}" android:width="{~width}" android:height="{~height}">\n\t<<rotate>>\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t<<rotate>>\n\t<<bitmap>>\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t<<bitmap>>\n\t</item>\n<<D>>\n<<E>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n<<E>>\n<<F>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n\t\t<<stroke>>\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n\t\t<<stroke>>\n\t\t<<corners>>\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n\t\t<<corners>>\n\t\t</shape>\n\t</item>\n<<F>>\n</layer-list>',qe='\n<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:name="{&name}" android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n<<A>>\n\t##group-start##\n\t<group android:name="{~groupName}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n\t##group-start##\n\t\t<<BB>>\n\t\t\t<<CCC>>\n\t\t\t##render-start##\n\t\t\t<group android:name="{~groupName}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n\t\t\t##render-start##\n\t\t\t\t<<clipPaths>>\n\t\t\t\t<clip-path android:name="{~clipPathName}" android:pathData="{~clipPathData}" />\n\t\t\t\t<<clipPaths>>\n\t\t\t\t<path android:name="{&name}" android:pathData="{&value}"\n\t\t\t\t\tandroid:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:fillType="{~fillRule}"\n\t\t\t\t\tandroid:strokeColor="{~stroke}" android:strokeAlpha="{~strokeOpacity}" android:strokeWidth="{~strokeWidth}"\n\t\t\t\t\tandroid:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}">\n\t\t\t\t<<fillPattern>>\n\t\t\t\t\t<aapt:attr name="android:fillColor">\n\t\t\t\t\t<<gradients>>\n\t\t\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}">\n\t\t\t\t\t\t<<colorStops>>\n\t\t\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n\t\t\t\t\t\t<<colorStops>>\n\t\t\t\t\t\t</gradient>\n\t\t\t\t\t<<gradients>>\n\t\t\t\t\t</aapt:attr>\n\t\t\t\t<<fillPattern>>\n\t\t\t\t</path>\n\t\t\t##render-end##\n\t\t\t</group>\n\t\t\t##render-end##\n\t\t\t<<CCC>>\n\t\t\t<<DDD>>\n\t\t\t!!{&templateName}!!\n\t\t\t<<DDD>>\n\t\t<<BB>>\n\t##group-end##\n\t</group>\n\t##group-end##\n<<A>>\n<<B>>\n!!{&templateName}!!\n<<B>>\n</vector>';const Ue=squared.base.lib.enumeration,Ye=squared.lib.color,je=squared.lib.dom,Ke=squared.lib.util,Ze=squared.lib.xml,Je={LAYER_LIST:Ze.parseTemplate($e),SHAPE:Ze.parseTemplate('\n<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n<<A>>\n\t<stroke android:width="{&width}" {~borderStyle} />\n<<A>>\n<<B>>\n\t<solid android:color="@color/{&color}" />\n<<B>>\n<<C>>\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n<<C>>\n<<D>>\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n<<D>>\n</shape>'),VECTOR:Ze.parseTemplate(qe)},Qe=v.STORED;function tn(t,e=-1,n=!1){const o={solid:`android:color="@color/${t.color}"`,groove:"",ridge:""},a=t.style,i=parseInt(t.width),r=`${o.solid} android:dashWidth="${i}px" android:dashGap="${i}px"`;Object.assign(o,{double:o.solid,inset:o.solid,outset:o.solid,dashed:r,dotted:r});const s="groove"===a;if(i>1&&(s||"ridge"===a)){const i=Ye.parseRGBA(t.color);if(i){const t=Ye.reduceRGBA(i.valueRGBA,s||"#000000"===i.valueRGB?.5:-.5);if(t){const r=v.addColor(t);if(""!==r){const t=`android:color="@color/${r}"`;if(0!==e&&2!==e||(n=!n),"#000000"!==i.valueRGB||(!s||1!==e&&3!==e)&&(s||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:o[a]=t;break;case 1:case 2:o[a]=o.solid;break;case 3:o[a]=t}else switch(e){case 0:o[a]=o.solid;break;case 1:case 2:o[a]=t;break;case 3:o[a]=o.solid}}}}}return o[a]||o.solid}function en(t,e,n=-1,o=!1,a=!1){switch(e){case"stroke":if(t.border&&v.isBorderVisible(t.border)){if(!o||a)return[{width:t.border.width,borderStyle:tn(t.border,a?n:-1)}];if(o)return[{width:Ke.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:tn(t.border,n,!0)}]}return!1;case"backgroundColor":return!!Ke.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){const e={};return t.borderRadius.forEach((t,n)=>e[`${["topLeft","topRight","bottomRight","bottomLeft"][n]}Radius`]=t),[e]}return!1}return!1}function nn(t,e,n,o,a,i,r){const s=parseInt(e.width),l=Math.floor(s/3),d=2===s%3?1:0,c=l+d,h=l+d;let u=`${Ke.formatPX(s-l)}`,p=`-${u}`;t.F.push({top:n?"":p,right:o?"":p,bottom:a?"":p,left:i?"":p,stroke:[{width:Ke.formatPX(c),borderStyle:tn(e)}],corners:r}),3===s&&(p=`-${u=`${Ke.formatPX(s)}`}`),t.F.push({top:n?u:p,right:o?u:p,bottom:a?u:p,left:i?u:p,stroke:[{width:Ke.formatPX(h),borderStyle:tn(e)}],corners:r})}function on(t,e,n){const o="initial"===t||"unset"===t;return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?`${o?n:t} 0px`:`${n} ${t}`:o?"0px":t}class an extends squared.base.Extension{constructor(){super(...arguments),this.options={autoSizeBackgroundImage:!0},this.eventOnly=!0}afterResources(){this.application.processing.cache.duplicate().sort(t=>t.visible?0:-1).forEach(e=>{const n=e.data(v.KEY_NAME,"boxStyle");if(n&&!e.hasBit("excludeResource",Ue.NODE_RESOURCE.BOX_STYLE)){n.backgroundColor=v.addColor(n.backgroundColor);const a=[],i=[],r=n.backgroundRepeat.split(",").map(t=>t.trim()),s=[],l=[],d=n.backgroundSize.split(",").map(t=>t.trim()),c=[],h=n.backgroundPositionX.split(",").map(t=>t.trim()),u=n.backgroundPositionY.split(",").map(t=>t.trim());if(Ke.isArray(n.backgroundImage)&&!e.hasBit("excludeResource",Ue.NODE_RESOURCE.IMAGE_SOURCE)){a.push(...n.backgroundImage);for(let t=0;t<a.length;t++)if(a[t]&&"none"!==a[t]){s.push(v.ASSETS.images.get(je.cssResolveUrl(a[t]))),a[t]=v.addImageUrl(a[t]);const e=h[t]||h[t-1],n=u[t]||u[t-1];c[t]=`${on(e,n,"left")} ${on(n,e,"top")}`}else a[t]="",r[t]="",c[t]=""}else if(n.backgroundGradient){const t=v.createBackgroundGradient(e,n.backgroundGradient);t.length&&l.push(t[0])}const p=e.companion;if(p&&!p.visible&&p.htmlElement&&!je.cssFromParent(p.element,"backgroundColor")){const t=p.data(v.KEY_NAME,"boxStyle"),e=v.addColor(t.backgroundColor);""!==e&&(n.backgroundColor=e)}const m=v.isBorderVisible(n.borderTop)||v.isBorderVisible(n.borderRight)||v.isBorderVisible(n.borderBottom)||v.isBorderVisible(n.borderLeft)||n.borderRadius,g=a.filter(t=>t).length;if(m||g||l.length){const h=[n.borderTop,n.borderRight,n.borderBottom,n.borderLeft],u=[],p=[];h.forEach((t,e)=>{p[e]=v.isBorderVisible(t),p[e]&&(t.color=v.addColor(t.color),u.push(t))});const f=[],b=[];let y,T="";for(let n=0;n<a.length;n++)if(""!==a[n]){const o=s[n],i=je.getBackgroundPosition(c[n],e.bounds,e.dpi,e.fontSize);let l=(()=>"center"===i.horizontal&&"center"===i.vertical?"center":`${"center"===i.horizontal?"center_horizontal":i.horizontal}|${"center"===i.vertical?"center_vertical":i.vertical}`)(),h="",u="",p="",y="",T="";const E=!o||o.width<e.bounds.width||o.height<e.bounds.height;switch(r[n]){case"repeat-x":E&&(y="repeat");break;case"repeat-y":E&&(T="repeat");break;case"no-repeat":p="disabled";break;case"repeat":E&&(p="repeat")}if(""!==l&&o&&o.width>0&&o.height>0&&0===e.renderChildren.length){if("repeat"===T){let t=0;if(o.width<(t=e.hasWidth?e.width+e.paddingLeft+e.paddingRight:e.bounds.width-(e.borderLeftWidth+e.borderRightWidth))){const n=Ke.convertInt(e.android("layout_width"));-1!==l.indexOf("left")?(i.right=t-o.width,e.hasWidth&&t>n&&e.android("layout_width",Ke.formatPX(e.bounds.width))):-1!==l.indexOf("right")?(i.left=t-o.width,e.hasWidth&&t>n&&e.android("layout_width",Ke.formatPX(e.bounds.width))):"center"!==l&&-1===l.indexOf("center_horizontal")||(i.left=Math.floor((t-o.width)/2),h=Ke.formatPX(o.width),e.hasWidth&&t>n&&e.android("layout_width",Ke.formatPX(e.bounds.width)))}}if("repeat"===y){let t=0;if(o.height<(t=e.hasHeight?e.height+e.paddingTop+e.paddingBottom:e.bounds.height-(e.borderTopWidth+e.borderBottomWidth))){const n=Ke.convertInt(e.android("layout_height"));-1!==l.indexOf("top")?(i.bottom=t-o.height,!e.hasHeight&&t>n&&e.android("layout_height",Ke.formatPX(e.bounds.height))):-1!==l.indexOf("bottom")?(i.top=t-o.height,!e.hasHeight&&t>n&&e.android("layout_height",Ke.formatPX(e.bounds.height))):"center"!==l&&-1===l.indexOf("center_vertical")||(i.top=Math.floor((t-o.height)/2),u=Ke.formatPX(o.height),!e.hasHeight&&t>n&&e.android("layout_height",Ke.formatPX(e.bounds.height)))}}}if(g)if(e.of(t.IMAGE,2048)&&1===c.length){e.android("src",`@drawable/${a[0]}`),i.left>0&&e.modifyBox(16,i.left),i.top>0&&e.modifyBox(2,i.top);let t="";switch(l){case"left|top":case"left|center_vertical":case"left|bottom":t="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":t="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":t="center"}if(e.android("scaleType",t),!m)return;a.length=0}else{const t={top:0!==i.top?Ke.formatPX(i.top):"",right:0!==i.right?Ke.formatPX(i.right):"",bottom:0!==i.bottom?Ke.formatPX(i.bottom):"",left:0!==i.left?Ke.formatPX(i.left):"",width:h,height:u,bitmap:[]};if("auto"!==d[n]&&"auto auto"!==d[n]&&"initial"!==d[n])switch(d[n]){case"cover":case"contain":case"100% 100%":h="",u="",p="",y="",T="",l="";break;default:const o=d[n].split(" ");"100%"===o[0]?y="":"100%"===o[1]&&(T=""),o.forEach((o,a)=>{"auto"!==o&&"100%"!==o&&(t[0===a?"width":"height"]=e.convertPX(d[n],0===a,!1))})}""!==l||""!==p||""!==y||""!==T?(t.bitmap.push({src:a[n],gravity:l,tileMode:p,tileModeX:y,tileModeY:T}),b.push(t)):(t.src=a[n],f.push(t))}}b.sort((t,e)=>{const n=t.bitmap[0],o=e.bitmap[0];return"repeat"!==n.tileModeX&&"repeat"!==n.tileModeY&&"repeat"!==n.tileMode?1:"repeat"!==o.tileModeX&&"repeat"!==o.tileModeY&&"repeat"!==o.tileMode?-1:"repeat"===n.tileMode?-1:"repeat"===o.tileMode?1:"repeat"===o.tileModeX||"repeat"===o.tileModeY?1:-1});const E=en(n,"backgroundColor")||[],A=en(n,"radius"),w=!!squared.svg&&!!squared.svg.SvgPath&&l.length>0&&l.some(t=>t.colorStops.length>0);if(w){const t=e.bounds.width,n=e.bounds.height,o={namespace:B("aapt"),width:Ke.formatPX(t),height:Ke.formatPX(n),viewportWidth:""+t,viewportHeight:""+n,alpha:"",A:[{group:[[]],BB:[{CCC:[{render:[[]],name:`${e.controlId}_gradient_path`,value:squared.svg.SvgPath.getRect(t,n),clipPaths:!1,fillPattern:[{gradients:l}]}],DDD:!1}]}],B:!1},a=Ze.createTemplate(Je.VECTOR,o,!0);let r=v.getStoredName("drawables",a);""===r&&(r=`${e.tagName.toLowerCase()}_${e.controlId}_gradient`,Qe.drawables.set(r,a)),i.push({src:r})}let x;const S=n.border;if(S&&!("double"===S.style&&parseInt(S.width)>2||("groove"===S.style||"ridge"===S.style)&&parseInt(S.width)>1)){const t=en(n,"stroke")||[];!g&&l.length<=1&&!w?(A&&void 0===A[0].radius&&(A[0].radius="1px"),x=Je.SHAPE,y={A:t,B:E,C:A,D:!!l.length&&l}):(x=Je.LAYER_LIST,y={A:E,B:!(w||!l.length)&&l,C:i,D:!!b.length&&b,E:!!f.length&&f,F:!(!v.isBorderVisible(S)&&!A)&&[{stroke:t,corners:A}]})}else{x=Je.LAYER_LIST,y={A:E,B:!(w||!l.length)&&l,C:i,D:!!b.length&&b,E:!!f.length&&f,F:[]};const t=new Set(u.map(t=>t.width)),e=new Set(u.map(t=>tn(t))),n=u[0],a=p[1]&&p[2];function o(t){return t+(a?0:1===t?1:2)}if(1===t.size&&1===e.size&&"groove"!==n.style&&"ridge"!==n.style){const t=parseInt(n.width);if("double"===n.style&&t>2)nn(y,n,p[0],p[1],p[2],p[3],A);else if(y.F){const e=`-${Ke.formatPX(o(t))}`,a=!p[0]&&!p[3],i=!p[0]&&p[1]&&p[2]&&p[3],r=p[0]&&p[1]&&p[2]&&!p[3];y.F.push({top:p[0]?"":e,right:p[1]?p[3]||a||r?"":n.width:e,bottom:p[2]?p[0]||a||i?"":n.width:e,left:p[3]?"":e,stroke:en({border:n},"stroke"),corners:A})}}else for(let t=0;t<h.length;t++)if(p[t]){const e=h[t],n=parseInt(e.width);if("double"===e.style&&n>2)nn(y,e,0===t,1===t,2===t,3===t,A);else if(y.F){const i=n>1&&("groove"===e.style||"ridge"===e.style),r=o(i?Math.ceil(n/2):n),s=!a&&"1px"===e.width;let l=`-${Ke.formatPX(r)}`,d=`-${Ke.formatPX(r+(a?1:0))}`;y.F.push({top:0===t?"":d,right:1===t?s?e.width:"":l,bottom:2===t?s?e.width:"":l,left:3===t?"":l,stroke:en({border:e},"stroke",t,i),corners:A}),i&&(l=`-${Ke.formatPX(o(n))}`,d=`-${Ke.formatPX(n+(a?1:0))}`,y.F.unshift({top:0===t?"":d,right:1===t?s?e.width:"":l,bottom:2===t?s?e.width:"":l,left:3===t?"":l,stroke:en({border:e},"stroke",t,!0,!0),corners:!1}))}}}if(x){const t=Ze.createTemplate(x,y);""===(T=v.getStoredName("drawables",t))&&(T=`${e.tagName.toLowerCase()}_${e.controlId}`,Qe.drawables.set(T,t))}if(e.android("background",`@drawable/${T}`,!1),g&&(e.data("RESOURCE","backgroundImage",!0),this.options.autoSizeBackgroundImage&&!e.documentRoot&&!e.imageElement&&!e.svgElement&&e.renderParent&&!e.renderParent.tableElement&&!e.hasBit("excludeProcedure",Ue.NODE_PROCEDURE.AUTOFIT))){const n={width:0,height:0};if(s.forEach(t=>{t&&(n.width=Math.max(n.width,t.width),n.height=Math.max(n.height,t.height))}),0===n.width){let t=e;for(;t&&!t.documentBody&&(t.hasWidth&&(n.width=t.bounds.width),t.hasHeight&&(n.height=t.bounds.height),t.pageFlow&&!(n.width>0&&n.height>0));)t=t.documentParent}if(!e.has("width",2)){const o=e.bounds.width+(e.is(t.LINE)?0:e.borderLeftWidth+e.borderRightWidth);(0===n.width||o>0&&o<n.width)&&e.css("width",Ke.formatPX(o),!0)}if(!e.has("height",2)){const o=e.bounds.height+(e.is(t.LINE)?0:e.borderTopWidth+e.borderBottomWidth);(0===n.height||o>0&&o<n.height)&&(e.css("height",Ke.formatPX(o),!0),e.marginTop<0&&e.modifyBox(2,null),e.marginBottom<0&&e.modifyBox(8,null))}}}else!e.data(v.KEY_NAME,"fontStyle")&&Ke.hasValue(n.backgroundColor)&&e.android("background",`@color/${n.backgroundColor}`,!1)}})}}const rn=squared.lib.util,sn=v.STORED;function ln(t,e,n){for(const[o,a]of t.entries())if(o.startsWith(e)&&n===a)return o;return t.has(e)&&t.get(e)!==n?v.generateId("dimen",e,1):e}function dn(t){return rn.convertUnderscore(t).replace("layout_","")}function cn(t){return rn.lastIndexOf(t,".")}class hn extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const e of this.application.session.cache.visible){const n=e.tagName.toLowerCase();void 0===t[n]&&(t[n]={}),["android","app"].forEach(o=>{const a=e.namespace(o);for(const i in a){const r=a[i].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(r)){const a=`${o},${i},${r}`;void 0===t[n][a]&&(t[n][a]=[]),t[n][a].push(e)}}})}for(const e in t){const n=t[e];for(const t in n){const[o,a,i]=t.split(","),r=ln(sn.dimens,`${cn(e)}_${dn(a)}`,i);n[t].forEach(t=>t[o](a,`@dimen/${r}`)),sn.dimens.set(r,i)}}}afterFinalize(){for(const t of this.application.viewData){const e=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/;let n,o=t.content;for(;null!==(n=e.exec(o));){const t=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(n[0]);if(t){const e=ln(sn.dimens,`${cn(t[1]).toLowerCase()}_${dn(n[2])}`,n[3]);sn.dimens.set(e,n[3]),o=o.replace(n[0],n[0].replace(n[3],`@dimen/${e}`))}}t.content=o}}}const un=squared.base.lib.enumeration,pn=squared.lib.dom,mn=squared.lib.util,gn={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},fn={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},bn={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"},yn={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},Tn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};pn.isUserAgent(8)&&(bn.consolas="monospace");const En=v.STORED;function An(t,e,n){e.split(";").forEach(e=>{for(let o=0;o<t.length;o++)if(t[o]){let a=-1,i="";for(const n in t[o])if(n===e){a=o,i=n,o=t.length;break}if(-1!==a){t[a][i]=t[a][i].filter(t=>!n.includes(t)),0===t[a][i].length&&delete t[a][i];break}}})}class wn extends squared.base.Extension{constructor(){super(...arguments),this.options={fontResourceValue:!0},this.eventOnly=!0}afterParseDocument(){const t=this.application.userSettings,e={},n={};for(const t of this.application.session.cache)t.visible&&t.data(v.KEY_NAME,"fontStyle")&&!t.hasBit("excludeResource",un.NODE_RESOURCE.FONT_STYLE)&&(void 0===e[t.tagName]&&(e[t.tagName]=[]),e[t.tagName].push(t));for(const t in e){const o=[];for(let n of e[t]){const t=n.id,e=n.companion;e&&!e.visible&&"LABEL"===e.tagName&&(n=e);const a=Object.assign({},n.data(v.KEY_NAME,"fontStyle"));let i=!1;if(a.backgroundColor=v.addColor(a.backgroundColor),a.fontFamily){let t=a.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),e="",o="";if(a.color=v.addColor(a.color),this.options.fontResourceValue&&bn[t]&&(t=bn[t]),gn[t]&&n.localSettings.targetAPI>=gn[t]||this.options.fontResourceValue&&fn[t]&&n.localSettings.targetAPI>=gn[fn[t]]?(i=!0,a.fontFamily=t,"normal"===a.fontStyle&&delete a.fontStyle,"400"===a.fontWeight&&delete a.fontWeight):(t=mn.convertWord(t),a.fontFamily=`@font/${t+("normal"!==a.fontStyle?`_${a.fontStyle}`:"")+("400"!==a.fontWeight?`_${yn[a.fontWeight]||a.fontWeight}`:"")}`,e=a.fontStyle,o=a.fontWeight,delete a.fontStyle,delete a.fontWeight),!i){const n=v.STORED.fonts.get(t)||{};n[`${e}-${yn[o]||o}`]=!0,v.STORED.fonts.set(t,n)}}const r=Object.keys(Tn);for(let e=0;e<r.length;e++){void 0===o[e]&&(o[e]={});const i=a[r[e]];if(mn.hasValue(i)&&n.supported("android",r[e])){const n=mn.formatString(Tn[r[e]],i);void 0===o[e][n]&&(o[e][n]=[]),o[e][n].push(t)}}}n[t]=o}const o={},a={};for(const t in n){o[t]={},a[t]={};const i=e[t].length;let r=n[t].filter(t=>Object.keys(t).length).sort((t,e)=>{let n=0,o=0,a=0,i=0;for(const e in t)n=Math.max(t[e].length,n),a+=t[e].length;for(const t in e)e[t]&&(o=Math.max(e[t].length,o),i+=e[t].length);return n!==o?n>o?-1:1:a!==i?a>i?-1:1:0});do{if(1===r.length){for(const e in r[0]){const n=r[0][e];1===n.length?a[t][e]=n:n.length>1&&(o[t][e]=n)}r.length=0}else{const e={},n={};for(let a=0;a<r.length;a++){if(!r[a])continue;const s={},l={},d=new Set;for(const t in r[a]){const o=r[a][t];let l=!1;if(o&&0!==o.length&&(o.length===i?(e[t]=o.slice(0),r[a]={},l=!0):1===o.length&&(n[t]=o.slice(0),r[a][t]=[],l=!0),!l)){const e={};let n=!1;for(let t=0;t<r.length;t++)if(a!==t&&r[t])for(const n in r[t]){const a=r[t][n];if(a.length)for(const t of o)a.includes(t)&&(void 0===e[n]&&(e[n]=[]),e[n].push(t))}for(const o in e)e[o].length>1&&(s[[t,o].sort().join(";")]=e[o],n=!0);n||(s[t]=o)}}for(const t in s)for(const e in s)if(t!==e&&s[t].join("")===s[e].join("")){const n=s[t].join(",");l[n]=l[n]?new Set([...l[n],...e.split(";")]):new Set([...t.split(";"),...e.split(";")]),d.add(t).add(e)}d.forEach(t=>delete s[t]);for(const e in s)An(r,e,s[e]),o[t][e]=s[e];for(const e in l){const n=Array.from(l[e]).sort().join(";"),a=e.split(",").map(t=>parseInt(t));An(r,n,a),o[t][n]=a}}const s=Object.keys(e);s.length&&(s.length>1||e[s[0]].length>1?o[t][s.join(";")]=e[s[0]]:Object.assign(n,e));for(const e in n)a[t][e]=n[e];for(let t=0;t<r.length;t++)r[t]&&0===Object.keys(r[t]).length&&delete r[t];r=r.filter(t=>{if(t)for(const e in t)if(t[e]&&t[e].length)return!0;return!1})}}while(r.length)}const i={},r={},s=new Set;for(const t in o){const e=o[t],n=[];for(const t in e){const o=[];t.split(";").forEach(t=>{const e=mn.REGEXP_PATTERN.ATTRIBUTE.exec(t);e&&o.push({name:e[1],value:e[2]})}),n.push({name:"",parent:"",items:o,ids:e[t]})}n.sort((t,e)=>{let n=0,o=0;return t.ids&&e.ids&&(n=t.ids.length,o=e.ids.length),n===o&&(n=t.items.length,o=e.items.length),n===o&&(n=t.items[0].name,o=e.items[0].name),n===o&&(n=t.items[0].value,o=e.items[0].value),n<=o?1:-1}),n.forEach((e,n)=>e.name=mn.capitalize(t)+(n>0?`_${n}`:"")),i[t]=n}for(const t in i){for(const e of i[t])if(e.ids)for(const t of e.ids)void 0===r[t]&&(r[t]={styles:[],attrs:[]}),r[t].styles.push(e.name);const e=a[t];if(e)for(const t in e)for(const n of e[t])void 0===r[n]&&(r[n]={styles:[],attrs:[]}),r[n].attrs.push(t)}for(const e in r){const n=this.application.session.cache.find("id",parseInt(e));if(n){const o=r[e].styles;o.length&&(s.add(o.join(".")),n.attr("_","style",`@style/${o.pop()}`)),r[e].attrs.sort().forEach(e=>n.formatted(O(e,t.resolutionDPI,t.convertPixels,!0),!1))}}for(const t of s){let e="";t.split(".").forEach(t=>{const n=t.match(/^(\w*?)(?:_(\d+))?$/);if(n){const o=i[n[1].toUpperCase()],a=n[2]?parseInt(n[2]):0;o[a]&&(En.styles.set(t,Object.assign({},o[a],{name:t,parent:e})),e=t)}})}}}const vn=squared.lib.util,xn=squared.lib.xml;class Sn extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterDepthLevel(){const t=this.application.processing;for(const e of t.cache){const n=[],o=[];if(e.each((t,e)=>{const a=vn.hasValue(t.dataset.androidInclude),i="true"===t.dataset.androidIncludeEnd;if(a||i){const r="true"===t.dataset.androidIncludeMerge,s={item:t,name:(t.dataset.androidInclude||"").trim(),index:e,merge:r};a&&n.push(s),i&&o.push(s)}},!0),n.length&&o.length){n.length=Math.min(n.length,o.length);for(let t=n.length;t<o.length;t++)o.shift();for(let a=n.length-1;a>=0;a--){const i=n[a];for(let n=0;n<o.length;n++){const a=o[n];if(a.index>=i.index){const r=new Map;let s=!0;for(let n=i.index;n<=a.index;n++){const o=e.renderChildren[n],a=t.depthMap.get(e.id);if(a&&a.has(o.renderPositionId)){const t=r.get(e.id)||[];t.push(o),r.set(e.id,t)}else s=!1}if(s){const e=new Map,n=[];let o=0;for(const[a,s]of t.depthMap.entries()){const t=r.get(a);if(t){const a=[];for(const[r,l]of s.entries()){const d=t.find(t=>t.renderPositionId===r);if(d){if(0===o){const t=this.application.controllerHandler.renderNodeStatic("include",d.renderDepth,{layout:`@layout/${i.name}`});s.set(r,t),o++}else a.push(r);e.set(r,l),n.push(d)}}a.forEach(t=>s.delete(t))}}if(e.size){const t=this.application.controllerHandler,o=i.merge||e.size>1,a=o?1:0;for(const o of n)if(o.renderDepth!==a){const n=o.renderPositionId,i=e.get(n);i&&e.set(n,t.replaceIndent(i,a,t.cache.children))}let r=Array.from(e.values()).join("");if(o)r=t.getEnclosingTag("merge",0,0,r);else if(!i.item.documentRoot){const t=xn.formatPlaceholder(i.item.id,"@");r=r.replace(t,`{#0}${t}`)}this.application.addIncludeFile(i.name,r)}}o.splice(n,1);break}}}}}}}const Rn=squared.base.lib.enumeration,_n=squared.lib.dom,In=squared.lib.util,Nn=squared.lib.xml;class Cn extends squared.base.Extension{constructor(){super(...arguments),this.options={numberResourceValue:!1},this.eventOnly=!0}afterResources(){for(const t of this.application.processing.cache)if(!t.hasBit("excludeResource",Rn.NODE_RESOURCE.VALUE_STRING)){const e=t.element;if(e&&"SELECT"===e.tagName){const[n,o]=v.getOptionArray(e),a=[];if(!this.options.numberResourceValue&&o&&o.length?a.push(...o):a.push(...In.flatMap(n||o||[],t=>""!==(t=v.addString(Nn.replaceCharacter(t),"",this.options.numberResourceValue))?`@string/${t}`:"")),a.length){const e=a.join("-");let n="";for(const[t,o]of v.STORED.arrays.entries())if(e===o.join("-")){n=t;break}""===n&&v.STORED.arrays.set(n=`${t.controlId}_array`,a),t.android("entries",`@array/${n}`,!1)}}else{const e=t.data(v.KEY_NAME,"valueString");if(e){const n=t.renderParent;if(n&&n.layoutRelative&&t.alignParent("left")&&!_n.cssParent(t.element,"whiteSpace","pre","pre-wrap")){const n=t.textContent;let o=0;for(let t=0;t<n.length;t++)switch(n.charCodeAt(t)){case 160:o++;case 32:continue}0===o&&(e.value=e.value.replace(/^(\s|&#160;)+/,""))}e.value=Nn.replaceCharacter(e.value),t.htmlElement&&"small-caps"===t.css("fontVariant")&&(e.value=e.value.toUpperCase());const o=t.actualParent;if(o){let n=0;(o.blockDimension||t.blockDimension)&&(n=t.toInt("textIndent")||o.toInt("textIndent")),0===n||!t.blockDimension&&o.firstChild!==t||(n>0?e.value="&#160;".repeat(Math.floor(n/7))+e.value:t.toInt("textIndent")+t.bounds.width<0&&(e.value=""))}const a=v.addString(e.value,e.name,this.options.numberResourceValue);""!==a&&t.android("text",isNaN(parseInt(a))||""+parseInt(a)!==a?`@string/${a}`:a,!1)}}}}}const On=squared.lib.util,Pn=v.STORED;class Ln extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const e of this.application.session.cache.visible){const n=e.renderChildren;if(e.controlId&&n.length>1){const o=new Map;let a="",i=!0;for(let t=0;t<n.length;t++){let e=!1;if(n[t].combine("_","android").some(n=>{if(n.startsWith("style=")){if(0===t)a=n;else if(""===a||n!==a)return i=!1,!0;e=!0}else o.set(n,(o.get(n)||0)+1);return!1}),!i||""!==a&&!e){i=!1;break}}if(i){for(const[t,e]of o.entries())e!==n.length&&o.delete(t);if(o.size>1){""!==a&&(a=On.trimString(a.substring(a.indexOf("/")+1),'"'));const i=[];for(const t of o.keys()){const e=t.match(/(\w+):(\w+)="(.*?)"/);e&&(n.forEach(t=>t.delete(e[1],e[2])),i.push(e[0]))}i.sort();let r="";for(const e in t)if(t[e].join(";")===i.join(";")){r=e;break}""!==r&&""!==a&&r.startsWith(`${a}.`)||(t[r=On.convertCamelCase((""!==a?`${a}.`:"")+On.capitalize(e.controlId),"_")]=i),n.forEach(t=>t.attr("_","style",`@style/${r}`))}}}}for(const e in t){const n=[];for(const o in t[e]){const a=On.REGEXP_PATTERN.ATTRIBUTE.exec(t[e][o]);a&&n.push({name:a[1],value:a[2]})}Pn.styles.set(e,Object.assign({},I(),{name:e,items:n,ids:[]}))}}}var Dn='\n<?xml version="1.0" encoding="utf-8"?>\n<animated-vector xmlns:android="http://schemas.android.com/apk/res/android" android:drawable="@drawable/{&vectorName}">\n<<A>>\n\t<target android:name="{&name}" android:animation="@anim/{&animationName}" />\n<<A>>\n</animated-vector>',Bn='\n<?xml version="1.0" encoding="utf-8"?>\n<set xmlns:android="http://schemas.android.com/apk/res/android">\n<<A>>\n\t<set android:name="{~name}" android:ordering="{~ordering}">\n\t<<AA>>\n\t\t<set android:name="{~name}" android:ordering="{~ordering}">\n\t\t<<repeating>>\n\t\t\t<objectAnimator\n\t\t\t\tandroid:propertyName="{~propertyName}"\n\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\tandroid:valueTo="{~valueTo}"\n\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\tandroid:duration="{~duration}"\n\t\t\t\tandroid:repeatCount="{&repeatCount}"\n\t\t\t\tandroid:repeatMode="{~repeatMode}"\n\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\tandroid:fillAfter="{~fillAfter}"\n\t\t\t\tandroid:fillBefore="{~fillBefore}"\n\t\t\t\tandroid:fillEnabled="{~fillEnabled}">\n\t\t\t<<propertyValues>>\n\t\t\t\t<propertyValuesHolder android:propertyName="{&propertyName}">\n\t\t\t\t<<keyframes>>\n\t\t\t\t\t<keyframe android:interpolator="{~interpolator}" android:fraction="{~fraction}" android:value="{~value}" />\n\t\t\t\t<<keyframes>>\n\t\t\t\t</propertyValuesHolder>\n\t\t\t<<propertyValues>>\n\t\t\t</objectAnimator>\n\t\t<<repeating>>\n\t\t<<indefinite>>\n\t\t\t<set android:name="{~name}" android:ordering="{~ordering}">\n\t\t\t<<repeat>>\n\t\t\t\t<objectAnimator\n\t\t\t\t\tandroid:propertyName="{&propertyName}"\n\t\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\t\tandroid:valueTo="{&valueTo}"\n\t\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\t\tandroid:duration="{~duration}"\n\t\t\t\t\tandroid:repeatCount="{~repeatCount}" />\n\t\t\t<<repeat>>\n\t\t\t</set>\n\t\t<<indefinite>>\n\t\t</set>\n\t\t<<fill>>\n\t\t<set android:ordering="{~ordering}">\n\t\t<<replace>>\n\t\t\t<objectAnimator\n\t\t\t\tandroid:propertyName="{&propertyName}"\n\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\tandroid:valueTo="{&valueTo}"\n\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\tandroid:duration="{~duration}"\n\t\t\t\tandroid:repeatCount="{~repeatCount}" />\n\t\t<<replace>>\n\t\t</set>\n\t\t<<fill>>\n\t<<AA>>\n\t</set>\n<<A>>\n</set>';squared.svg||(squared.svg={lib:{}});var kn=squared.svg.Svg,Mn=squared.svg.SvgAnimateTransform,Xn=squared.svg.SvgBuild,Gn=squared.svg.SvgG,Vn=squared.svg.SvgPath;const Fn=squared.lib.color,zn=squared.lib.util,Hn=squared.lib.xml,Wn=squared.svg.lib.constant,$n=squared.svg.lib.util,qn={ACCELERATE_DECELERATE:"@android:anim/accelerate_decelerate_interpolator",ACCELERATE:"@android:anim/accelerate_interpolator",ANTICIPATE:"@android:anim/anticipate_interpolator",ANTICIPATE_OVERSHOOT:"@android:anim/anticipate_overshoot_interpolator",BOUNCE:"@android:anim/bounce_interpolator",CYCLE:"@android:anim/cycle_interpolator",DECELERATE:"@android:anim/decelerate_interpolator",LINEAR:"@android:anim/linear_interpolator",OVERSHOOT:"@android:anim/overshoot_interpolator"};Wn&&Object.assign(qn,{[Wn.KEYSPLINE_NAME["ease-in"]]:qn.ACCELERATE,[Wn.KEYSPLINE_NAME["ease-out"]]:qn.DECELERATE,[Wn.KEYSPLINE_NAME["ease-in-out"]]:qn.ACCELERATE_DECELERATE,[Wn.KEYSPLINE_NAME.linear]:qn.LINEAR});const Un='\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n\tandroid:controlY2="{3}" />',Yn={stroke:"strokeColor",fill:"fillColor",opacity:"alpha","stroke-opacity":"strokeAlpha","fill-opacity":"fillAlpha","stroke-width":"strokeWidth",d:"pathData"},jn={},Kn=v.STORED;function Zn(t,e){return`${t.name}_${e}`}function Jn(t,e){if(t&&t[e]){if(qn[t[e]])return qn[t[e]];{const n=`path_interpolator_${zn.convertWord(t[e])}`;if(!Kn.animators.has(n)){const o=zn.formatString(Un,...t[e].split(" "));Kn.animators.set(n,o)}return`@anim/${n}`}}return""}function Qn(t){const e={};if(t)for(let n=0;n<t.length;n++){const o=t[n],a=o.matrix;switch(o.type){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+a.a,e.scaleY=""+a.d;break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+o.angle,o.origin&&(e.pivotX=""+o.origin.x,e.pivotY=""+o.origin.y);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+a.e,e.translateY=""+a.f}}return e}function to(t,e){let n=0,o=0;return function(t){const e=[];let n=t.parentElement;for(;n&&(e.push(n),!((n=n.parentElement)instanceof HTMLElement)););return e}(t).forEach(t=>{($n.SVG.svg(t)||$n.SVG.use(t))&&t!==e&&(n+=t.x.baseVal.value,o+=t.y.baseVal.value)}),{x:n,y:o}}function eo(t,e,n=1,o=1){if(e.length&&($n.SVG.circle(t)||$n.SVG.ellipse(t))){if(-1!==e.findIndex(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(n!==o||e.length>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d)))return no(t,e,n,o)}return[[],e]}function no(t,e,n=1,o=1){if(e.length){const i=[],r=[],s=e[0].css?[]:$n.getTransformRotate(t);s.reverse();const l=e.slice(0).reverse(),d=new Set;let c=[];function a(t){c.length&&(c.reverse(),i.push(c),c=[],t&&c.push(t),d.clear())}for(let t=0;t<l.length;t++){const e=l[t],h=0===i.length&&0===c.length;if(!h&&d.has(e.type)){const t=c[c.length-1];if(e.type===t.type)switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:t.matrix.e+=e.matrix.e,t.matrix.f+=e.matrix.f;continue;case SVGTransform.SVG_TRANSFORM_SCALE:t.matrix.a*=e.matrix.a,t.matrix.d*=e.matrix.d;continue}a(e)}else switch(e.type){case SVGTransform.SVG_TRANSFORM_SCALE:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_TRANSLATE:h&&0===e.matrix.b&&0===e.matrix.c?r.push(e):c.push(e);break;case SVGTransform.SVG_TRANSFORM_ROTATE:if(s.length){const t=s.shift();t.angle===e.angle&&(e.origin=t)}if(!h||n!==o||0!==t&&r[r.length-1].type!==SVGTransform.SVG_TRANSFORM_ROTATE){h||a(),c.push(e);continue}r.push(e)}h||d.add(e.type)}return a(),[i,r]}return[[],e]}class oo extends squared.base.Extension{constructor(){super(...arguments),this.options={excludeFromTransform:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},vectorAnimateOrdering:"together",vectorAnimateInterpolator:qn.LINEAR},this.eventOnly=!0,this.VECTOR_DATA=new Map,this.ANIMATE_DATA=new Map,this.IMAGE_DATA=[],this.NAMESPACE_AAPT=!1}beforeInit(){Xn&&(void 0===jn.ANIMATED&&(jn.ANIMATED=Hn.parseTemplate(Dn),jn.LAYER_LIST=Hn.parseTemplate($e),jn.SET_OBJECTANIMATOR=Hn.parseTemplate(Bn)),Xn.setName()),this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg")}afterResources(){for(const t of this.application.processing.cache)if(t.svgElement){const e=new kn(t.element),n=zn.convertWord(`${t.tagName.toLowerCase()}_${t.controlId}_viewbox`,!0),o=(t="",e="")=>n+(""!==t?`_${t}`:"")+(this.IMAGE_DATA.length?"_vector":"")+(""!==e?`_${e}`:"");this.VECTOR_DATA.clear(),this.ANIMATE_DATA.clear(),this.IMAGE_DATA.length=0,this.NAMESPACE_AAPT=!1,e.build(this.options.excludeFromTransform,eo),e.synchronize(),this.parseVectorData(t,e,e),this.queueAnimations(e,e.name,t=>"opacity"===t.attributeName);let a="",i="";{const t=Hn.parseTemplate(qe);let n=Hn.createTemplate(t,{namespace:this.NAMESPACE_AAPT?B("aapt"):"",name:e.name,width:zn.formatPX(e.width),height:zn.formatPX(e.height),viewportWidth:e.viewBox.width>0?""+e.viewBox.width:"",viewportHeight:e.viewBox.height>0?""+e.viewBox.height:"",alpha:parseFloat(e.opacity)<1?""+e.opacity:"",A:[],B:[{templateName:e.name}]});const a=new Map;t.__ROOT__=t.A;for(const[e,n]of this.VECTOR_DATA.entries())a.set(e,Hn.createTemplate(t,n));const r=Array.from(a.entries()).reverse();for(let t=0;t<r.length;t++){let e=r[t][1];for(let n=t;n<r.length;n++){const t=`!!${r[n][0]}!!`;if(-1!==e.indexOf(t)){e=e.replace(t,r[n][1]);break}}n=n.replace(`!!${r[t][0]}!!`,e)}n=Hn.formatTemplate(n),""===(i=v.getStoredName("drawables",n))&&(i=o(),Kn.drawables.set(i,n))}if(this.ANIMATE_DATA.size){const e={vectorName:i,A:[]};for(const[n,a]of this.ANIMATE_DATA.entries()){const i={name:n,animationName:o("animation",n)},r={A:[]},s=new Map,l=new Map,d=new Map,c=[],h=[],u=[],p=[],m=[];for(const t of a.animate){const e=t.sequential;if(e)if(Xn.instanceOfAnimateTransform(t)){const n=d.get(e.value)||[];n.push(t),d.set(e.value,n)}else{const n=l.get(e.value)||[];n.push(t),l.set(e.value,n)}else-1===t.repeatCount||t.fillMode<4?h.push(t):c.push(t)}c.length&&u.push(c);for(const t of l.values())u.push(t.sort((t,e)=>t.sequential&&e.sequential&&t.sequential.ordinal>=e.sequential.ordinal?1:-1));for(const t of d.values())m.push(t.sort((t,e)=>t.sequential&&e.sequential&&t.sequential.ordinal>=e.sequential.ordinal?1:-1));for(const t of h)p.push([[t]]);[u,m,...p].forEach((e,o)=>{const i={name:`${n}_${o+1}`,ordering:0===o?"together":"sequentially",AA:[]};s.clear();for(const n of e){let e,r=!1;o>1?e="together":n.some(t=>void 0!==t.sequential)?(e=0===o?"sequentially":"together",r=!0):e=this.options.vectorAnimateOrdering||"together";const l={name:`${i.name}_repeat`,ordering:e,repeating:[],indefinite:[],fill:[]},d={name:`${i.name}_infinite`,ordering:"sequentially",repeat:[]},c={ordering:"together",replace:[]},[h,u]=r?zn.partitionArray(n,t=>-1===t.repeatCount):[[],n];1===h.length&&(u.push(h[0]),h.length=0);for(const e of u){const n={startOffset:e.delay>0?""+e.delay:""};if(Xn.instanceOfSet(e))zn.hasValue(e.to)&&(n.propertyName=Yn[e.attributeName],n.propertyName&&(n.propertyValues=!1,n.duration=""+Math.max(e.duration,1),n.repeatCount="0",n.valueTo=""+e.to,l.repeating.push(n)));else{let i,d;switch(n.duration=""+e.duration,n.repeatCount=-1!==e.repeatCount?""+Math.ceil(e.repeatCount-1):"-1",r||(zn.hasBit(e.fillMode,2)&&(n.fillEnabled="true",n.fillBefore="true"),e.alternate&&(n.repeatMode="reverse")),e.attributeName){case"transform":case"fill":case"stroke":break;case"opacity":case"stroke-opacity":case"fill-opacity":n.valueType="floatType";break;case"stroke-width":n.valueType="intType";break;case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":n.valueType="pathType";break;default:continue}if(Xn.instanceOfAnimateTransform(e)){switch(e.type){case SVGTransform.SVG_TRANSFORM_ROTATE:d=Mn.toRotateList(e.values),i=["rotation","pivotX","pivotY"];break;case SVGTransform.SVG_TRANSFORM_SCALE:d=Mn.toScaleList(e.values),i=["scaleX","scaleY"];break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:d=Mn.toTranslateList(e.values),i=["translateX","translateY"]}n.valueType="floatType"}else{const t=Yn[e.attributeName];switch(n.valueType){case"intType":d=e.values.map(t=>""+zn.convertInt(t)),t&&(i=[t]);break;case"floatType":d=e.values.map(t=>""+zn.convertFloat(t)),t&&(i=[t]);break;case"pathType":if(a.pathData)t:{if(d=e.values.slice(0),"points"===e.attributeName)for(let t=0;t<d.length;t++){const n=d[t];if(""!==n){const o=Xn.fromNumberList(Xn.toNumberList(n));if(!o.length)break t;d[t]=e.parent&&"polygon"===e.parent.element.tagName?Vn.getPolygon(o):Vn.getPolyline(o)}}else if("d"!==e.attributeName)for(let t=0;t<d.length;t++){const n=d[t];if(""!==n){const o=Xn.toPathCommandList(a.pathData);if(o.length<=1)break t;let i,r,s,l,c,h;switch(e.attributeName){case"x":case"x1":case"x2":case"cx":if(isNaN(i=parseFloat(n)))break t;break;case"y":case"y1":case"y2":case"cy":if(isNaN(r=parseFloat(n)))break t;break;case"r":if(isNaN(s=parseFloat(n)))break t;l=s;break;case"rx":if(isNaN(s=parseFloat(n)))break t;break;case"ry":if(isNaN(l=parseFloat(n)))break t;case"width":if(isNaN(c=parseFloat(n))||c<0)break t;break;case"height":if(isNaN(h=parseFloat(n))||h<0)break t}if(void 0!==i||void 0!==r){const t=o[0],n=o[o.length-1],a=t.points[0],s=n.points[n.points.length-1];let l=!1;if(void 0!==i)switch(e.attributeName){case"x":i-=a.x,l=!0;break;case"x1":case"cx":a.x=i,t.coordinates[0]=i;break;case"x2":s.x=i,n.coordinates[0]=i}if(void 0!==r)switch(e.attributeName){case"y":r-=a.y,l=!0;break;case"y1":case"cy":a.y=r,t.coordinates[1]=r;break;case"y2":s.y=r,n.coordinates[1]=r}if(l)for(const t of o)if(!t.relative)for(let e=0,n=0;e<t.coordinates.length;e+=2,n++){const o=t.points[n];void 0!==i&&(t.coordinates[e]+=i,o.x+=i),void 0!==r&&(t.coordinates[e+1]+=r,o.y+=r)}}else if(void 0!==s||void 0!==l)for(const t of o)"A"===t.command.toUpperCase()&&(void 0!==s&&(t.radiusX=s,t.coordinates[0]=2*s*(t.coordinates[0]<0?-1:1)),void 0!==l&&(t.radiusY=l));else{if(void 0===c&&void 0===h){d[t]=d[t-1]||a.pathData;continue}for(const t of o)switch(t.command){case"h":void 0!==c&&(t.coordinates[0]=c*(t.coordinates[0]<0?-1:1));break;case"v":void 0!==h&&(t.coordinates[1]=h)}}d[t]=Xn.fromPathCommandList(o)}}i=["pathData"]}break;default:if(d=e.values.slice(0),t&&(i=[t]),i)for(let t=0;t<d.length;t++){const e=Fn.parseRGBA(d[t]);e&&(d[t]=`@color/${v.addColor(e)}`)}}}if(d&&i){void 0===e.keySplines&&(n.interpolator=this.options.vectorAnimateInterpolator);const a=1!==o?JSON.stringify(n):"";for(let o=0;o<i.length;o++){const h=Object.assign({},n);let u="";if(t.localSettings.targetAPI>=23&&!r&&"pathType"!==h.valueType&&e.keyTimes.length>1&&!e.fromToType){const t=s.get(a)||[],n=[];for(let t=0;t<e.keyTimes.length;t++){let a;if(Array.isArray(d[t])){const e=d[t][o];void 0!==e&&(a=null!==e?""+e:"")}else a=""+d[t];if(void 0!==a){const o=Jn(e.keySplines,t-1);n.push({interpolator:o,fraction:0===e.keyTimes[t]&&""===a?"":""+e.keyTimes[t],value:a})}}n.length&&(t.push({propertyName:i[o],keyframes:n}),s.has(a)||(""!==a&&s.set(a,t),h.propertyValues=t,l.repeating.push(h)),u=n[n.length-1].value)}else{if(h.propertyName=i[o],h.interpolator=Jn(e.keySplines,0),Array.isArray(d[0])){let t=null;if(e.duration>0){if(d.length>1){const t=d[0][o];null!==t&&(h.valueFrom=""+t,u=h.valueFrom)}t=d[d.length-1][o]}else 0===e.duration&&0===e.keyTimes[0]&&(t=d[0][o],h.repeatCount="0");if(null===t)continue;h.valueTo=""+t}else d.length>1?(h.valueFrom=""+d[0],h.valueTo=""+d[d.length-1]):(h.valueFrom=e.from,h.valueTo=e.to),u=h.valueTo;h.valueTo&&(h.propertyValues=!1,l.repeating.push(h))}if(!r&&e.fillMode<4){let t;if(Xn.instanceOfAnimateTransform(e))switch(i[o]){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":t="0";break;case"scaleX":case"scaleY":t="1"}else if(Xn.instanceOfShape(e.parent)&&e.parent.path){let n;if("pathData"===i[o])n="value";else for(const t in Yn)if(Yn[t]===i[o]){n=zn.convertCamelCase(t);break}n&&(t=e.parent.path[n])}zn.hasValue(t)&&c.replace.push({propertyName:i[o],duration:"1",repeatCount:"0",valueType:n.valueType||"",valueFrom:"pathType"===n.valueType?u:"",valueTo:""+t})}}}}}if(h.length){const t=l.repeating.length?d.repeat:l.repeating;for(const e of h)t.push({propertyName:"pathData",interpolator:Jn(e.keySplines,0),startOffset:e.delay>0?""+e.delay:"",duration:""+e.duration,repeatCount:"0",valueType:"pathType",valueFrom:e.from,valueTo:e.to})}l.repeating.length&&(c.replace.length&&("sequentially"===i.ordering?l.fill.push(c):l.repeating.push(...c.replace)),d.repeat.length&&l.indefinite.push(d),i.AA&&i.AA.push(l))}zn.isArray(i.AA)&&r.A.push(i)}),r.A.length&&(Kn.animators.set(i.animationName,Hn.createTemplate(jn.SET_OBJECTANIMATOR,r)),e.A.push(i))}if(e.A.length){const t=Hn.createTemplate(jn.ANIMATED,e);""===(i=v.getStoredName("drawables",t))&&(i=o("animation"),Kn.drawables.set(i,t))}}if(this.IMAGE_DATA.length){const t=[];for(const n of this.IMAGE_DATA){const o=e.width/e.viewBox.width,a=e.height/e.viewBox.height;let i=n.getBaseValue("x",0)*o,r=n.getBaseValue("y",0)*a,s=n.getBaseValue("width",0),l=n.getBaseValue("height",0);const d=to(n.element,e.element);i+=d.x,r+=d.y,l*=a;const c={width:zn.formatPX(s*=o),height:zn.formatPX(l),left:0!==i?zn.formatPX(i):"",top:0!==r?zn.formatPX(r):"",src:v.addImage({mdpi:n.href}),rotate:[]};if(n.rotateOrigin&&n.rotateOrigin.angle)c.rotate.push({src:c.src,fromDegrees:""+n.rotateOrigin.angle,visible:n.visible?"true":"false"}),c.src="";else if(!n.visible)continue;t.push(c)}let o=Hn.createTemplate(jn.LAYER_LIST,{A:[],B:!1,C:[{src:i}],D:t,E:!1,F:!1});o=Hn.formatTemplate(o),""===(a=v.getStoredName("drawables",o))&&Kn.drawables.set(a=n,o)}else a=i;""!==a&&t.android("src",`@drawable/${a}`),t.hasWidth||t.android("layout_width","wrap_content"),t.hasHeight||t.android("layout_height","wrap_content")}}afterFinalize(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}parseVectorData(t,e,n){const o=this.createGroup(n,e!==n);for(let a=0;a<n.children.length;a++){const i=n.children[a],r=[],s=[];if(Xn.instanceOfShape(i)){if(!(i.visible&&i.path&&i.path.value))continue;r.push(this.createPath(t,e,i,i.path))}else{if(Xn.instanceOfImage(i)){if(0===i.width||0===i.height){const t=this.application.session.image.get(i.href);t&&t.width>0&&t.height>0&&(i.width=t.width,i.height=t.height,i.setRect())}i.extract(this.options.excludeFromTransform.image),(i.visible||i.rotateOrigin)&&this.IMAGE_DATA.push(i);continue}if(Xn.instanceOfContainer(i)){if(!i.visible||!i.length)continue;this.parseVectorData(t,e,i),s.push({templateName:i.name})}}o.BB.push({CCC:r,DDD:s})}this.VECTOR_DATA.set(n.name,o)}createGroup(t,e=!1){const n=[[]],o={group:n,BB:[]};if(e){const e=t.name,[o,a]=no(t.element,t.transform);if(o.length){const e=[];for(let a=0;a<o.length;a++)n[0].push(Object.assign({groupName:Zn(t,`transform_${a+1}`)},Qn(o[a]))),e.push(...o[a]);t.transformed=e.reverse()}const i=`group_${e}`;this.queueAnimations(t,i,t=>Xn.instanceOfAnimateTransform(t)),n[0].push(Object.assign({groupName:i},Qn(a))),!Xn.instance(t)&&!Xn.instanceOfUse(t)||0===t.x&&0===t.y||n[0].push({groupName:Zn(t,"translate"),translateX:""+t.x,translateY:""+t.y})}return o}createPath(t,e,n,o){const a=[[]],i=[],r={name:o.name,render:a,clipPaths:i,fillPattern:!1};if(o.transformResidual)for(let t=0;t<o.transformResidual.length;t++)a[0].push(Object.assign({groupName:Zn(n,`transform_${t+1}`)},Qn(o.transformResidual[t])));!o.rotateOrigin||void 0===o.rotateOrigin.angle&&0===o.rotateOrigin.x&&0===o.rotateOrigin.y||a[0].push({groupName:Zn(n,"rotate"),rotation:""+(o.rotateOrigin.angle||0),pivotX:""+o.rotateOrigin.x,pivotY:""+o.rotateOrigin.y});const s=`group_${n.name}`;this.queueAnimations(n,s,t=>Xn.instanceOfAnimateTransform(t))&&a[0].push({groupName:s}),!Xn.instanceOfUse(n)||0===n.x&&0===n.y||a[0].push({groupName:Zn(n,"translate"),translateX:""+n.x,translateY:""+n.y});for(const t in o)zn.isString(o[t])&&(r[t]=o[t]);const l=Xn.getContainerOpacity(n);if(r.fillOpacity=""+parseFloat(r.fillOpacity||"1")*l,r.strokeOpacity=""+parseFloat(r.strokeOpacity||"1")*l,o.clipPath){const t=e.patterns.clipPath.get(o.clipPath);if(t){const e=new Gn(t);e.build(this.options.excludeFromTransform,eo),e.synchronize(),e.each(t=>{t.path&&t.path.value&&(i.push({clipPathName:t.name,clipPathData:t.path.value}),this.queueAnimations(t,t.name,t=>Xn.instanceOfAnimate(t),t.path.value))})}}switch(["fill","stroke"].forEach(n=>{const a=`${n}Pattern`,i=r[a];if(i){const s=e.patterns.gradient.get(i);if(s)switch(o.element.tagName){case"path":if(!/[zZ]\s*$/.test(o.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const e=v.createBackgroundGradient(t,[s],o);if(e.length)return r[n]="",r[a]=[{gradients:e}],void(this.NAMESPACE_AAPT=!0);break}}r[n]||(r[n]=r.color)}const s=v.addColor(r[n]);""!==s&&(r[n]=`@color/${s}`),r[a]=!1}),r.fillRule){case"evenodd":r.fillRule="evenOdd";break;case"nonzero":r.fillRule="nonZero"}return this.queueAnimations(n,n.name,t=>Xn.instanceOfAnimate(t),r.value),r}queueAnimations(t,e,n,o=""){const a=t.animation.filter(n).filter(t=>!t.paused&&t.begin.length>0&&(t.duration>0||Xn.instanceOfSet(t)&&0===t.duration));return!!a.length&&(this.ANIMATE_DATA.set(e,{element:t.element,animate:a,pathData:o}),!0)}}let ao,io,ro,so=!1;function lo(t){return so&&!!t&&(t.closed||!(!ao||!ao.userSettings.autoCloseOnWrite||ao.initialized||ao.closed||(ao.finalize(),0)))}const co={base:{Controller:ct,File:St,Resource:v,View:W},extensions:{Accessibility:Nt,CssGrid:kt,External:Mt,Flexbox:Ht,Grid:Ut,List:Qt,Relative:te,Sprite:ie,Table:ce,VerticalAlign:pe,WhiteSpace:me,constraint:{Guideline:ye},delegate:{Fixed:_e,MaxWidthHeight:Ne,Percent:Pe,RadioGroup:Me,ScrollBar:We},resource:{Background:an,Dimens:hn,Fonts:wn,Includes:Sn,Strings:Cn,Styles:Ln,Svg:oo}},lib:{constant:c,enumeration:e,util:k},system:{customize(t,e,n){if(u[t]){const o=u[t].customizations;void 0===o[e]&&(o[e]={}),Object.assign(o[e],n)}},addXmlNs(t,e){l[t]=e},writeLayoutAllXml:(t=!1)=>io&&lo(ao)?io.layoutAllToXml(ao.sessionData,t):{},writeResourceAllXml:(t=!1)=>io&&lo(ao)?io.resourceAllToXml(t):{},writeResourceStringXml:(t=!1)=>io&&lo(ao)?io.resourceStringToXml(t):[],writeResourceArrayXml:(t=!1)=>io&&lo(ao)?io.resourceStringArrayToXml(t):[],writeResourceFontXml:(t=!1)=>io&&lo(ao)?io.resourceFontToXml(t):[],writeResourceColorXml:(t=!1)=>io&&lo(ao)?io.resourceColorToXml(t):[],writeResourceStyleXml:(t=!1)=>io&&lo(ao)?io.resourceStyleToXml(t):[],writeResourceDimenXml:(t=!1)=>io&&lo(ao)?io.resourceDimenToXml(t):[],writeResourceDrawableXml:(t=!1)=>io&&lo(ao)?io.resourceDrawableToXml(t):[],writeResourceDrawableImageXml:(t=!1)=>io&&lo(ao)?io.resourceDrawableImageToXml(t):[],writeResourceAnimXml:(t=!1)=>io&&lo(ao)?io.resourceAnimToXml(t):[]},create(){const t=squared.base.lib.constant.EXT_NAME,e=n;return ao=new squared.base.Application(2,ct,v,ht,W),io=new St(ao.resourceHandler),ro=Object.assign({},m),Object.assign(ao.builtInExtensions,{[t.EXTERNAL]:new Mt(t.EXTERNAL,2),[t.SUBSTITUTE]:new re(t.SUBSTITUTE,2),[t.SPRITE]:new ie(t.SPRITE,2),[t.CSS_GRID]:new kt(t.CSS_GRID,2),[t.FLEXBOX]:new Ht(t.FLEXBOX,2),[t.TABLE]:new ce(t.TABLE,2,["TABLE"]),[t.LIST]:new Qt(t.LIST,2,["UL","OL","DL","DIV"]),[t.GRID]:new Ut(t.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"]),[t.RELATIVE]:new te(t.RELATIVE,2),[t.VERTICAL_ALIGN]:new pe(t.VERTICAL_ALIGN,2),[t.WHITESPACE]:new me(t.WHITESPACE,2),[t.ACCESSIBILITY]:new Nt(t.ACCESSIBILITY,2),[e.CONSTRAINT_GUIDELINE]:new ye(e.CONSTRAINT_GUIDELINE,2),[e.DELEGATE_FIXED]:new _e(e.DELEGATE_FIXED,2),[e.DELEGATE_MAXWIDTHHEIGHT]:new Ne(e.DELEGATE_MAXWIDTHHEIGHT,2),[e.DELEGATE_PERCENT]:new Pe(e.DELEGATE_PERCENT,2),[e.DELEGATE_RADIOGROUP]:new Me(e.DELEGATE_RADIOGROUP,2),[e.DELEGATE_SCROLLBAR]:new We(e.DELEGATE_SCROLLBAR,2),[e.RESOURCE_INCLUDES]:new Sn(e.RESOURCE_INCLUDES,2),[e.RESOURCE_BACKGROUND]:new an(e.RESOURCE_BACKGROUND,2),[e.RESOURCE_SVG]:new oo(e.RESOURCE_SVG,2),[e.RESOURCE_STRINGS]:new Cn(e.RESOURCE_STRINGS,2),[e.RESOURCE_FONTS]:new wn(e.RESOURCE_FONTS,2),[e.RESOURCE_DIMENS]:new hn(e.RESOURCE_DIMENS,2),[e.RESOURCE_STYLES]:new Ln(e.RESOURCE_STYLES,2)}),so=!0,{application:ao,framework:2,userSettings:ro}},cached:()=>so?{application:ao,framework:2,userSettings:ro}:co.create()};return co}();
