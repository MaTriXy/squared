!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((e=e||self).squared=e.squared||{},e.squared.lib={}))}(this,function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e){this.wrapped=e}function r(e){var n,r;function i(n,r){try{var o=e[n](r),h=o.value,c=h instanceof t;Promise.resolve(c?h.wrapped:h).then(function(e){c?i("next",e):a(o.done?"return":"normal",e)},function(e){i("throw",e)})}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(a,o){var h={key:e,arg:t,resolve:a,reject:o,next:null};r?r=r.next=h:(n=r=h,i(e,t))})},"function"!=typeof e.return&&(this.return=void 0)}function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};function a(e,n){return o(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,h=e[Symbol.iterator]();!(r=(o=h.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==h.return||h.return()}finally{if(i)throw a}}return t}(e,n)||h()}function o(e){if(Array.isArray(e))return e}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function u(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return e.sort(function(e,t){for(var i=0;i<r.length;i++){var a=f(e,t,r[i],!0);if(a&&a[0]!==a[1])return 1===n?a[0]>a[1]?1:-1:a[0]<a[1]?1:-1}return 0})}function f(e,n,t,r){for(var i=t.split("."),a=e,o=n,h=Array.isArray(l=i),c=0,l=h?l:l[Symbol.iterator]();;){var u;if(h){if(c>=l.length)break;u=l[c++]}else{if((c=l.next()).done)break;u=c.value}if(void 0===a[u]||void 0===o[u])return(void 0!==a[u]||void 0!==o[u])&&(void 0!==a[u]?[1,0]:[0,1]);a=a[u],o=o[u]}if(r){var f=parseInt(a),s=parseInt(o);if(!isNaN(f)&&!isNaN(s))return[f,s];if(!isNaN(f))return[1,0];if(!isNaN(s))return[0,1]}return[a,o]}var s={CSS_URL:/url\("?#?(.*?)"?\)/,URI:/^[A-Za-z]+:\/\//,UNIT:/^(?:\s*(-?[\d.]+)(px|em|ch|pc|pt|vw|vh|vmin|vmax|mm|cm|in))+$/};function d(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?e.charAt(0)[n?"toUpperCase":"toLowerCase"]()+e.substring(1)[n?"toLowerCase":"toString"]():""}function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",t=(e=e.replace(RegExp("^".concat(n,"+")),"")).match(RegExp("(".concat(n,"[a-z])"),"g"));return t&&t.forEach(function(n){return e=e.replace(n,n[1].toUpperCase())}),e}function p(e){return e&&parseInt(e)||0}function v(e,n,t){if(e){if(y(e))return"".concat(Math.round(e),"px");if((e=e.trim()).endsWith("px")||e.endsWith("%")||"auto"===e)return e;var r=e.match(s.UNIT);if(r){var i=parseFloat(r[1]);switch(r[2]){case"em":case"ch":i*=t||16;break;case"pc":i*=12;case"pt":i*=4/3;break;case"vw":i*=window.innerWidth/100;break;case"vh":i*=window.innerHeight/100;break;case"vmin":i*=Math.min(window.innerWidth,window.innerHeight)/100;break;case"vmax":i*=Math.max(window.innerWidth,window.innerHeight)/100;break;case"mm":i/=10;case"cm":i/=2.54;case"in":i*=n||96}return"".concat(i,"px")}}return"0px"}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<1?"".concat(0===n?Math.round(100*e):parseFloat((100*e).toFixed(n)),"%"):"100%"}function F(e){return"".concat(isNaN(e=parseFloat(e))?0:Math.round(e),"px")}function m(e){return isNaN(e=parseFloat(e))?"0%":e<1?x(e):"".concat(Math.round(e),"%")}function A(e,n){return(e&n)===n}function y(e){return"number"==typeof e||/^-?\d+(\.\d+)?$/.test(e.trim())}function E(e){return"string"==typeof e&&""!==e}function C(e){return Array.isArray(e)&&e.length>0}function b(e){return/^\d+(\.\d+)?%$/.test(e)}function B(e,t,r){var i,a=!1;if(e&&"object"===n(e)){i=e;var o=t.split("."),h=0;do{i=i[o[h]]}while(null!=i&&++h<o.length&&"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i);a=null!=i&&h===o.length}switch(r){case"object":return a?i:null;case"number":return a&&!isNaN(parseInt(i))?parseInt(i):0;case"boolean":return a&&!0===i;default:return a?""+i:""}}function D(e){if(!s.URI.test(e)){var n=location.pathname.split("/");if(n.pop(),"/"===e.charAt(0))e=location.origin+e;else if(e.startsWith("../")){var t,r=[],i=0;e.split("/").forEach(function(e){".."===e?i++:r.push(e)}),(t=n=n.slice(0,Math.max(n.length-i,0))).push.apply(t,r),e=location.origin+n.join("/")}else e="".concat(location.origin+n.join("/"),"/").concat(e)}return e}function S(e,n){return e?e.replace(RegExp("^".concat(n,"+"),"g"),""):""}function w(e,n){return e?e.replace(RegExp("".concat(n,"+$"),"g"),""):""}function k(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t").repeat(e)}function I(e){return e.length?Math.min.apply(null,e):Number.MAX_VALUE}function M(e){return e.length?Math.max.apply(null,e):-1*Number.MAX_VALUE}function N(e){return null!=e&&""!==(""+e).trim()}function L(e,n){return e===n||Math.floor(e)===Math.floor(n)||Math.ceil(e)===Math.ceil(n)||Math.ceil(e)===Math.floor(n)||Math.floor(e)===Math.ceil(n)}function R(e,n){for(var t=[],r=[],i=0;i<e.length;i++){var a=e[i];n(a,i)?t.push(a):r.push(a)}return[t,r]}var O=Object.freeze({REGEX_PATTERN:s,formatString:function(e){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++)e=e.replace("{".concat(n,"}"),n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return e},capitalize:d,convertUnderscore:function(e){var n=(e=e.charAt(0).toLowerCase()+e.substring(1)).match(/([a-z][A-Z])/g);return n&&n.forEach(function(n){return e=e.replace(n,"".concat(n[0],"_").concat(n[1].toLowerCase()))}),e},convertCamelCase:g,convertWord:function(e){return e?e.replace(/[^\w]/g,"_").trim():""},convertInt:p,convertFloat:function(e){return e&&parseFloat(e)||0},convertPX:v,convertPercent:x,convertAlpha:function e(n){for(var t="";n>=c.length;){var r=Math.floor(n/c.length);r>1&&r<=c.length?(t+=c.charAt(r-1),n-=r*c.length):r>c.length&&(t+=e(r*c.length),n-=r*c.length);var i=n%c.length;t+=c.charAt(i),n-=i+c.length}return t=c.charAt(n)+t},convertRoman:function(e){for(var n=(""+e).split(""),t="",r=3;r--;)t=(l[parseInt(n.pop()||"")+10*r]||"")+t;return"M".repeat(parseInt(n.join("")))+t},convertEnum:function(e,n,t){for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i];if(e===n[a])return t[a]}return""},formatPX:F,formatPercent:m,hasBit:A,isNumber:y,isString:E,isArray:C,isUnit:function(e){return s.UNIT.test(e)},isPercent:b,includes:function(e,n){return!!e&&e.split(arguments.length>2&&void 0!==arguments[2]?arguments[2]:",").map(function(e){return e.trim()}).includes(n)},optional:B,optionalAsObject:function(e,n){return B(e,n,"object")},optionalAsString:function(e,n){return B(e,n,"string")},optionalAsNumber:function(e,n){return B(e,n,"number")},optionalAsBoolean:function(e,n){return B(e,n,"boolean")},resolvePath:D,trimNull:function(e){return e?e.trim():""},trimString:function(e,n){return e?S(w(e,n),n):""},trimStart:S,trimEnd:w,repeat:k,indexOf:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<t.length;i++){var a=e.indexOf(t[i]);if(-1!==a)return a}return-1},lastIndexOf:function(e){return e.substring(e.lastIndexOf(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/")+1)},minArray:I,maxArray:M,hasSameValue:function(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];for(var a=0;a<r.length;a++){var o=f(e,n,r[a],!1);if(!o||o[0]!==o[1])return!1}return!0},searchObject:function(e,t){var r=[];if("object"===n(t))for(var i in t){var a=t[i];N(e[a])&&r.push([a,e[a]])}else{var o=function(e){return e===t};for(var h in/^\*.+\*$/.test(t)?o=function(e){return-1!==e.indexOf(t.replace(/\*/g,""))}:/^\*/.test(t)?o=function(e){return e.endsWith(t.replace(/\*/,""))}:/\*$/.test(t)&&(o=function(e){return e.startsWith(t.replace(/\*/,""))}),e)o(h)&&r.push([h,e[h]])}return r},hasValue:N,withinRange:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n>=e-t&&n<=e+t},withinFraction:L,assignWhenNull:function(e,n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])},defaultWhenNull:function(e){for(var t=e,r=0;r<(arguments.length<=1?0:arguments.length-1)-1;r++){var i=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];if(r===(arguments.length<=1?0:arguments.length-1)-2)N(t[i])||(t[i]=r+1+1<1||arguments.length<=r+1+1?void 0:arguments[r+1+1]);else{if(!E(i))break;if("object"===n(t[i]))t=t[i];else{if(void 0!==t[i])break;t[i]={},t=t[i]}}}},partition:R,flatArray:function(e){for(var n=e;n.some(function(e){return Array.isArray(e)});)n=[].concat.apply([],n.filter(function(e){return e}));return n},flatMap:function(e,n){return e.map(function(e,t){return n(e,t)}).filter(function(e){return N(e)})},sortAsc:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return u.apply(void 0,[e,1].concat(t))},sortDesc:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return u.apply(void 0,[e,2].concat(t))}}),T=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._children=[],Array.isArray(n)&&this.retain(n)}var n,t,r;return n=e,(t=[{key:Symbol.iterator,value:function(){var e=this._children,n=0;return{next:function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0,value:void 0}}}}},{key:"item",value:function(e,n){return void 0===e||void 0===n?void 0===e?this._children[this._children.length-1]:this._children[e]:e>=0&&e<this._children.length?(this._children[e]=n,n):void 0}},{key:"append",value:function(e){return this._children.push(e),this}},{key:"remove",value:function(e){for(var n=0;n<this._children.length;n++)if(e===this._children[n])return this._children.splice(n,1);return[]}},{key:"contains",value:function(e){return this._children.includes(e)}},{key:"retain",value:function(e){return this._children=e,this}},{key:"duplicate",value:function(){return this._children.slice()}},{key:"clear",value:function(){return this._children.length=0,this}},{key:"each",value:function(e){return this._children.forEach(e),this}},{key:"find",value:function(e,n){return this._children.find("string"==typeof e?function(t){return t[e]===n}:e)}},{key:"filter",value:function(e){return this._children.filter(e)}},{key:"map",value:function(e){return this._children.map(e)}},{key:"flatMap",value:function(e){return this._children.map(e).filter(function(e){return e})}},{key:"partition",value:function(e){return R(this._children,e)}},{key:"sort",value:function(e){return this._children.sort(e),this}},{key:"every",value:function(e){return this.length>0&&this._children.every(e)}},{key:"some",value:function(e){return this._children.some(e)}},{key:"children",get:function(){return this._children}},{key:"length",get:function(){return this._children.length}}])&&i(n.prototype,t),r&&i(n,r),e}(),G={Pink:{hex:"#FFC0CB"},LightPink:{hex:"#FFB6C1"},HotPink:{hex:"#FF69B4"},DeepPink:{hex:"#FF1493"},PaleVioletRed:{hex:"#DB7093"},MediumVioletRed:{hex:"#C71585"},LightSalmon:{hex:"#FFA07A"},Salmon:{hex:"#FA8072"},DarkSalmon:{hex:"#E9967A"},LightCoral:{hex:"#F08080"},IndianRed:{hex:"#CD5C5C"},Crimson:{hex:"#DC143C"},Firebrick:{hex:"#B22222"},DarkRed:{hex:"#8B0000"},Red:{hex:"#FF0000"},OrangeRed:{hex:"#FF4500"},Tomato:{hex:"#FF6347"},Coral:{hex:"#FF7F50"},Orange:{hex:"#FFA500"},DarkOrange:{hex:"#FF8C00"},Yellow:{hex:"#FFFF00"},LightYellow:{hex:"#FFFFE0"},LemonChiffon:{hex:"#FFFACD"},LightGoldenrodYellow:{hex:"#FAFAD2"},PapayaWhip:{hex:"#FFEFD5"},Moccasin:{hex:"#FFE4B5"},PeachPuff:{hex:"#FFDAB9"},PaleGoldenrod:{hex:"#EEE8AA"},Khaki:{hex:"#F0E68C"},DarkKhaki:{hex:"#BDB76B"},Gold:{hex:"#FFD700"},Cornsilk:{hex:"#FFF8DC"},BlanchedAlmond:{hex:"#FFEBCD"},Bisque:{hex:"#FFE4C4"},NavajoWhite:{hex:"#FFDEAD"},Wheat:{hex:"#F5DEB3"},Burlywood:{hex:"#DEB887"},Tan:{hex:"#D2B48C"},RosyBrown:{hex:"#BC8F8F"},SandyBrown:{hex:"#F4A460"},Goldenrod:{hex:"#DAA520"},DarkGoldenrod:{hex:"#B8860B"},Peru:{hex:"#CD853F"},Chocolate:{hex:"#D2691E"},SaddleBrown:{hex:"#8B4513"},Sienna:{hex:"#A0522D"},Brown:{hex:"#A52A2A"},Maroon:{hex:"#800000"},DarkOliveGreen:{hex:"#556B2F"},Olive:{hex:"#808000"},OliveDrab:{hex:"#6B8E23"},YellowGreen:{hex:"#9ACD32"},LimeGreen:{hex:"#32CD32"},Lime:{hex:"#00FF00"},LawnGreen:{hex:"#7CFC00"},Chartreuse:{hex:"#7FFF00"},GreenYellow:{hex:"#ADFF2F"},SpringGreen:{hex:"#00FF7F"},MediumSpringGreen:{hex:"#00FA9A"},LightGreen:{hex:"#90EE90"},PaleGreen:{hex:"#98FB98"},DarkSeaGreen:{hex:"#8FBC8F"},MediumAquamarine:{hex:"#66CDAA"},MediumSeaGreen:{hex:"#3CB371"},SeaGreen:{hex:"#2E8B57"},ForestGreen:{hex:"#228B22"},Green:{hex:"#008000"},DarkGreen:{hex:"#006400"},Aqua:{hex:"#00FFFF"},Cyan:{hex:"#00FFFF"},LightCyan:{hex:"#E0FFFF"},PaleTurquoise:{hex:"#AFEEEE"},Aquamarine:{hex:"#7FFFD4"},Turquoise:{hex:"#40E0D0"},DarkTurquoise:{hex:"#00CED1"},MediumTurquoise:{hex:"#48D1CC"},LightSeaGreen:{hex:"#20B2AA"},CadetBlue:{hex:"#5F9EA0"},DarkCyan:{hex:"#008B8B"},Teal:{hex:"#008080"},LightSteelBlue:{hex:"#B0C4DE"},PowderBlue:{hex:"#B0E0E6"},LightBlue:{hex:"#ADD8E6"},SkyBlue:{hex:"#87CEEB"},LightSkyBlue:{hex:"#87CEFA"},DeepSkyBlue:{hex:"#00BFFF"},DodgerBlue:{hex:"#1E90FF"},Cornflower:{hex:"#6495ED"},SteelBlue:{hex:"#4682B4"},RoyalBlue:{hex:"#4169E1"},Blue:{hex:"#0000FF"},MediumBlue:{hex:"#0000CD"},DarkBlue:{hex:"#00008B"},Navy:{hex:"#000080"},MidnightBlue:{hex:"#191970"},Lavender:{hex:"#E6E6FA"},Thistle:{hex:"#D8BFD8"},Plum:{hex:"#DDA0DD"},Violet:{hex:"#EE82EE"},Orchid:{hex:"#DA70D6"},Fuchsia:{hex:"#FF00FF"},Magenta:{hex:"#FF00FF"},MediumOrchid:{hex:"#BA55D3"},MediumPurple:{hex:"#9370DB"},BlueViolet:{hex:"#8A2BE2"},DarkViolet:{hex:"#9400D3"},DarkOrchid:{hex:"#9932CC"},DarkMagenta:{hex:"#8B008B"},Purple:{hex:"#800080"},RebeccaPurple:{hex:"#663399"},Indigo:{hex:"#4B0082"},DarkSlateBlue:{hex:"#483D8B"},SlateBlue:{hex:"#6A5ACD"},MediumSlateBlue:{hex:"#7B68EE"},White:{hex:"#FFFFFF"},Snow:{hex:"#FFFAFA"},Honeydew:{hex:"#F0FFF0"},MintCream:{hex:"#F5FFFA"},Azure:{hex:"#F0FFFF"},AliceBlue:{hex:"#F0F8FF"},GhostWhite:{hex:"#F8F8FF"},WhiteSmoke:{hex:"#F5F5F5"},Seashell:{hex:"#FFF5EE"},Beige:{hex:"#F5F5DC"},OldLace:{hex:"#FDF5E6"},FloralWhite:{hex:"#FFFAF0"},Ivory:{hex:"#FFFFF0"},AntiqueWhite:{hex:"#FAEBD7"},Linen:{hex:"#FAF0E6"},LavenderBlush:{hex:"#FFF0F5"},MistyRose:{hex:"#FFE4E1"},Gainsboro:{hex:"#DCDCDC"},LightGray:{hex:"#D3D3D3"},Silver:{hex:"#C0C0C0"},DarkGray:{hex:"#A9A9A9"},Gray:{hex:"#808080"},DimGray:{hex:"#696969"},LightSlateGray:{hex:"#778899"},SlateGray:{hex:"#708090"},DarkSlateGray:{hex:"#2F4F4F"},LightGrey:{hex:"#D3D3D3"},DarkGrey:{hex:"#A9A9A9"},Grey:{hex:"#808080"},DimGrey:{hex:"#696969"},LightSlateGrey:{hex:"#778899"},SlateGrey:{hex:"#708090"},DarkSlateGrey:{hex:"#2F4F4F"},Black:{hex:"#000000"}},P=[];for(var _ in G){var U=G[_];U.name=_;var X=Y(U.hex);X&&(U.rgba=X,U.hsl=W(U.rgba),P.push(U))}function W(e){var n=e.r,t=void 0===n?0:n,r=e.g,i=void 0===r?0:r,a=e.b,o=void 0===a?0:a,h=Math.min(t/=255,i/=255,o/=255),c=Math.max(t,i,o),l=(c+h)/2,u=l,f=l;if(c===h)l=0,u=0;else{var s=c-h;switch(u=f>.5?s/(2-c-h):s/(c+h),c){case t:l=(i-o)/s+(i<o?6:0);break;case i:l=(o-t)/s+2;break;case o:l=(t-i)/s+4}l/=6}return{h:360*l,s:100*u,l:100*f}}function H(e,n){if(e.hsl&&n.hsl){var t=[e.hsl.h,n.hsl.h],r=t[0],i=t[1];if(r===i){var a=[e.hsl.s,n.hsl.s];if((r=a[0])===(i=a[1])){var o=[e.hsl.l,n.hsl.l];r=o[0],i=o[1]}}return r>=i?1:-1}return 0}function j(e){return"rgb".concat(e.a<255?"a":"","(").concat(e.r,", ").concat(e.g,", ").concat(e.b).concat(e.a<255?", ".concat((e.a/255).toFixed(2)):"",")")}function V(e){return parseFloat(e)<1?q("255",parseFloat(e)):"FF"}function z(e){for(var n in G)if(n.toLowerCase()===e.trim().toLowerCase())return G[n];return null}function q(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="0123456789ABCDEF",r=parseInt(e)*n;return isNaN(r)?"00":t.charAt(((r=Math.max(0,Math.min(r,255)))-r%16)/16)+t.charAt(r%16)}function Y(e){if(e=e.replace(/#/g,"").trim(),/[A-Za-z\d]{3,}/.test(e)){var n=255;switch(e.length){case 4:n=parseInt(e.charAt(3).repeat(2),16);case 3:e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2);break;case 5:e+=e.charAt(4);break;default:e.length>=8&&(n=parseInt(e.substring(6,8),16)),e=e.substring(0,6)}if(6===e.length)return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16),a:n}}return null}function $(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";if(e&&"initial"!==e&&"transparent"!==e){if(""===n.trim()&&(n="1"),"#"===e.charAt(0)){var t=Y(e);t&&(e=j(t))}else if(!e.startsWith("rgb")){var r=z(e);r&&r.rgba&&(r.rgba.a=parseFloat(V(n)),e=j(r.rgba))}var i=e.match(/rgba?\((\d+), (\d+), (\d+),?\s*([\d.]+)?\)/);if(i&&i.length>=4&&(void 0===i[4]||parseFloat(i[4])>0)){void 0===i[4]&&(i[4]=parseFloat(n).toFixed(2));var a=q(i[1])+q(i[2])+q(i[3]),o=V(i[4]),h="#".concat(a+o),c=parseFloat(i[4]);return{valueRGB:"#".concat(a),valueRGBA:h,valueARGB:"#".concat(o+a),alpha:c,rgba:Y(h),opaque:c<1,visible:c>0}}}return null}P.sort(H);var K=Object.freeze({getColorByName:z,getColorByShade:function(e){var n=P.slice(),t=n.findIndex(function(n){return n.hex===e});if(-1!==t)return n[t];var r=Y(e);if(r){var i=W(r);if(i)return n.push({name:"",hsl:i,rgba:{r:-1,g:-1,b:-1,a:1},hex:""}),n.sort(H),t=n.findIndex(function(e){return""===e.name}),n[Math.min(t+1,n.length-1)]}return null},convertHex:q,convertRGBA:Y,parseRGBA:$,reduceRGBA:function(e,n){var t=Y(e);if(t){var r=n<0?0:255;return t.r=Math.round((r-t.r)*(n=Math.abs(n)))+t.r,t.g=Math.round((r-t.g)*n)+t.g,t.b=Math.round((r-t.b)*n)+t.b,$(j(t))}return null}});function Z(){return{top:0,left:0,right:0,bottom:0}}function Q(){return Object.assign({width:0,height:0},{top:0,left:0,right:0,bottom:0})}function J(e,n,t,r){return arguments.length>4&&void 0!==arguments[4]&&arguments[4]?b(e)?p(e)/100:parseFloat(v(e,t,r))/n:b(e)?Math.round(n*(p(e)/100)):parseInt(v(e,t,r))}function ee(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ne(e){if(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=he(e,"style");if(n)return n;var t=ce(e);if(t){if(t.style)return t.style;if(t.plainText)return t.unsafe("styleMap")}}if("#"!==e.nodeName.charAt(0)){var r=getComputedStyle(e);return oe(e,"style",r),r}}return{display:"none"}}function te(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return!("#"===e.nodeName.charAt(0)||!r.includes(ne(e)[n]))||!!e.parentElement&&r.includes(ne(e.parentElement)[n])}function re(e){if(e&&"#text"===e.nodeName&&e.textContent){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(var n=e.textContent,t=!1,r=0;r<n.length;r++)switch(n.charCodeAt(r)){case 9:case 10:case 13:case 32:continue;default:t=!0}return t&&""!==n}return""!==e.textContent.trim()}return!1}function ie(e){return e instanceof HTMLElement||e instanceof SVGSVGElement}function ae(e){var n=e.getBoundingClientRect();return 0!==n.width&&0!==n.height&&!(n.left<0&&n.top<0&&Math.abs(n.left)>=n.width&&Math.abs(n.top)>=n.height)}function oe(e,n,t){e["__".concat(n)]=t}function he(e,n){return e["__".concat(n)]||void 0}function ce(e){return E(e.className)&&e.className.startsWith("squared")?void 0:he(e,"node")}var le=Object.freeze({ELEMENT_BLOCK:["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","CANVAS","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","LI","MAIN","NAV","OL","OUTPUT","P","PRE","SECTION","TFOOT","TH","THEAD","TR","UL","VIDEO"],ELEMENT_INLINE:["A","ABBR","ACRONYM","B","BDO","BIG","BR","BUTTON","CITE","CODE","DFN","EM","I","IFRAME","IMG","INPUT","KBD","LABEL","MAP","OBJECT","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TT","U","VAR","PLAINTEXT"],isUserAgent:function(e){if("string"==typeof e){var n=e.toUpperCase();e=0,-1!==n.indexOf("CHROME")&&(e|=2),-1!==n.indexOf("SAFARI")&&(e|=4),-1!==n.indexOf("FIREFOX")&&(e|=16),-1!==n.indexOf("EDGE")&&(e|=8)}return A(e,-1!==navigator.userAgent.indexOf("Edge")?8:-1!==navigator.userAgent.indexOf("Firefox")?16:-1===navigator.userAgent.indexOf("Chrome")&&-1!==navigator.userAgent.indexOf("Safari")?4:2)},getDataSet:function(e,n){var t={};if(ie(e)||e instanceof SVGElement)for(var r in n=g(n,"\\."),e.dataset)r.length>n.length&&r.startsWith(n)&&(t[d(r.substring(n.length),!1)]=e.dataset[r]);return t},newBoxRect:Z,newRectDimensions:Q,newBoxModel:function(){return{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}},createElement:function(e){var n=document.createElement(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"div":"span"),t=n.style;return t.position="static",t.margin="0px",t.padding="0px",t.border="none",t.cssFloat="none",t.clear="none",t.display="none",n.className="__css.placeholder",e instanceof HTMLElement&&e.appendChild(n),n},removeElementsByClassName:function(e){Array.from(document.getElementsByClassName(e)).forEach(function(e){return e.parentElement&&e.parentElement.removeChild(e)})},convertClientUnit:J,getRangeClientRect:function(e){var n=document.createRange();n.selectNodeContents(e);var t=Array.from(n.getClientRects()).filter(function(e){return!(0===Math.round(e.width)&&L(e.left,e.right))}),r=Q(),i=0;if(t.length){r=ee(t[0]);for(var a=new Set([r.top]),o=new Set([r.bottom]),h=1;h<t.length;h++){var c=t[h];a.add(c.top),o.add(c.bottom),r.width+=c.width,r.right=Math.max(c.right,r.right),r.height=Math.max(c.height,r.height)}a.size>1&&o.size>1&&(r.top=I(Array.from(a)),r.bottom=M(Array.from(o)),t[t.length-1].top>=t[0].bottom&&e.textContent&&(""!==e.textContent.trim()||/^\s*\n/.test(e.textContent))&&(i=t.length-1))}return Object.assign(r,{multiLine:i})},assignBounds:ee,getStyle:ne,cssResolveUrl:function(e){var n=e.match(s.CSS_URL);return n?D(n[1]):""},cssInherit:function(e,n,t,r){for(var i="",a=e.parentElement;a&&(void 0===r||!r.includes(a.tagName))&&(("inherit"===(i=ne(a)[n])||t&&t.some(function(e){return-1!==i.indexOf(e)}))&&(i=""),a!==document.body&&!i);)a=a.parentElement;return i||""},cssParent:te,cssFromParent:function(e,n){if(e.parentElement&&ie(e)){var t=ce(e),r=ne(e);if(t&&r)return r[n]===ne(e.parentElement)[n]&&!t.cssInitial(n)}return!1},cssAttribute:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getAttribute(n)||(!t&&e.parentElement instanceof SVGGElement?e.parentElement.getAttribute(n):"");if(!r){var i=ce(e);i&&(r=i.cssInitial(n))}return!r&&t?ne(e)[g(n)]:r||""},getBackgroundPosition:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o={top:0,left:0,right:0,bottom:0,horizontal:"left",vertical:"top",originalX:"",originalY:""},h="center"===e?["center","center"]:e.split(" ");return 4===h.length?h.forEach(function(e,h){switch(h){case 0:o.horizontal=e;break;case 2:o.vertical=e;break;case 1:case 3:var c=J(e,1===h?n.width:n.height,t,r,a);1===h?i?"right"===o.horizontal?(o.originalX=b(e)?m(100-parseInt(e)):F(n.width-parseInt(v(e,t,r))),o.right=c,o.left=a?1-c:n.width-c):(o.left=c,o.originalX=e):"center"!==o.horizontal&&(o[o.horizontal]=c):i?"bottom"===o.vertical?(o.originalY=b(e)?m(100-parseInt(e)):F(n.height-parseInt(v(e,t,r))),o.bottom=c,o.top=a?1-c:n.height-c):(o.top=c,o.originalY=e):"center"!==o.vertical&&(o[o.vertical]=c)}}):2===h.length&&h.forEach(function(e,h){var c=0===h?n.width:n.height,l=0===h?"left":"top",u=0===h?"originalX":"originalY",f=J(e,c,t,r,a);if(b(e))o[l]=f,o[u]=e;else if(/^[a-z]+$/.test(e)){if(o[0===h?"horizontal":"vertical"]=e,i)switch(e){case"left":case"top":o[u]="0%";break;case"right":case"bottom":o[l]=a?1:c,o[u]="100%";break;case"center":o[l]=a?.5:Math.round(c/2),o[u]="50%"}}else o[l]=f,o[u]=e}),o},getFirstChildElement:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof HTMLElement)for(var t=0;t<e.childNodes.length;t++){var r=ce(e.childNodes[t]);if(r&&(!r.excluded||n&&r.lineBreak))return r.element}return null},getLastChildElement:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof HTMLElement)for(var t=e.childNodes.length-1;t>=0;t--){var r=ce(e.childNodes[t]);if(r&&(!r.excluded||n&&r.lineBreak))return r.element}return null},hasFreeFormText:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function t(e){return e.some(function(e){if("#text"===e.nodeName){if(re(e,n)||te(e,"whiteSpace","pre","pre-wrap")&&e.textContent&&""!==e.textContent)return!0}else if(e instanceof HTMLElement&&ae(e)&&e.childNodes.length&&t(Array.from(e.childNodes)))return!0;return!1})}return t("#text"===e.nodeName?[e]:Array.from(e.childNodes))},isPlainText:re,hasLineBreak:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var t=e.textContent||"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(t=t.trim()),e instanceof HTMLElement&&e.children.length&&Array.from(e.children).some(function(e){return"BR"===e.tagName}))return!0;if(!n&&/\n/.test(t)){var r=ce(e),i=r?r.css("whiteSpace"):ne(e).whiteSpace||"";return["pre","pre-wrap"].includes(i)||"#text"===e.nodeName&&te(e,"whiteSpace","pre","pre-wrap")}}return!1},isLineBreak:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=ce(e);return!!t&&("BR"===t.tagName||n&&t.excluded&&t.blockStatic)},getElementsBetween:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||e.parentElement===n.parentElement){var i=n.parentElement;if(i){var a=Array.from(i.childNodes),o=e?a.findIndex(function(n){return n===e}):0,h=a.findIndex(function(e){return e===n});if(-1!==o&&-1!==h&&o!==h){var c=a.slice(Math.min(o,h)+1,Math.max(o,h));return c=c.filter(t?function(e){return"#comment"!==e.nodeName}:function(e){return"#"!==e.nodeName.charAt(0)||re(e)}),r&&(c=c.filter(function(e){return ce(e)})),c}}}return[]},getPreviousElementSibling:function(e){for(e=e.previousSibling;e;){var n=ce(e);if(n&&(!n.excluded||n.lineBreak))return n.element;e=e.previousSibling}return null},getNextElementSibling:function(e){for(e=e.nextSibling;e;){var n=ce(e);if(n&&(!n.excluded||n.lineBreak))return n.element;e=e.nextSibling}return null},hasComputedStyle:ie,withinViewportOrigin:ae,setElementCache:oe,getElementCache:he,deleteElementCache:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<t.length;i++)delete e["__".concat(t[i])]},getElementAsNode:ce});function ue(e){return"{".concat((arguments.length>1&&void 0!==arguments[1]?arguments[1]:":")+""+e,"}")}var fe=Object.freeze({formatPlaceholder:ue,replacePlaceholder:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="number"==typeof n?ue(n):n;return e.replace(i,(r?i:"")+t+(r?"":i))},replaceIndent:function(e,n,t){if(n>=0){var r=-1;return e.split("\n").map(function(e){var i=t.exec(e);return i?(-1===r&&(r=i[2].length),i[1]+k(n+(i[2].length-r))+i[3]):e}).join("\n")}return e},replaceTab:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return n>0&&(e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e.split("\n").map(function(e){var t=e.match(/^(\t+)(.*)$/);return t?" ".repeat(n*t[1].length)+t[2]:e}).join("\n"):e.replace(/\t/g," ".repeat(n))),e},replaceEntity:function(e){return e.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n))}).replace(/\u00A0/g,"&#160;").replace(/\u2002/g,"&#8194;").replace(/\u2003/g,"&#8195;").replace(/\u2009/g,"&#8201;").replace(/\u200C/g,"&#8204;").replace(/\u200D/g,"&#8205;").replace(/\u200E/g,"&#8206;").replace(/\u200F/g,"&#8207;")},replaceCharacter:function(e){return e.replace(/&nbsp;/g,"&#160;").replace(/&(?!#?[A-Za-z0-9]{2,};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},parseTemplate:function(e){for(var n,t={__root:e},r=!1,i=e.length,a="";;){if(r){var o=r[0].replace(RegExp("^".concat(r[1],"\\n")),"").replace(RegExp("".concat(r[1],"$")),"");for(var h in t)t[h]=t[h].replace(RegExp(r[0],"g"),"{%".concat(r[2],"}"));t[r[2]]=o,i-=r[0].length,a=r[2]}if(null===r||0===i){if(!a)break;if(!(e=t[a]))break;i=e.length,a="",r=null}if(r||(n=/(!(\w+))\n[\w\W]*\n*\1/g),!n)break;r=n.exec(e)}return t},createTemplate:function e(n,t,r){var i=void 0===r?n.__root.trim():n[r];for(var a in t){var o="";if(C(t[a])){for(var h=0;h<t[a].length;h++)o+=e(n,t[a][h],""+a);o=w(o,"\\n")}else o=t[a];var c="";E(o)&&(c=C(t[a])?"%":"[&~]",i=i.replace(RegExp("{".concat(c+a,"}"),"g"),o)),(!1===o||Array.isArray(o)&&0===o.length||c&&"%"!==c)&&(i=i.replace(RegExp("{%".concat(a,"}\\n*"),"g"),"")),""===c&&RegExp("{&".concat(a,"}")).test(i)&&(i="")}return void 0===r&&(i=i.replace(/\n{%\w+}\n/g,"\n")),i.replace(/\s+([\w:]+="[^"]*)?{~\w+}"?/g,"")},getTemplateSection:function(e){for(var n=e,t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(var o=0;o<r.length;o++){var h=a(r[o].split("-"),2),c=h[0],l=h[1],u=void 0===l?"0":l;if(!n[c]||!n[c][parseInt(u)])return{};n=n[c][parseInt(u)]}return n}});e.base={Container:T},e.color=K,e.dom=le,e.util=O,e.xml=fe,Object.defineProperty(e,"__esModule",{value:!0})});
